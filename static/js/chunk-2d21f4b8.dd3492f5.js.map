{"version":3,"sources":["webpack:///./src/view/dashboard.vue?45b9","webpack:///./src/api/status.js","webpack:///./src/api/deployment.js","webpack:///./src/api/filebrowser.js","webpack:///src/view/dashboard.vue","webpack:///./src/view/dashboard.vue?15d6","webpack:///./src/view/dashboard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$t","on","selectedNamespace","nativeOn","$event","getNamespace","model","value","callback","$$v","namespace","expression","_l","item","key","_v","selecteddeployment","deployment","label","getStatus","_s","staticClass","tableData","scopedSlots","_u","fn","scope","row","OS","openTerminal","_e","openFileBrowser","dialogTerminalVisible","handleClose","dialogFileBrowserVisible","path","fileBrowserData","Path","Name","download","staticRenderFns","GetStatus","params","get","GetDeployment","FileBrowser","namespaces","tableLoading","deployments","pods","container","paths","methods","res","data","items","push","metadata","name","console","log","options","_d","i","pod_name","cData","containers","j","tr","Pods","Container","Image","Tag","ImagePullSecrets","State","CPU","RAM","os","shell","undefined","split","err","alert","info","message","url","xhr","XMLHttpRequest","open","responseType","setRequestHeader","onload","status","content","response","eLink","document","createElement","getResponseHeader","style","display","blob","Blob","href","URL","createObjectURL","body","appendChild","click","removeChild","send","done","$confirm","watch","index","component"],"mappings":"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","file":"js/chunk-2d21f4b8.dd3492f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_select_namespace')},on:{\"change\":_vm.selectedNamespace},nativeOn:{\"click\":function($event){return _vm.getNamespace($event)}},model:{value:(_vm.namespace),callback:function ($$v) {_vm.namespace=$$v},expression:\"namespace\"}},_vm._l((_vm.namespaces),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":_vm.$t('please_select_deployment'),\"multiple\":\"\"},on:{\"change\":_vm.selecteddeployment},model:{value:(_vm.deployment),callback:function ($$v) {_vm.deployment=$$v},expression:\"deployment\"}},[_c('el-option',{attrs:{\"label\":_vm.$t('check_all'),\"value\":\"all\"}}),_vm._l((_vm.deployments),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})],2),_vm._v(\" \"),_c('el-button',{nativeOn:{\"click\":function($event){return _vm.getStatus($event)}}},[_vm._v(_vm._s(_vm.$t('enter')))]),_c('br'),_c('el-table',{staticClass:\"app-table\",attrs:{\"size\":\"medium\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"Pods\",\"label\":_vm.$t('name')}}),_c('el-table-column',{attrs:{\"prop\":\"Container\",\"label\":_vm.$t('container')}}),_c('el-table-column',{attrs:{\"prop\":\"Image\",\"label\":_vm.$t('image')}}),_c('el-table-column',{attrs:{\"prop\":\"Tag\",\"label\":_vm.$t('tag')}}),_c('el-table-column',{attrs:{\"prop\":\"ImagePullSecrets\",\"label\":_vm.$t('image_pull_secrets')}}),_c('el-table-column',{attrs:{\"prop\":\"State\",\"label\":_vm.$t('state')}}),_c('el-table-column',{attrs:{\"prop\":\"CPU\",\"label\":_vm.$t('cpu')}}),_c('el-table-column',{attrs:{\"prop\":\"RAM\",\"label\":_vm.$t('ram')}}),_c('el-table-column',{attrs:{\"prop\":\"OS\",\"label\":_vm.$t('os')}}),_c('el-table-column',{attrs:{\"prop\":\"Operate\",\"label\":_vm.$t('operate'),\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.OS==='unix')?_c('el-button',{staticClass:\"el-icon-s-fold\",nativeOn:{\"click\":function($event){return _vm.openTerminal(scope.row, 'sh')}}},[_vm._v(_vm._s(_vm.$t('sh')))]):_vm._e(),(scope.row.OS==='windows')?_c('el-button',{staticClass:\"el-icon-s-fold\",nativeOn:{\"click\":function($event){return _vm.openTerminal(scope.row, 'cmd')}}},[_vm._v(_vm._s(_vm.$t('cmd')))]):_vm._e(),_c('span'),_c('el-button',{staticClass:\"el-icon-files\",nativeOn:{\"click\":function($event){return _vm.openFileBrowser(scope.row, '/')}}},[_vm._v(_vm._s(_vm.$t('file_browser')))])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.$t('terminal'),\"visible\":_vm.dialogTerminalVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogTerminalVisible=$event},\"close\":function($event){_vm.dialogTerminalVisible = false}}},[_c('div',[_c('span',[_vm._v(\"前端实现中\")]),_c('div',{attrs:{\"id\":\"terminal-container\"}})])]),_c('el-dialog',{attrs:{\"width\":\"80%\",\"title\":_vm.$t('file_browser'),\"visible\":_vm.dialogFileBrowserVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogFileBrowserVisible=$event},\"close\":function($event){_vm.dialogFileBrowserVisible = false}}},[_vm._v(\" \"),_c('span',{staticClass:\"el-icon-refresh\",on:{\"click\":function($event){return _vm.openFileBrowser(null, _vm.path)}}},[_vm._v(\" \"+_vm._s(_vm.$t('refresh')))]),_c('el-table',{staticClass:\"app-table\",attrs:{\"size\":\"100%\",\"data\":_vm.fileBrowserData}},[_c('el-header'),_c('el-table-column',{attrs:{\"prop\":\"Name\",\"label\":_vm.$t('name')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.IsDir)?_c('span',{staticClass:\"el-icon-folder\",on:{\"click\":function($event){return _vm.openFileBrowser(null, scope.row.Path)}}},[_vm._v(\" \"+_vm._s(scope.row.Name))]):_c('span',{staticClass:\"el-icon-files\"},[_vm._v(\" \"+_vm._s(scope.row.Name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"Size\",\"min-width\":\"50\",\"label\":_vm.$t('size')}}),_c('el-table-column',{attrs:{\"prop\":\"Mode\",\"width\":\"200\",\"label\":_vm.$t('mode')}}),_c('el-table-column',{attrs:{\"prop\":\"ModTime\",\"label\":_vm.$t('mod_time')}}),_c('el-table-column',{attrs:{\"prop\":\"Download\",\"label\":_vm.$t('operate'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"el-icon-download\",on:{\"click\":function($event){return _vm.download(scope.row.Path)}}})]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {get} from '@/lib/fetch.js'\r\n\r\nexport function GetStatus(params) {\r\n    return get('/k8s/status', params)\r\n}","import {get} from '@/lib/fetch.js'\r\n\r\nexport function GetDeployment(params) {\r\n    return get('/k8s/deployment', params)\r\n}","import {get} from '@/lib/fetch.js'\r\n\r\nexport function FileBrowser(params) {\r\n    return get('/k8s/file_browser', params)\r\n}","<template>\r\n  <div>\r\n    <el-card shadow=\"never\">\r\n        <el-select v-model=\"namespace\" @click.native=\"getNamespace\" @change=\"selectedNamespace\" filterable :placeholder=\"$t('please_select_namespace')\">\r\n          <el-option\r\n              v-for=\"item in namespaces\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n              :key=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        &nbsp;&nbsp;\r\n        <el-select :placeholder=\"$t('please_select_deployment')\" multiple v-model=\"deployment\" @change=\"selecteddeployment\">\r\n          <el-option :label=\"$t('check_all')\" value=\"all\"></el-option>\r\n          <el-option v-for=\"item in deployments\" :label=\"item.label\" :value=\"item.value\" :key=\"item.value\"></el-option>\r\n        </el-select>\r\n        &nbsp;&nbsp;\r\n        <el-button @click.native=\"getStatus\">{{ $t('enter') }}</el-button>\r\n        <br>\r\n        <el-table\r\n                class=\"app-table\"\r\n                size=\"medium\"\r\n                :data=\"tableData\">\r\n            <el-table-column prop=\"Pods\" :label=\"$t('name')\"></el-table-column>\r\n            <el-table-column prop=\"Container\" :label=\"$t('container')\"></el-table-column>\r\n            <el-table-column prop=\"Image\" :label=\"$t('image')\"></el-table-column>\r\n            <el-table-column prop=\"Tag\" :label=\"$t('tag')\"></el-table-column>\r\n            <el-table-column prop=\"ImagePullSecrets\" :label=\"$t('image_pull_secrets')\"></el-table-column>\r\n            <el-table-column prop=\"State\" :label=\"$t('state')\"></el-table-column>\r\n            <el-table-column prop=\"CPU\" :label=\"$t('cpu')\"></el-table-column>\r\n            <el-table-column prop=\"RAM\" :label=\"$t('ram')\"></el-table-column>\r\n            <el-table-column prop=\"OS\" :label=\"$t('os')\"></el-table-column>\r\n            <el-table-column prop=\"Operate\" :label=\"$t('operate')\" width=\"160\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button class=\"el-icon-s-fold\" v-if=\"scope.row.OS==='unix'\" @click.native=\"openTerminal(scope.row, 'sh')\">{{ $t('sh') }}</el-button>\r\n                <el-button class=\"el-icon-s-fold\" v-if=\"scope.row.OS==='windows'\" @click.native=\"openTerminal(scope.row, 'cmd')\">{{ $t('cmd') }}</el-button>\r\n                <span></span>\r\n                <el-button class=\"el-icon-files\" @click.native=\"openFileBrowser(scope.row, '/')\">{{ $t('file_browser') }}</el-button>\r\n              </template>\r\n          </el-table-column>\r\n        </el-table>\r\n    </el-card>\r\n    <el-dialog\r\n      :title=\"$t('terminal')\"\r\n      :visible.sync=\"dialogTerminalVisible\"\r\n      @close=\"dialogTerminalVisible = false\"\r\n      :before-close=\"handleClose\">\r\n    <div>\r\n      <span>前端实现中</span>\r\n      <div id=\"terminal-container\"></div>\r\n    </div>\r\n    </el-dialog>\r\n    <el-dialog\r\n        width=\"80%\"\r\n        :title=\"$t('file_browser')\"\r\n        :visible.sync=\"dialogFileBrowserVisible\"\r\n        @close=\"dialogFileBrowserVisible = false\"\r\n        :before-close=\"handleClose\">\r\n<!--      <ul>-->\r\n<!--        <li v-for=\"item in paths\">-->\r\n<!--          <a class=\"el-icon-folder-opened\">&nbsp;&nbsp; {{item}}</a>-->\r\n<!--        </li>-->\r\n<!--      </ul>-->\r\n      &nbsp;&nbsp;&nbsp;&nbsp;\r\n      <span class=\"el-icon-refresh\" @click=\"openFileBrowser(null, path)\">&nbsp;&nbsp;{{$t('refresh')}}</span>\r\n        <el-table\r\n            class=\"app-table\"\r\n            size=\"100%\"\r\n            :data=\"fileBrowserData\">\r\n          <el-header></el-header>\r\n          <el-table-column prop=\"Name\" :label=\"$t('name')\">\r\n            <template slot-scope=\"scope\">\r\n              <span class=\"el-icon-folder\" v-if=\"scope.row.IsDir\" @click=\"openFileBrowser(null, scope.row.Path)\">&nbsp;&nbsp;{{scope.row.Name}}</span>\r\n              <span class=\"el-icon-files\" v-else>&nbsp;&nbsp;{{scope.row.Name}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"Size\" min-width=\"50\" :label=\"$t('size')\"></el-table-column>\r\n          <el-table-column prop=\"Mode\" width=\"200\" :label=\"$t('mode')\"></el-table-column>\r\n          <el-table-column prop=\"ModTime\" :label=\"$t('mod_time')\"></el-table-column>\r\n          <el-table-column prop=\"Download\" :label=\"$t('operate')\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <span class=\"el-icon-download\" @click=\"download(scope.row.Path)\"></span>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {GetStatus} from '../api/status'\r\nimport {GetNamespace} from '../api/namespaces'\r\nimport {GetDeployment} from \"../api/deployment\";\r\nimport {FileBrowser} from \"../api/filebrowser\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      namespace: \"\",\r\n      deployment: [],\r\n      namespaces:[],\r\n      tableLoading: false,\r\n      tableData: [],\r\n      deployments: [],\r\n      fileBrowserData: [],\r\n      pods: \"\",\r\n      container:\"\",\r\n      path: \"\",\r\n      paths: [],\r\n      dialogTerminalVisible: false,\r\n      dialogFileBrowserVisible: false,\r\n    }\r\n  },\r\n  methods: {\r\n    getNamespace() {\r\n      GetNamespace().then(res =>{\r\n        if (res) {\r\n          this.namespaces=[]\r\n          this.deployment = []\r\n          this.deployments = []\r\n          this.tableData = []\r\n          const data = res.items\r\n          for(const key in data){\r\n            this.namespaces.push(data[key].metadata.name)\r\n          }\r\n          console.log(this.namespaces)\r\n        }\r\n      })\r\n    },\r\n    selectedNamespace(options) {\r\n      console.log(options);\r\n      GetDeployment({namespace: options}).then(res => {\r\n        if (res) {\r\n          const deployments=[]\r\n          this.deployments = []\r\n          this.tableData = []\r\n          const data = res.items\r\n          for(const key in data){\r\n            const _d = {label:data[key].metadata.name, value:data[key].metadata.name}\r\n            deployments.push(_d)\r\n          }\r\n          this.deployments = deployments\r\n          console.log(this.deployments)\r\n        }\r\n      })\r\n    },\r\n    selecteddeployment(options) {\r\n      console.log(options);\r\n    },\r\n    getStatus() {\r\n      console.log(this.deployment[0], this.namespace);\r\n      let deployment = this.deployment\r\n      if (this.deployment[0] === \"all\") {\r\n        deployment = []\r\n        for (const key in this.deployments) {\r\n          deployment.push(this.deployments[key].value)\r\n        }\r\n      }\r\n      GetStatus({namespace: this.namespace, deployment:deployment}).then(res => {\r\n        if (res) {\r\n          console.log(res)\r\n          this.tableData = []\r\n          for (const i in res) {\r\n            const pod_name =res[i].pod_name;\r\n            const cData = res[i].containers;\r\n            for (const j in cData) {\r\n              let tr = {\r\n                Pods:\"\",\r\n                Container:cData[j].name,\r\n                Image:cData[j].image,\r\n                Tag:cData[j].version,\r\n                ImagePullSecrets:cData[j].image_pull_policy,\r\n                State:cData[j].state,\r\n                CPU:cData[j].cpu,\r\n                RAM:cData[j].ram,\r\n                OS: cData[j].os,\r\n              }\r\n              if (j === \"0\") {\r\n                tr = {\r\n                  Pods:pod_name,\r\n                  Container:cData[j].name,\r\n                  Image:cData[j].image,\r\n                  Tag:cData[j].version,\r\n                  ImagePullSecrets:cData[j].image_pull_policy,\r\n                  State:cData[j].state,\r\n                  CPU:cData[j].cpu,\r\n                  RAM:cData[j].ram,\r\n                  OS: cData[j].os,\r\n                }\r\n              }\r\n              this.tableData.push(tr)\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    openTerminal(options, shell) {\r\n      this.dialogTerminalVisible = true\r\n      console.log(options, this.namespace,shell)\r\n    },\r\n    openFileBrowser(options, path) {\r\n      this.dialogFileBrowserVisible = true\r\n      console.log(options, path)\r\n      if (path === undefined) {\r\n        path = \"/\"\r\n      }\r\n      if (path === \"/\" && options !== null) {\r\n        this.pods = options.Pods\r\n        this.container = options.Container\r\n      }\r\n\r\n      this.paths = this.path.split('/')\r\n      if (this.path === undefined) {\r\n        this.paths.push(\"/\")\r\n      }\r\n\r\n      this.path = path\r\n      this.fileBrowserData = []\r\n      FileBrowser({\r\n        namespace: this.namespace,\r\n        pods: this.pods,\r\n        container: this.container,\r\n        path: path,\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.fileBrowserData = []\r\n        if (res !== undefined) {\r\n          this.fileBrowserData = res\r\n        }\r\n      }, err => {\r\n        console.log(err)\r\n        alert(err.info.message)\r\n      })\r\n    },\r\n    download(path) {\r\n      const url = \"/api/k8s/download?namespace=\"+this.namespace+\"&pod_name=\"+this.pods+\"&container_name=\"+this.container+\"&dest_path=\"+path;\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, true);        // 也可以使用POST方式，根据接口\r\n      xhr.responseType = \"blob\";    // 返回类型blob\r\n      xhr.setRequestHeader(\"Content-type\", \"application/json;charset=UTF-8\");\r\n      // 定义请求完成的处理函数，请求前也可以增加加载框/禁用下载按钮逻辑\r\n      xhr.onload = function () {\r\n        // 请求完成\r\n        if (this.status === 200) {\r\n          // 返回200\r\n          let content = xhr.response;\r\n          let eLink = document.createElement('a');\r\n          eLink.download = this.getResponseHeader('X-File-Name');\r\n          eLink.style.display = 'none';\r\n          let blob = new Blob([content]);\r\n          eLink.href = URL.createObjectURL(blob);\r\n          document.body.appendChild(eLink);\r\n          eLink.click();\r\n          document.body.removeChild(eLink);\r\n        }\r\n      };\r\n      // 发送ajax请求\r\n      xhr.send()\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            done();\r\n          })\r\n          .catch(_ => {});\r\n    }\r\n  },\r\n  watch:{\r\n    deployment:function(val,oldVal){\r\n      let index =  val.indexOf('all'),oldIndex =  oldVal.indexOf('all');\r\n      if(index!==-1 && oldIndex===-1 && val.length>1)\r\n        this.deployment=['all'];\r\n      else if(index!==-1 && oldIndex!==-1 && val.length>1)\r\n        this.deployment.splice(val.indexOf('all'),1)\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dashboard.vue?vue&type=template&id=6c817d53&\"\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}