(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a1c06fe"],{2134:function(e,t,a){},"7b90":function(e,t,a){"use strict";a("2134")},"91b6":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("ead3");function s(e,t,a){return Object(n["b"])("/k8s/upload",e,t,a)}},c928:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("please_select_namespace")},on:{change:e.selectedNamespace},nativeOn:{click:function(t){return e.getNamespace(t)}},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}},e._l(e.namespaces,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("please_select_pod"),filterable:""},on:{change:e.selectedPod},model:{value:e.pod,callback:function(t){e.pod=t},expression:"pod"}},e._l(e.pods,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("please_select_container"),multiple:"",filterable:""},model:{value:e.container,callback:function(t){e.container=t},expression:"container"}},[a("el-option",{attrs:{label:e.$t("check_all"),value:"all"}}),e._l(e.containers,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)],1),a("div",[a("el-input",{staticStyle:{width:"193px",height:"40px"},attrs:{style:"width: 193px;height: 40px",autocomplete:"off",placeholder:e.$t("please_input_dest_path")},model:{value:e.destPath,callback:function(t){e.destPath=t},expression:"destPath"}})],1),a("div",[a("el-dropdown",{staticClass:"avatar-container",staticStyle:{height:"36px",float:"right","margin-bottom":"10px"},attrs:{type:"success",trigger:"click"}},[a("div",{staticClass:"avatar-wrapper"},[a("el-button",{staticClass:"el-icon-upload",staticStyle:{width:"90px",height:"30px","margin-right":"6px","padding-top":"7px","padding-left":"14px"},attrs:{type:"success",round:"",size:"medium"}},[e._v(" "+e._s(e.$t("upload"))+" "),a("i",{staticClass:"el-icon-caret-bottom"})])],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{staticClass:"fake-file-btn"},[e._v(" "+e._s(e.$t("upload_file"))+" "),a("input",{staticStyle:{display:"block"},attrs:{type:"file",name:"files",multiple:"true"},on:{change:function(t){return e.uploadFileOrDir(t)}}})])]),a("el-dropdown-item",{attrs:{divided:""}},[a("span",{staticClass:"fake-file-btn"},[e._v(" "+e._s(e.$t("upload_dir"))+" "),a("input",{staticStyle:{display:"block"},attrs:{type:"file",name:"files",webkitdirectory:"",mozdirectory:"",accept:"*/*"},on:{change:function(t){return e.uploadFileOrDir(t)}}})])])],1)],1)],1)])],1)},s=[],i=a("1764"),l=a("f492"),o=a("91b6"),c={data(){return{namespace:"",pod:"",container:[],namespaces:[],pods:[],containers:[],destPath:"",fileList:[]}},methods:{getNamespace(){Object(i["a"])().then(e=>{if(e){this.namespaces=[],this.pod="",this.pods=[],this.container=[],this.containers=[];const t=e.items;for(const e in t)this.namespaces.push(t[e].metadata.name);console.log(this.namespaces)}})},selectedNamespace(){Object(l["a"])({namespace:this.namespace}).then(e=>{if(e){const t=[];this.pod="",this.pods=[],this.container=[],this.containers=[];const a=e.items;for(const e in a){const n={label:a[e].metadata.name,value:a[e].metadata.name};t.push(n)}this.pods=t,console.log(this.pods)}})},selectedPod(){this.container=[],this.containers=[],Object(l["a"])({namespace:this.namespace,pod:this.pod}).then(e=>{if(e){console.log(e);const t=[];this.container=[],this.containers=[];const a=e.spec.containers;for(const e in a){const n={label:a[e].name,value:a[e].name};t.push(n)}this.containers=t,console.log(this.containers)}})},uploadFileOrDir(e){const t=e.target.files;if(0===t.length)return void(e.target.value="");let a=this.container;"all"===a[0]&&(a=this.containers);const n=new FormData;for(let s=0;s<t.length;s++)n.append("files",t[s]);Object(o["a"])(n,{namespace:this.namespace,pod_name:this.pod,container_name:a,dest_path:this.destPath},{"Content-Type":"multipart/form-data"}).then(e=>{void 0!==e.failure?alert(e.failure):alert(e.success)},e=>{alert(e.info.message)}),e.target.value=""}},watch:{container:function(e,t){let a=e.indexOf("all"),n=t.indexOf("all");-1!==a&&-1===n&&e.length>1?this.container=["all"]:-1!==a&&-1!==n&&e.length>1&&this.container.splice(e.indexOf("all"),1)}}},r=c,p=(a("7b90"),a("2877")),d=Object(p["a"])(r,n,s,!1,null,null,null);t["default"]=d.exports},f492:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("ead3");function s(e){return Object(n["a"])("/k8s/pods",e)}}}]);
//# sourceMappingURL=chunk-4a1c06fe.beb408d5.js.map