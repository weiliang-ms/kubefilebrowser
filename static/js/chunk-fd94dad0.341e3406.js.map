{"version":3,"sources":["webpack:///./src/view/upload.vue?9612","webpack:///src/view/upload.vue","webpack:///./src/view/upload.vue?0d0b","webpack:///./src/view/upload.vue","webpack:///./src/api/pods.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$t","on","selectedNamespace","nativeOn","$event","getNamespace","model","value","callback","$$v","namespace","expression","_l","item","key","_v","selectedPod","pod","label","container","staticStyle","destPath","uploadFile","_s","uploadDir","staticRenderFns","namespaces","pods","containers","methods","res","shell","data","items","push","metadata","name","console","log","_d","spec","watch","index","component","GetPods","params","get"],"mappings":"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","file":"js/chunk-fd94dad0.341e3406.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_select_namespace')},on:{\"change\":_vm.selectedNamespace},nativeOn:{\"click\":function($event){return _vm.getNamespace($event)}},model:{value:(_vm.namespace),callback:function ($$v) {_vm.namespace=$$v},expression:\"namespace\"}},_vm._l((_vm.namespaces),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":_vm.$t('please_select_pod')},on:{\"change\":_vm.selectedPod},model:{value:(_vm.pod),callback:function ($$v) {_vm.pod=$$v},expression:\"pod\"}},_vm._l((_vm.pods),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":_vm.$t('please_select_container'),\"multiple\":\"\"},model:{value:(_vm.container),callback:function ($$v) {_vm.container=$$v},expression:\"container\"}},[_c('el-option',{attrs:{\"label\":_vm.$t('check_all'),\"value\":\"all\"}}),_vm._l((_vm.containers),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})],2),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"50px\"},attrs:{\"size\":\"medium\",\"autocomplete\":\"off\",\"placeholder\":_vm.$t('please_input_dest_path')},model:{value:(_vm.destPath),callback:function ($$v) {_vm.destPath=$$v},expression:\"destPath\"}}),_vm._v(\" \"),_c('el-button',{nativeOn:{\"click\":function($event){return _vm.uploadFile($event)}}},[_vm._v(_vm._s(_vm.$t('upload_file')))]),_vm._v(\" \"),_c('el-button',{nativeOn:{\"click\":function($event){return _vm.uploadDir($event)}}},[_vm._v(_vm._s(_vm.$t('upload_dir')))])],1),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":\"terminal-container\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-card shadow=\"never\">\n      <el-select v-model=\"namespace\" @click.native=\"getNamespace\" @change=\"selectedNamespace\" filterable :placeholder=\"$t('please_select_namespace')\">\n        <el-option\n            v-for=\"item in namespaces\"\n            :label=\"item\"\n            :value=\"item\"\n            :key=\"item\"\n        ></el-option>\n      </el-select>\n      &nbsp;&nbsp;\n      <el-select :placeholder=\"$t('please_select_pod')\" v-model=\"pod\" @change=\"selectedPod\">\n        <el-option v-for=\"item in pods\" :label=\"item.label\" :value=\"item.value\" :key=\"item.value\"></el-option>\n      </el-select>\n      &nbsp;&nbsp;\n      <el-select :placeholder=\"$t('please_select_container')\" multiple v-model=\"container\">\n        <el-option :label=\"$t('check_all')\" value=\"all\"></el-option>\n        <el-option v-for=\"item in containers\" :label=\"item.label\" :value=\"item.value\" :key=\"item.value\"></el-option>\n      </el-select>\n      &nbsp;&nbsp;\n      <el-input v-model=\"destPath\" style=\"width: 50px\" size=\"medium\" autocomplete=\"off\" :placeholder=\"$t('please_input_dest_path')\"></el-input>\n      &nbsp;&nbsp;\n      <el-button @click.native=\"uploadFile\">{{ $t('upload_file') }}</el-button>\n      &nbsp;&nbsp;\n      <el-button @click.native=\"uploadDir\">{{ $t('upload_dir') }}</el-button>\n    </el-card>\n    <div id=\"terminal-container\" style=\"width: 100%;height: 100%\"></div>\n  </div>\n</template>\n\n<script>\nimport { GetNamespace } from '@/api/namespaces'\nimport {GetPods} from \"@/api/pods\";\n\nexport default {\n  data() {\n    return {\n      namespace: \"\",\n      pod: \"\",\n      container: [],\n      namespaces:[],\n      pods: [],\n      containers:[],\n      destPath:\"\"\n    }\n  },\n  methods: {\n    getNamespace() {\n      GetNamespace().then(res => {\n        if (res) {\n          this.namespaces = []\n          this.pod = \"\"\n          this.pods = []\n          this.container = \"\"\n          this.containers = []\n          this.shell = \"\"\n          var data = res.items\n          for (var key in data) {\n            this.namespaces.push(data[key].metadata.name)\n          }\n          ;\n          console.log(this.namespaces)\n        }\n      })\n    },\n    selectedNamespace() {\n      GetPods({namespace: this.namespace}).then(res => {\n        if (res) {\n          var pods = []\n          this.pod = \"\"\n          this.pods = []\n          this.container = \"\"\n          this.containers = []\n          var data = res.items\n          for (var key in data) {\n            var _d = {label: data[key].metadata.name, value: data[key].metadata.name}\n            pods.push(_d)\n          }\n          ;\n          this.pods = pods\n          console.log(this.pods)\n        }\n      })\n    },\n    selectedPod() {\n      GetPods({namespace: this.namespace, pod: this.pod}).then(res => {\n        if (res) {\n          console.log(res)\n          var containers = []\n          this.container = \"\"\n          this.containers = []\n          var data = res.spec.containers\n          for (var key in data) {\n            var _d = {label: data[key].name, value: data[key].name}\n            containers.push(_d)\n          }\n          ;\n          this.containers = containers\n          console.log(this.containers)\n        }\n      })\n    },\n    uploadFile() {\n\n    },\n    uploadDir() {\n\n    }\n  },\n  watch:{\n    container:function(val,oldVal){\n      let index =  val.indexOf('all'),oldIndex =  oldVal.indexOf('all');\n      if(index!==-1 && oldIndex===-1 && val.length>1)\n        this.container=['all'];\n      else if(index!==-1 && oldIndex!==-1 && val.length>1)\n        this.container.splice(val.indexOf('all'),1)\n    }\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=8bf806dc&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {get} from '@/lib/fetch.js'\r\n\r\nexport function GetPods(params) {\r\n    return get('/k8s/pods', params)\r\n}"],"sourceRoot":""}