(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6e2ec14"],{"19de":function(e,t){e.exports=function(e,t,n,a){var o="undefined"!==typeof a?[a,e]:[e],s=new Blob(o,{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(s,t);else{var c=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(s):window.webkitURL.createObjectURL(s),i=document.createElement("a");i.style.display="none",i.href=c,i.setAttribute("download",t),"undefined"===typeof i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(c)}),200)}}},"67a0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{attrs:{shadow:"never"}},[n("div",[n("el-select",{attrs:{filterable:"",placeholder:e.$t("please_select_namespace")},on:{change:e.selectedNamespace},nativeOn:{click:function(t){return e.getNamespace(t)}},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}},e._l(e.namespaces,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1),e._v(" "),n("el-select",{attrs:{placeholder:e.$t("please_select_pod")},on:{change:e.selectedPod},model:{value:e.pod,callback:function(t){e.pod=t},expression:"pod"}},e._l(e.pods,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),n("el-select",{attrs:{placeholder:e.$t("please_select_container")},model:{value:e.container,callback:function(t){e.container=t},expression:"container"}},e._l(e.containers,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("div",[n("el-input",{staticStyle:{width:"217px",height:"40px"},attrs:{autocomplete:"off",placeholder:e.$t("please_input_dest_path")},model:{value:e.destPath,callback:function(t){e.destPath=t},expression:"destPath"}})],1),n("el-button",{nativeOn:{click:function(t){return e.downloadFile(t)}}},[e._v(e._s(e.$t("download_file")))])],1),n("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"terminal-container"}})],1)},o=[],s=n("1764"),c=n("f492"),i=(n("bc3a"),n("19de"),{data(){return{namespace:"",pod:"",container:"",namespaces:[],pods:[],containers:[],destPath:""}},methods:{getNamespace(){Object(s["a"])().then(e=>{if(e){this.namespaces=[],this.pod="",this.pods=[],this.container="",this.containers=[],this.shell="";const t=e.items;for(const e in t)this.namespaces.push(t[e].metadata.name);console.log(this.namespaces)}})},selectedNamespace(){Object(c["a"])({namespace:this.namespace}).then(e=>{if(e){const t=[];this.pod="",this.pods=[],this.container="",this.containers=[];const n=e.items;for(const e in n){const a={label:n[e].metadata.name,value:n[e].metadata.name};t.push(a)}this.pods=t,console.log(this.pods)}})},selectedPod(){Object(c["a"])({namespace:this.namespace,pod:this.pod}).then(e=>{if(e){console.log(e);const t=[];this.container="",this.containers=[];const n=e.spec.containers;for(const e in n){const a={label:n[e].name,value:n[e].name};t.push(a)}this.containers=t,console.log(this.containers)}})},downloadFile(){const e="/api/k8s/download?namespace="+this.namespace+"&pod_name="+this.pod+"&container_name="+this.container+"&dest_path="+this.destPath,t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.setRequestHeader("Content-type","application/json;charset=UTF-8"),t.onload=function(){if(200===this.status){let e=t.response,n=document.createElement("a");n.download=this.getResponseHeader("X-File-Name"),n.style.display="none";let a=new Blob([e]);n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},t.send()}}}),l=i,d=n("2877"),r=Object(d["a"])(l,a,o,!1,null,null,null);t["default"]=r.exports},f492:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ead3");function o(e){return Object(a["a"])("/k8s/pods",e)}}}]);
//# sourceMappingURL=chunk-d6e2ec14.8e11d2b0.js.map