{"version":3,"sources":["webpack:///./node_modules/xterm/lib/renderer/CharacterJoinerRegistry.js","webpack:///./node_modules/xterm/lib/utils/Clone.js","webpack:///./node_modules/xterm/lib/renderer/dom/DomRendererRowFactory.js","webpack:///./node_modules/xterm/lib/renderer/BaseRenderLayer.js","webpack:///./node_modules/xterm/lib/BufferLine.js","webpack:///./node_modules/xterm/lib/AccessibilityManager.js","webpack:///./node_modules/xterm/lib/renderer/SelectionRenderLayer.js","webpack:///./node_modules/js-base64/base64.js","webpack:///./node_modules/xterm/lib/addons/search/SearchHelper.js","webpack:///./node_modules/xterm/lib/ui/RenderDebouncer.js","webpack:///./node_modules/xterm/lib/renderer/dom/DomRenderer.js","webpack:///./node_modules/xterm/lib/ui/MouseZoneManager.js","webpack:///./node_modules/xterm/lib/Buffer.js","webpack:///./node_modules/xterm/lib/ui/Lifecycle.js","webpack:///./node_modules/xterm/lib/renderer/Renderer.js","webpack:///./node_modules/xterm/lib/core/input/Keyboard.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasCache.js","webpack:///./node_modules/xterm/lib/SoundManager.js","webpack:///./node_modules/xterm/lib/renderer/atlas/DynamicCharAtlas.js","webpack:///./node_modules/xterm/lib/public/Terminal.js","webpack:///./node_modules/xterm/lib/ui/CharMeasure.js","webpack:///./node_modules/xterm/lib/ui/Clipboard.js","webpack:///./node_modules/xterm/lib/addons/search/search.js","webpack:///./node_modules/xterm/lib/core/Platform.js","webpack:///./node_modules/xterm/lib/common/TypedArrayUtils.js","webpack:///./node_modules/xterm/lib/common/data/EscapeSequences.js","webpack:///./node_modules/xterm/lib/renderer/atlas/NoneCharAtlas.js","webpack:///./node_modules/xterm/lib/renderer/atlas/BaseCharAtlas.js","webpack:///./node_modules/xterm/lib/Strings.js","webpack:///./node_modules/xterm/lib/common/EventEmitter.js","webpack:///./node_modules/xterm/lib/SelectionManager.js","webpack:///./node_modules/xterm/lib/renderer/atlas/StaticCharAtlas.js","webpack:///./node_modules/xterm/lib/renderer/TextRenderLayer.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasUtils.js","webpack:///./node_modules/xterm/lib/utils/MouseHelper.js","webpack:///./src/api/upload.js","webpack:///./node_modules/xterm/lib/addons/webLinks/webLinks.js","webpack:///./node_modules/xterm/lib/renderer/CursorRenderLayer.js","webpack:///./node_modules/xterm/lib/renderer/atlas/CharAtlasGenerator.js","webpack:///./node_modules/xterm/lib/CompositionHelper.js","webpack:///./node_modules/xterm/lib/CharWidth.js","webpack:///./node_modules/xterm/lib/core/data/Charsets.js","webpack:///./node_modules/xterm/lib/Terminal.js","webpack:///./node_modules/xterm/lib/handlers/AltClickHandler.js","webpack:///./node_modules/xterm/lib/EscapeSequenceParser.js","webpack:///./node_modules/xterm/lib/renderer/atlas/LRUMap.js","webpack:///./node_modules/xterm/lib/Linkifier.js","webpack:///./src/view/dashboard.vue?b956","webpack:///./node_modules/xterm/lib/addons/fit/fit.js","webpack:///./src/view/dashboard.vue?2f13","webpack:///./src/api/status.js","webpack:///./src/api/deployment.js","webpack:///./src/api/filebrowser.js","webpack:///src/view/dashboard.vue","webpack:///./src/view/dashboard.vue?15d6","webpack:///./src/view/dashboard.vue","webpack:///./node_modules/xterm/lib/renderer/atlas/Types.js","webpack:///./node_modules/xterm/lib/common/CircularList.js","webpack:///./node_modules/xterm/lib/SelectionModel.js","webpack:///./node_modules/xterm/lib/renderer/ColorManager.js","webpack:///./node_modules/xterm/lib/renderer/LinkRenderLayer.js","webpack:///./node_modules/xterm/lib/InputHandler.js","webpack:///./node_modules/xterm/lib/common/Lifecycle.js","webpack:///./node_modules/xterm/lib/renderer/GridCache.js","webpack:///./node_modules/xterm/lib/BufferSet.js","webpack:///./node_modules/xterm/lib/ui/ScreenDprMonitor.js","webpack:///./node_modules/xterm/lib/Viewport.js"],"names":["Object","defineProperty","exports","value","Buffer_1","CharacterJoinerRegistry","_terminal","this","_characterJoiners","_nextCharacterJoinerId","prototype","registerCharacterJoiner","handler","joiner","id","push","deregisterCharacterJoiner","joinerId","i","length","splice","getJoinedCharacters","row","line","buffer","lines","get","ranges","lineStr","translateBufferLineToString","rangeStartColumn","currentStringIndex","rangeStartStringIndex","rangeAttr","CHAR_DATA_ATTR_INDEX","x","cols","charData","chars","CHAR_DATA_CHAR_INDEX","width","CHAR_DATA_WIDTH_INDEX","attr","joinedRanges","_getJoinedRanges","startIndex","endIndex","lineData","startCol","text","substring","joinerRanges","j","_mergeRanges","_stringRangesToCellRanges","currentRangeIndex","currentRangeStarted","currentRange","length_1","newRange","inRange","range","Math","max","min","clone","val","depth","clonedObject","Array","isArray","key","Types_1","BOLD_CLASS","ITALIC_CLASS","CURSOR_CLASS","CURSOR_STYLE_BLOCK_CLASS","CURSOR_STYLE_BAR_CLASS","CURSOR_STYLE_UNDERLINE_CLASS","DomRendererRowFactory","_document","createRow","isCursorRow","cursorStyle","cursorX","cellWidth","fragment","createDocumentFragment","lineLength","code","CHAR_DATA_CODE_INDEX","NULL_CELL_CODE","char","charElement","createElement","style","flags","bg","fg","classList","add","temp","DEFAULT_COLOR","INVERTED_DEFAULT_COLOR","textContent","appendChild","CharAtlasCache_1","CharAtlasUtils_1","BaseRenderLayer","_container","zIndex","_alpha","_colors","_scaledCharWidth","_scaledCharHeight","_scaledCellWidth","_scaledCellHeight","_scaledCharLeft","_scaledCharTop","_currentGlyphIdentifier","bold","dim","italic","_canvas","document","toString","_initCanvas","dispose","removeChild","_charAtlas","_ctx","getContext","alpha","clearAll","onOptionsChanged","terminal","onBlur","onFocus","onCursorMove","onGridChanged","startRow","endRow","onSelectionChanged","start","end","columnSelectMode","onThemeChanged","colorSet","_refreshCharAtlas","setTransparency","oldCanvas","cloneNode","replaceChild","rows","acquireCharAtlas","warmUp","resize","scaledCellWidth","scaledCellHeight","scaledCharWidth","scaledCharHeight","scaledCharLeft","scaledCharTop","scaledCanvasWidth","height","scaledCanvasHeight","canvasWidth","canvasHeight","fillCells","y","fillRect","fillBottomLineAtCells","window","devicePixelRatio","fillLeftLineAtCell","strokeRectAtCell","lineWidth","strokeRect","clearRect","fillStyle","background","css","clearCells","fillCharTrueColor","font","_getFont","textBaseline","_clipRow","fillText","drawChars","drawInBrightColor","options","drawBoldTextInBrightColors","enableBold","atlasDidDraw","draw","_drawUncachedChars","save","is256Color","ansi","foreground","globalAlpha","DIM_OPACITY","restore","beginPath","rect","clip","isBold","isItalic","fontWeight","fontWeightBold","fontStyle","fontSize","fontFamily","BufferLineJSArray","fillCharData","isWrapped","_data","NULL_CELL_CHAR","NULL_CELL_WIDTH","_push","_pop","data","pop","_splice","deleteCount","_a","items","_i","arguments","removed","apply","concat","index","set","insertCells","pos","n","ch","deleteCells","replaceCells","shrink","fill","copyFrom","slice","newLine","CELL_SIZE","BufferLine","_combined","Uint32Array","stringData","String","fromCharCode","charCodeAt","subarray","el","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","Strings","Platform_1","RenderDebouncer_1","Lifecycle_1","Lifecycle_2","MAX_ROWS_TO_READ","AccessibilityManager","_super","_this","call","_liveRegionLineCount","_charsToConsume","_accessibilityTreeRoot","_rowContainer","_rowElements","_createAccessibilityTreeNode","_topBoundaryFocusListener","e","_onBoundaryFocus","_bottomBoundaryFocusListener","addEventListener","_refreshRowsDimensions","_renderRowsDebouncer","RenderDebouncer","_renderRows","bind","_refreshRows","_liveRegion","setAttribute","element","insertAdjacentElement","register","addDisposableListener","_onResize","_onChar","spaceCount","_onTab","keyChar","_onKey","_clearLiveRegion","renderer","addDisposableDomListener","position","boundaryElement","target","beforeBoundaryElement","posInSet","getAttribute","lastRowPos","relatedTarget","topBoundaryElement","bottomBoundaryElement","shift","removeEventListener","newElement","unshift","scrollLines","focus","preventDefault","stopImmediatePropagation","children","tabIndex","_refreshRowDimensions","shiftedChar","_announceCharacter","tooMuchOutput","isMac","parentNode","setTimeout","refresh","setSize","ydisp","blankLine","dimensions","actualCellHeight","innerHTML","Disposable","BaseRenderLayer_1","SelectionRenderLayer","container","colors","_clearState","_state","reset","_didStateChange","viewportStartRow","viewportEndRow","viewportCappedStartRow","viewportCappedEndRow","selection","startRowEndCol","middleRowsCount","endCol","_areCoordinatesEqual","coord1","coord2","global","factory","module","self","fromUint8Array","_Base64","Base64","version","b64chars","b64tab","bin","t","l","charAt","cb_utob","c","cc","re_utob","utob","u","replace","cb_encode","ccc","padlen","ord","join","btoa","match","RangeError","_encode","mkUriSafe","b64","m0","encode","urisafe","encodeURI","Uint8Array","a","a0","a1","a2","toUint8Array","re_btou","cb_btou","cccc","cp","offset","btou","cb_decode","len","_atob","atob","_decode","_fromURI","decode","from","noConflict","VERSION","fromBase64","toBase64","noEnum","v","enumerable","writable","configurable","extendString","nonWordCharacters","SearchHelper","findNext","term","searchOptions","result","_core","selectionManager","selectionEnd","getSelection","ybase","_findInLine","_selectResult","findPrevious","selectionStart","_isWholeWord","searchIndex","indexOf","stringLine","translateBufferLineToStringWithWrap","searchStringLine","caseSensitive","toLowerCase","searchTerm","regex","searchRegex","RegExp","foundTerm","exec","lastIndex","floor","wholeWord","charWidth","col","lineIndex","trimRight","lineWrapsToNext","lineString","nextLine","setSelection","clearSelection","_callback","_animationFrame","cancelAnimationFrame","rowStart","rowEnd","undefined","isRowStartSet","_rowStart","isRowEndSet","_rowEnd","requestAnimationFrame","_innerRefresh","EventEmitter_1","ColorManager_1","DomRendererRowFactory_1","TERMINAL_CLASS_PREFIX","ROW_CONTAINER_CLASS","FG_CLASS_PREFIX","BG_CLASS_PREFIX","FOCUS_CLASS","SELECTION_CLASS","nextTerminalId","DomRenderer","theme","_terminalClass","allowTransparency","colorManager","ColorManager","setTheme","lineHeight","_refreshRowElements","_selectionContainer","actualCellWidth","_updateDimensions","_renderDebouncer","_rowFactory","screenElement","linkifier","on","_onLinkHover","_onLinkLeave","remove","_themeStyleElement","_dimensionsStyleElement","charMeasure","ceil","round","letterSpacing","forEach","overflow","styles","_terminalSelector","_viewportElement","getOption","cursor","cursorAccent","onWindowResize","onResize","onCharSizeChanged","documentFragment","_createSelectionElement","endCol_1","colStart","colEnd","rowCount","top","left","clear","refreshRows","cursorAbsoluteY","rowElement","emit","_setCellUnderline","x1","x2","y1","y2","enabled","span","textDecoration","EventEmitter","HOVER_DURATION","MouseZoneManager","_zones","_areZonesActive","_tooltipTimeout","_currentZone","_lastHoverCoords","_onMouseDown","_mouseMoveListener","_onMouseMove","_clickListener","_onClick","_deactivate","zone","_activate","leaveCallback","pageX","pageY","_onHover","_findZoneEventAt","clearTimeout","hoverCallback","_onTooltip","tooltipCallback","willLinkActivate","clickCallback","coords","mouseHelper","getCoords","MouseZone","CircularList_1","BufferLine_1","DEFAULT_ATTR","MAX_BUFFER_SIZE","Buffer","_hasScrollback","markers","setBufferLineFactory","type","_bufferLineConstructor","_recreateLines","oldLine","getBlankLine","maxLength","absoluteY","relativeY","_getCorrectBufferLength","correctBufferLength","scrollback","fillViewportRows","fillAttr","experimentalBufferLineImpl","CircularList","scrollTop","scrollBottom","setupTabStops","newCols","newRows","newMaxLength","addToY","amountToTrim","trimStart","savedY","savedX","stringIndexToBufferIndex","stringIndex","rightWhitespaceIndex","search","getWrappedRangeForLine","first","last","tabs","prevStop","tabStopWidth","nextStop","addMarker","marker","Marker","amount","_removeMarker","iterator","startOverscan","endOverscan","BufferStringIterator","_id","_nextId","isDisposed","_buffer","_trimRight","_startIndex","_endIndex","_startOverscan","_endOverscan","_current","hasNext","next","content","node","useCapture","TextRenderLayer_1","SelectionRenderLayer_1","CursorRenderLayer_1","LinkRenderLayer_1","ScreenDprMonitor_1","CharacterJoinerRegistry_1","Renderer","_isPaused","_needsFullRefresh","_characterJoinerRegistry","_renderLayers","TextRenderLayer","LinkRenderLayer","CursorRenderLayer","_devicePixelRatio","_screenDprMonitor","ScreenDprMonitor","setListener","observer_1","IntersectionObserver","onIntersectionChange","threshold","observe","disconnect","entry","intersectionRatio","_runOperation","operation","EscapeSequences_1","KEYCODE_KEY_MAPPINGS","48","49","50","51","52","53","54","55","56","57","186","187","188","189","190","191","192","219","220","221","222","evaluateKeyboardEvent","ev","applicationCursorMode","macOptionIsMeta","cancel","modifiers","shiftKey","altKey","ctrlKey","metaKey","keyCode","C0","ESC","BS","DEL","HT","CR","keyMapping","DynamicCharAtlas_1","NoneCharAtlas_1","StaticCharAtlas_1","charAtlasImplementations","default","charAtlasCache","newConfig","generateConfig","ownedByIndex","ownedBy","configEquals","config","atlas","newEntry","experimentalCharAtlas","removeTerminalFromCache","DEFAULT_BELL_SOUND","SoundManager","_audioContext","audioContextCtor","AudioContext","webkitAudioContext","console","warn","playBellSound","ctx","audioContext","bellAudioSource","createBufferSource","decodeAudioData","_base64ToArrayBuffer","_removeMimeType","bellSound","connect","destination","base64","binaryString","bytes","dataURI","splitUri","split","BaseCharAtlas_1","CharAtlasGenerator_1","LRUMap_1","TEXTURE_WIDTH","TEXTURE_HEIGHT","TRANSPARENT_COLOR","rgba","FRAME_CACHE_DRAW_LIMIT","GLYPH_BITMAP_COMMIT_DELAY","getGlyphCacheKey","glyph","DynamicCharAtlas","_config","_drawToCacheCount","_glyphsWaitingOnBitmap","_bitmapCommitTimeout","_bitmap","_cacheCanvas","_cacheCtx","tmpCanvas","_tmpCtx","_width","_height","capacity","_cacheMap","prealloc","beginFrame","_canCache","glyphKey","cacheValue","_drawFromCache","size","peek","cacheValue_1","_drawToCache","_toCoordinateX","_toCoordinateY","isEmpty","cacheX","cacheY","drawImage","inBitmap","_getColorFromAnsiIndex","idx","DEFAULT_ANSI_COLORS","_getBackgroundColor","_getForegroundColor","backgroundColor","globalCompositeOperation","imageData","getImageData","clearColor","putImageData","_addGlyphToBitmap","isFirefox","isSafari","_generateBitmap","glyphsMovingToBitmap","createImageBitmap","then","bitmap","Terminal_1","Terminal","textarea","blur","listener","off","columns","writeln","open","parent","attachCustomKeyEventHandler","customKeyEventHandler","registerLinkMatcher","deregisterLinkMatcher","matcherId","cursorYOffset","hasSelection","selectAll","selectLines","destroy","scrollPages","pageCount","scrollToTop","scrollToBottom","scrollToLine","write","setOption","applyAddon","addon","CharMeasure","parentElement","_parentElement","_measureElement","measure","geometry","getBoundingClientRect","prepareTextForTerminal","bracketTextForPaste","bracketedPasteMode","copyHandler","browser","isMSIE","clipboardData","setData","selectionText","pasteHandler","stopPropagation","dispatchPaste","getData","moveTextAreaUnderMouseCursor","clientX","clientY","rightClickHandler","shouldSelectWord","isClickInSelection","selectWordAtCursor","select","SearchHelper_1","addonTerminal","__searchHelper","terminalConstructor","isNode","navigator","userAgent","platform","contains","arr","test","isIpad","isIphone","isMSWindows","isLinux","array","fillFallback","NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","LF","VT","FF","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","FS","GS","RS","US","SP","C1","PAD","HOP","BPH","NBH","IND","NEL","SSA","ESA","HTS","HTJ","VTS","PLD","PLU","RI","SS2","SS3","DCS","PU1","PU2","STS","CCH","MW","SPA","EPA","SOS","SGCI","SCI","CSI","ST","OSC","PM","APC","NoneCharAtlas","BaseCharAtlas","_didWarmUp","_doWarmUp","promptLabel","_events","disposed","obj","removeAllListeners","args","listeners","MouseHelper_1","Browser","SelectionModel_1","AltClickHandler_1","DRAG_SCROLL_MAX_THRESHOLD","DRAG_SCROLL_MAX_SPEED","DRAG_SCROLL_INTERVAL","ALT_CLICK_MOVE_CURSOR_TIME","WORD_SEPARATORS","NON_BREAKING_SPACE_CHAR","ALL_NON_BREAKING_SPACE_REGEX","SelectionManager","_charMeasure","_enabled","_initListeners","enable","_model","SelectionModel","_activeSelectionMode","_removeMouseDownListeners","buffers","active","event","_mouseUpListener","_onMouseUp","_trimListener","_onTrim","initBuffersListeners","_onBufferActivate","disable","finalSelectionStart","finalSelectionEnd","lineText","bufferLine","formattedResult","map","isNewSelection","_refreshAnimationFrame","_refresh","_getMouseBufferCoords","_areCoordsInSelection","_selectWordAt","isSelectAllActive","needsRefresh","onTrim","_getMouseEventScrollAmount","MouseHelper","getCoordsRelativeToElement","terminalHeight","abs","shouldForceSelection","macOptionClickForcesSelection","onMouseDown","_mouseDownTimeStamp","timeStamp","button","_dragScrollAmount","_onIncrementalClick","detail","_onSingleClick","_onDoubleClick","_onTripleClick","_addMouseDownListeners","ownerDocument","_dragScrollIntervalTimer","setInterval","_dragScroll","clearInterval","selectionStartLength","shouldColumnSelect","_selectLineAt","previousSelectionEnd","_selectToWordAt","timeElapsed","AltClickHandler","move","inactiveBuffer","activeBuffer","_convertViewportColToCharacterIndex","charIndex","_getWordAt","allowWhitespaceOnlySelection","followWrappedLinesAbove","followWrappedLinesBelow","charOffset","leftWideCharCount","rightWideCharCount","leftLongCharOffset","rightLongCharOffset","_isCharWordSeparator","trim","previousBufferLine","previousLineWordPosition","nextBufferLine","nextLineWordPosition","wordPosition","areSelectionValuesReversed","wrappedRange","StaticCharAtlas","_canvasFactory","canvas","generateStaticCharAtlasTexture","HTMLCanvasElement","_texture","texture","_isCached","colorIndex","isAscii","isBasicColor","isDefaultColor","isDefaultBackground","charAtlasCellWidth","CHAR_ATLAS_CELL_SPACING","charAtlasCellHeight","GridCache_1","characterJoinerRegistry","_characterOverlapCache","GridCache","terminalFont","_characterWidth","_characterFont","_forEachCell","firstRow","lastRow","joinerRegistry","callback","isJoined","lastCharX","Infinity","_isOverlapping","_drawBackground","startX","startY","prevFillStyle","nextFillStyle","_drawForeground","cache","overlaps","measureText","clonedColors","colorCode","_renderer","setRenderer","originalElement","offsetLeft","offsetTop","offsetParent","body","scrollLeft","colCount","isSelection","getRawByteCoords","FileOrDirUpload","params","headers","post","protocolClause","domainCharacterSet","negatedDomainCharacterSet","domainBodyClause","tldClause","ipClause","localHostClause","portClause","hostClause","pathClause","queryStringHashFragmentCharacterSet","queryStringClause","hashFragmentClause","negatedPathCharacterSet","bodyClause","strictUrlRegex","handleLink","uri","webLinksInit","matchIndex","BLINK_INTERVAL","isFocused","_cursorRenderers","_renderBarCursor","_renderBlockCursor","_renderUnderlineCursor","_clearCursor","_cursorBlinkStateManager","pause","resume","cursorBlink","CursorBlinkStateManager","_render","restartBlinkAnimation","isPaused","triggeredByAnimationFrame","cursorState","cursorHidden","cursorY","viewportRelativeCursorY","_renderBlurCursor","isCursorVisible","strokeStyle","_renderCallback","_restartInterval","_blinkStartTimeout","_blinkInterval","_animationTimeRestarted","Date","now","timeToStart","time","context","canvasFactory","cellHeight","getFont","charAtlasImageData","color","r","g","CompositionHelper","_textarea","_compositionView","_isComposing","_isSendingComposition","_compositionPosition","compositionstart","compositionupdate","updateCompositionElements","compositionend","_finalizeComposition","keydown","_handleAnyTextareaChanges","waitForPropogation","_clearTextareaPosition","currentCompositionPosition_1","input","oldValue","newValue","diff","dontRecurse","isCursorInViewport","cursorTop","cursorLeft","compositionViewBounds","TypedArrayUtils_1","getStringCellWidth","s","wcwidth","second","opts","COMBINING_BMP","COMBINING_HIGH","bisearch","ucs","mid","wcwidthHigh","control","table","nul","num","CHARSETS","DEFAULT_CHARSET","BufferSet_1","CompositionHelper_1","Viewport_1","Clipboard_1","InputHandler_1","Renderer_1","Linkifier_1","SelectionManager_1","CharMeasure_1","Clone_1","SoundManager_1","MouseZoneManager_1","AccessibilityManager_1","DomRenderer_1","Keyboard_1","WRITE_BUFFER_PAUSE_THRESHOLD","WRITE_BATCH_SIZE","CONSTRUCTOR_ONLY_OPTIONS","DEFAULT_OPTIONS","convertEol","termName","bellStyle","screenKeys","screenReaderMode","debug","cancelEvents","disableStdin","useFlowControl","rightClickSelectsWord","rendererType","_blankLine","_setup","_customKeyEventHandler","keys","_parent","applicationKeypad","applicationCursor","originMode","insertMode","wraparoundMode","charset","gcharset","glevel","charsets","curAttr","currentParam","writeBuffer","_writeInProgress","_xoffSentToCatchUp","_userScrolling","_inputHandler","InputHandler","Linkifier","_mouseZoneManager","soundManager","BufferSet","eraseAttr","activeElement","hasFocus","Error","error","_setTheme","newBufferLength","unregister","_setupRenderer","_theme","viewport","syncScrollArea","_accessibilityManager","normal","alt","_onTextAreaFocus","sendFocus","updateCursorStyle","showCursor","_onTextAreaBlur","_initGlobal","_bindKeys","pasteHandlerWrapper","_keyDown","_keyPress","wasModifierKeyOnlyEvent","_keyUp","_compositionHelper","_queueLinkification","_context","defaultView","dir","_viewportScrollArea","_helperContainer","attachToDom","Viewport","bindMouse","pressed","sendButton","getButton","sendEvent","overrideType","sendMove","utfMouse","_vt300Mouse","data_1","_decLocator","page","urxvtMouse","sgrMouse","meta","ctrl","mod","which","deltaY","vt200Mouse","normalMouse","mouseEvents","moveHandler","x10Mouse","hasScrollback","getLinesScrolled","sequence","onWheel","onTouchStart","onTouchMove","linkifyRows","scroll","useRecycling","topRow","bottomRow","willBufferBeTrimmed","isFull","recycle","scrollRegionHeight","shiftElements","updateRange","disp","suppressScrollEvent","oldYdisp","scrollAmount","_isDisposed","_innerWrite","writeBatch","_refreshStart","_refreshEnd","parse","scrollCount","_isThirdLevelShift","thirdLevelKey","setgLevel","setgCharset","charCode","bell","_soundBell","_visualBell","_visualBellTimer","log","isNaN","maxRange","cur","is","handleTitle","title","reverseIndex","inputHandler","tabSet","force","matchColor","r1","g1","b1","hash","matchColorCache","r2","g2","b2","ldiff","li","matchColorDistance","pow","_mouseEvent","_lines","_startCol","_startRow","coordinates","coordinate","_endCol","_endRow","_arrowSequences","_moveHorizontallyOnly","_resetStartingRow","_moveToRequestedRow","_moveToRequestedCol","repeat","_bufferLine","_wrappedRowsForRow","_sequence","rowsToMove","_wrappedRowsCount","_verticalDirection","direction","_horizontalDirection","wrappedRows","currentRow","lineWraps","forward","currentCol","bufferStr","count","str","rpt","low","high","TransitionTable","state","action","addMany","codes","PRINTABLES","EXECUTABLES","DEFAULT_TRANSITION","VT500_TRANSITION_TABLE","states","DcsDummy","hook","collect","flag","put","unhook","EscapeSequenceParser","TRANSITIONS","initialState","currentState","_osc","_params","_collect","_printHandlerFb","_executeHandlerFb","_csiHandlerFb","_escHandlerFb","_oscHandlerFb","identifier","_dcsHandlerFb","_errorHandlerFb","_printHandler","_executeHandlers","_csiHandlers","_escHandlers","_oscHandlers","_dcsHandlers","_activeDcsHandler","_errorHandler","setEscHandler","setPrintHandler","clearPrintHandler","setExecuteHandler","clearExecuteHandler","setExecuteHandlerFallback","setCsiHandler","clearCsiHandler","setCsiHandlerFallback","collectAndFlag","clearEscHandler","setEscHandlerFallback","setOscHandler","ident","clearOscHandler","setOscHandlerFallback","setDcsHandler","clearDcsHandler","setDcsHandlerFallback","setErrorHandler","clearErrorHandler","transition","print","dcs","osc","dcsHandler","inject","abort","parseInt","LRUMap","_map","_head","_tail","_nodePool","_unlinkNode","prev","_appendNode","tail","nodePool","peekValue","head","CharWidth_1","_linkMatchers","_nextLinkMatcherId","_rowsToLinkify","mouseZoneManager","_rowsTimeoutId","_linkifyRows","TIME_BEFORE_LINKIFY","absoluteRowIndexStart","absoluteRowIndexEnd","overscanLineLimit","OVERSCAN_CHAR_LIMIT","_doLinkifyRow","matcher","validationCallback","hoverTooltipCallback","hoverLeaveCallback","priority","_addLinkMatcherToList","rowIndex","rex","source","_loop_1","this_1","bufferIndex","isValid","_addLink","state_1","_createLinkHoverEvent","proposeGeometry","parentElementStyle","getComputedStyle","parentElementHeight","getPropertyValue","parentElementWidth","elementStyle","elementPadding","bottom","right","elementPaddingVer","elementPaddingHor","availableHeight","availableWidth","scrollBarWidth","fit","render","_vm","_h","$createElement","_c","_self","attrs","$t","selectedNamespace","nativeOn","$event","getNamespace","model","$$v","namespace","expression","_l","item","_v","selecteddeployment","deployment","label","getStatus","_s","staticClass","tableData","scopedSlots","_u","fn","scope","OS","openTerminal","_e","openFileBrowser","dialogTerminalVisible","doOpened","doClose","staticStyle","ref","dialogFileBrowserVisible","slot","uploadFileOrDir","globalPath","bulkDownload","bulkPath","path","name","padding","fileBrowserData","prop","order","handleSelectionChange","Path","Name","download","staticRenderFns","GetStatus","GetDeployment","FileBrowser","defaultTheme","black","brightBlack","red","brightRed","green","brightGreen","yellow","brightYellow","magenta","brightMagenta","blue","brightBlue","cyan","brightCyan","white","brightWhite","bindTerminalResize","websocket","onTermResize","send","bindTerminal","bidirectional","bufferedTime","socket","messageBuffer","handleWebSocketMessage","handleTerminalData","onmessage","heartBeatTimer","namespaces","tableLoading","deployments","pods","headerPaths","wsUrl","isFullScreen","searchKey","visible","ws","thisV","methods","res","metadata","_d","pod_name","cData","containers","tr","Pods","Container","Image","Tag","ImagePullSecrets","State","CPU","RAM","os","shell","_p","_pa","alert","err","info","message","url","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","status","response","eLink","getResponseHeader","display","blob","Blob","href","URL","createObjectURL","click","paths","files","formData","FormData","append","container_name","dest_path","failure","success","clientHeight","close","$emit","clientWidth","_initialized","prompt","$refs","doLink","WebSocket","onerror","$message","onclose","watch","component","_maxLength","_array","_length","newArray","_getCyclicIndex","newLength","countToTrim","expandListBy","startPlusLength","DEFAULT_FOREGROUND","fromHex","DEFAULT_BACKGROUND","DEFAULT_CURSOR","DEFAULT_CURSOR_ACCENT","DEFAULT_SELECTION","toPaddedHex","_litmusColor","createLinearGradient","_parseColor","fallback","_clearCurrentLink","middleRowCount","Charsets_1","EscapeSequenceParser_1","GLEVEL","RequestTerminfo","DECRQSS","pt","STYLES","_parser","_surrogateFirst","insertChars","cursorUp","cursorDown","cursorForward","cursorBackward","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","cursorPosition","cursorForwardTab","eraseInDisplay","eraseInLine","insertLines","deleteLines","deleteChars","scrollUp","scrollDown","eraseChars","cursorBackwardTab","charPosAbsolute","hPositionRelative","repeatPrecedingCharacter","sendDeviceAttributes","linePosAbsolute","vPositionRelative","hVPosition","tabClear","setMode","resetMode","charAttributes","deviceStatus","softReset","setCursorStyle","setScrollRegion","saveCursor","restoreCursor","lineFeed","carriageReturn","backspace","tab","shiftOut","shiftIn","setTitle","keypadApplicationMode","keypadNumericMode","selectDefaultCharset","selectCharset","cursorStartX","cursorStartY","chWidth","bufferRow","stringPosition","lastCell","chMinusOne","chMinusTwo","originalX","param","_eraseInBufferLine","clearWrap","_resetBufferLine","scrollBackSize","scrollBottomRowsOffset","scrollBottomAbsolute","savedCols","activateAltBuffer","activateNormalBuffer","isBlinking","savedCurAttr","level","_disposables","_normal","_alt","_activeBuffer","_listener","clearListener","_outerListener","_currentDevicePixelRatio","_updateDpr","_resolutionMediaMatchList","removeListener","matchMedia","addListener","FALLBACK_SCROLL_BAR_WIDTH","_scrollArea","_currentRowHeight","_lastRecordedBufferLength","_lastRecordedViewportHeight","_lastRecordedBufferHeight","_lastScrollTop","_wheelPartialScroll","_ignoreNextScrollEvent","offsetWidth","_onScroll","offsetHeight","newBufferHeight","newScrollTop","newRow","_getPixelsScrolled","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","DOM_DELTA_PIXEL","_lastTouchY","touches"],"mappings":"kHACAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAW,EAAQ,QACnBC,EAA2B,WAC3B,SAASA,EAAwBC,GAC7BC,KAAKD,UAAYA,EACjBC,KAAKC,kBAAoB,GACzBD,KAAKE,uBAAyB,EA2JlC,OAzJAJ,EAAwBK,UAAUC,wBAA0B,SAAUC,GAClE,IAAIC,EAAS,CACTC,GAAIP,KAAKE,yBACTG,QAASA,GAGb,OADAL,KAAKC,kBAAkBO,KAAKF,GACrBA,EAAOC,IAElBT,EAAwBK,UAAUM,0BAA4B,SAAUC,GACpE,IAAK,IAAIC,EAAI,EAAGA,EAAIX,KAAKC,kBAAkBW,OAAQD,IAC/C,GAAIX,KAAKC,kBAAkBU,GAAGJ,KAAOG,EAEjC,OADAV,KAAKC,kBAAkBY,OAAOF,EAAG,IAC1B,EAGf,OAAO,GAEXb,EAAwBK,UAAUW,oBAAsB,SAAUC,GAC9D,GAAsC,IAAlCf,KAAKC,kBAAkBW,OACvB,MAAO,GAEX,IAAII,EAAOhB,KAAKD,UAAUkB,OAAOC,MAAMC,IAAIJ,GAC3C,GAAoB,IAAhBC,EAAKJ,OACL,MAAO,GAQX,IANA,IAAIQ,EAAS,GACTC,EAAUrB,KAAKD,UAAUkB,OAAOK,4BAA4BP,GAAK,GACjEQ,EAAmB,EACnBC,EAAqB,EACrBC,EAAwB,EACxBC,EAAYV,EAAKG,IAAI,GAAGtB,EAAS8B,uBAAyB,EACrDC,EAAI,EAAGA,EAAI5B,KAAKD,UAAU8B,KAAMD,IAAK,CAC1C,IAAIE,EAAWd,EAAKG,IAAIS,GACpBG,EAAQD,EAASjC,EAASmC,sBAC1BC,EAAQH,EAASjC,EAASqC,uBAC1BC,EAAOL,EAASjC,EAAS8B,uBAAyB,EACtD,GAAc,IAAVM,EAAJ,CAGA,GAAIE,IAAST,EAAW,CACpB,GAAIE,EAAIL,EAAmB,EAEvB,IADA,IAAIa,EAAepC,KAAKqC,iBAAiBhB,EAASI,EAAuBD,EAAoBR,EAAMO,GAC1FZ,EAAI,EAAGA,EAAIyB,EAAaxB,OAAQD,IACrCS,EAAOZ,KAAK4B,EAAazB,IAGjCY,EAAmBK,EACnBH,EAAwBD,EACxBE,EAAYS,EAEhBX,GAAsBO,EAAMnB,QAEhC,GAAIZ,KAAKD,UAAU8B,KAAON,EAAmB,EAEzC,IADIa,EAAepC,KAAKqC,iBAAiBhB,EAASI,EAAuBD,EAAoBR,EAAMO,GAC1FZ,EAAI,EAAGA,EAAIyB,EAAaxB,OAAQD,IACrCS,EAAOZ,KAAK4B,EAAazB,IAGjC,OAAOS,GAEXtB,EAAwBK,UAAUkC,iBAAmB,SAAUrB,EAAMsB,EAAYC,EAAUC,EAAUC,GAGjG,IAFA,IAAIC,EAAO1B,EAAK2B,UAAUL,EAAYC,GAClCH,EAAepC,KAAKC,kBAAkB,GAAGI,QAAQqC,GAC5C/B,EAAI,EAAGA,EAAIX,KAAKC,kBAAkBW,OAAQD,IAE/C,IADA,IAAIiC,EAAe5C,KAAKC,kBAAkBU,GAAGN,QAAQqC,GAC5CG,EAAI,EAAGA,EAAID,EAAahC,OAAQiC,IACrC/C,EAAwBgD,aAAaV,EAAcQ,EAAaC,IAIxE,OADA7C,KAAK+C,0BAA0BX,EAAcI,EAAUC,GAChDL,GAEXtC,EAAwBK,UAAU4C,0BAA4B,SAAU3B,EAAQJ,EAAMyB,GAClF,IAAIO,EAAoB,EACpBC,GAAsB,EACtBzB,EAAqB,EACrB0B,EAAe9B,EAAO4B,GAC1B,GAAKE,EAAL,CAGA,IAAK,IAAItB,EAAIa,EAAUb,EAAI5B,KAAKD,UAAU8B,KAAMD,IAAK,CACjD,IAAIE,EAAWd,EAAKG,IAAIS,GACpBK,EAAQH,EAASjC,EAASqC,uBAC1BiB,EAAWrB,EAASjC,EAASmC,sBAAsBpB,OACvD,GAAc,IAAVqB,EAAJ,CAOA,IAJKgB,GAAuBC,EAAa,IAAM1B,IAC3C0B,EAAa,GAAKtB,EAClBqB,GAAsB,GAEtBC,EAAa,IAAM1B,EAAoB,CAGvC,GAFA0B,EAAa,GAAKtB,EAClBsB,EAAe9B,IAAS4B,IACnBE,EACD,MAEAA,EAAa,IAAM1B,GACnB0B,EAAa,GAAKtB,EAClBqB,GAAsB,GAGtBA,GAAsB,EAG9BzB,GAAsB2B,GAEtBD,IACAA,EAAa,GAAKlD,KAAKD,UAAU8B,QAGzC/B,EAAwBgD,aAAe,SAAU1B,EAAQgC,GAErD,IADA,IAAIC,GAAU,EACL1C,EAAI,EAAGA,EAAIS,EAAOR,OAAQD,IAAK,CACpC,IAAI2C,EAAQlC,EAAOT,GACnB,GAAK0C,EAAL,CAgBI,GAAID,EAAS,IAAME,EAAM,GAErB,OADAlC,EAAOT,EAAI,GAAG,GAAKyC,EAAS,GACrBhC,EAEX,GAAIgC,EAAS,IAAME,EAAM,GAIrB,OAHAlC,EAAOT,EAAI,GAAG,GAAK4C,KAAKC,IAAIJ,EAAS,GAAIE,EAAM,IAC/ClC,EAAOP,OAAOF,EAAG,GACjB0C,GAAU,EACHjC,EAEXA,EAAOP,OAAOF,EAAG,GACjBA,QA3BJ,CACI,GAAIyC,EAAS,IAAME,EAAM,GAErB,OADAlC,EAAOP,OAAOF,EAAG,EAAGyC,GACbhC,EAEX,GAAIgC,EAAS,IAAME,EAAM,GAErB,OADAA,EAAM,GAAKC,KAAKE,IAAIL,EAAS,GAAIE,EAAM,IAChClC,EAEPgC,EAAS,GAAKE,EAAM,KACpBA,EAAM,GAAKC,KAAKE,IAAIL,EAAS,GAAIE,EAAM,IACvCD,GAAU,IAyBtB,OANIA,EACAjC,EAAOA,EAAOR,OAAS,GAAG,GAAKwC,EAAS,GAGxChC,EAAOZ,KAAK4C,GAEThC,GAEJtB,EA/JmB,GAiK9BH,EAAQG,wBAA0BA,G,6DCnKlCL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+D,MAAQ,SAAUC,EAAKC,GAE3B,QADc,IAAVA,IAAoBA,EAAQ,GACb,kBAARD,EACP,OAAOA,EAEX,GAAY,OAARA,EACA,OAAO,KAEX,IAAIE,EAAeC,MAAMC,QAAQJ,GAAO,GAAK,GAC7C,IAAK,IAAIK,KAAOL,EACZE,EAAaG,GAAOJ,GAAS,EAAID,EAAIK,GAAOrE,EAAQ+D,MAAMC,EAAIK,GAAMJ,EAAQ,GAEhF,OAAOC,I,oCCbXpE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAW,EAAQ,QACnBoE,EAAU,EAAQ,QACtBtE,EAAQuE,WAAa,aACrBvE,EAAQwE,aAAe,eACvBxE,EAAQyE,aAAe,eACvBzE,EAAQ0E,yBAA2B,qBACnC1E,EAAQ2E,uBAAyB,mBACjC3E,EAAQ4E,6BAA+B,yBACvC,IAAIC,EAAyB,WACzB,SAASA,EAAsBC,GAC3BzE,KAAKyE,UAAYA,EAyErB,OAvEAD,EAAsBrE,UAAUuE,UAAY,SAAUlC,EAAUmC,EAAaC,EAAaC,EAASC,EAAWjD,GAG1G,IAFA,IAAIkD,EAAW/E,KAAKyE,UAAUO,yBAC1BC,EAAa,EACRrD,EAAI2B,KAAKE,IAAIjB,EAAS5B,OAAQiB,GAAQ,EAAGD,GAAK,EAAGA,IAAK,CAC3D,IAAIE,EAAWU,EAASrB,IAAIS,GACxBsD,EAAOpD,EAASjC,EAASsF,sBAC7B,GAAID,IAASrF,EAASuF,gBAAmBT,GAAe/C,IAAMiD,EAAU,CACpEI,EAAarD,EAAI,EACjB,OAGR,IAASA,EAAI,EAAGA,EAAIqD,EAAYrD,IAAK,CAC7BE,EAAWU,EAASrB,IAAIS,GAA5B,IACIyD,EAAOvD,EAASjC,EAASmC,sBACzBG,EAAOL,EAASjC,EAAS8B,sBACzBM,EAAQH,EAASjC,EAASqC,uBAC9B,GAAc,IAAVD,EAAJ,CAGA,IAAIqD,EAActF,KAAKyE,UAAUc,cAAc,QAC3CtD,EAAQ,IACRqD,EAAYE,MAAMvD,MAAQ6C,EAAY7C,EAAQ,MAElD,IAAIwD,EAAQtD,GAAQ,GAChBuD,EAAY,IAAPvD,EACLwD,EAAMxD,GAAQ,EAAK,IACvB,GAAIwC,GAAe/C,IAAMiD,EAErB,OADAS,EAAYM,UAAUC,IAAIlG,EAAQyE,cAC1BQ,GACJ,IAAK,MACDU,EAAYM,UAAUC,IAAIlG,EAAQ2E,wBAClC,MACJ,IAAK,YACDgB,EAAYM,UAAUC,IAAIlG,EAAQ4E,8BAClC,MACJ,QACIe,EAAYM,UAAUC,IAAIlG,EAAQ0E,0BAClC,MAGZ,GAAY,EAARoB,EAAW,CACX,IAAIK,EAAOJ,EACXA,EAAKC,EACLA,EAAKG,EACDH,IAAO1B,EAAQ8B,gBACfJ,EAAK1B,EAAQ+B,wBAEbN,IAAOzB,EAAQ8B,gBACfL,EAAKzB,EAAQ+B,wBAGT,EAARP,IACIE,EAAK,IACLA,GAAM,GAEVL,EAAYM,UAAUC,IAAIlG,EAAQuE,aAE1B,GAARuB,GACAH,EAAYM,UAAUC,IAAIlG,EAAQwE,cAEtCmB,EAAYW,YAAcZ,EACtBM,IAAO1B,EAAQ8B,eACfT,EAAYM,UAAUC,IAAI,YAAcF,GAExCD,IAAOzB,EAAQ8B,eACfT,EAAYM,UAAUC,IAAI,YAAcH,GAE5CX,EAASmB,YAAYZ,IAEzB,OAAOP,GAEJP,EA3EiB,GA6E5B7E,EAAQ6E,sBAAwBA,G,oCCtFhC/E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqE,EAAU,EAAQ,QAClBkC,EAAmB,EAAQ,QAC3BtG,EAAW,EAAQ,QACnBuG,EAAmB,EAAQ,QAC3BC,EAAmB,WACnB,SAASA,EAAgBC,EAAY/F,EAAIgG,EAAQC,EAAQC,GACrDzG,KAAKsG,WAAaA,EAClBtG,KAAKwG,OAASA,EACdxG,KAAKyG,QAAUA,EACfzG,KAAK0G,iBAAmB,EACxB1G,KAAK2G,kBAAoB,EACzB3G,KAAK4G,iBAAmB,EACxB5G,KAAK6G,kBAAoB,EACzB7G,KAAK8G,gBAAkB,EACvB9G,KAAK+G,eAAiB,EACtB/G,KAAKgH,wBAA0B,CAC3BjF,MAAO,GACPmD,KAAM,EACNQ,GAAI,EACJC,GAAI,EACJsB,MAAM,EACNC,KAAK,EACLC,QAAQ,GAEZnH,KAAKoH,QAAUC,SAAS9B,cAAc,UACtCvF,KAAKoH,QAAQxB,UAAUC,IAAI,SAAWtF,EAAK,UAC3CP,KAAKoH,QAAQ5B,MAAMe,OAASA,EAAOe,WACnCtH,KAAKuH,cACLvH,KAAKsG,WAAWJ,YAAYlG,KAAKoH,SA+IrC,OA7IAf,EAAgBlG,UAAUqH,QAAU,WAChCxH,KAAKsG,WAAWmB,YAAYzH,KAAKoH,SAC7BpH,KAAK0H,YACL1H,KAAK0H,WAAWF,WAGxBnB,EAAgBlG,UAAUoH,YAAc,WACpCvH,KAAK2H,KAAO3H,KAAKoH,QAAQQ,WAAW,KAAM,CAAEC,MAAO7H,KAAKwG,SACnDxG,KAAKwG,QACNxG,KAAK8H,YAGbzB,EAAgBlG,UAAU4H,iBAAmB,SAAUC,KACvD3B,EAAgBlG,UAAU8H,OAAS,SAAUD,KAC7C3B,EAAgBlG,UAAU+H,QAAU,SAAUF,KAC9C3B,EAAgBlG,UAAUgI,aAAe,SAAUH,KACnD3B,EAAgBlG,UAAUiI,cAAgB,SAAUJ,EAAUK,EAAUC,KACxEjC,EAAgBlG,UAAUoI,mBAAqB,SAAUP,EAAUQ,EAAOC,EAAKC,QAClD,IAArBA,IAA+BA,GAAmB,IAE1DrC,EAAgBlG,UAAUwI,eAAiB,SAAUX,EAAUY,GAC3D5I,KAAK6I,kBAAkBb,EAAUY,IAErCvC,EAAgBlG,UAAU2I,gBAAkB,SAAUd,EAAUH,GAC5D,GAAIA,IAAU7H,KAAKwG,OAAnB,CAGA,IAAIuC,EAAY/I,KAAKoH,QACrBpH,KAAKwG,OAASqB,EACd7H,KAAKoH,QAAUpH,KAAKoH,QAAQ4B,YAC5BhJ,KAAKuH,cACLvH,KAAKsG,WAAW2C,aAAajJ,KAAKoH,QAAS2B,GAC3C/I,KAAK6I,kBAAkBb,EAAUhI,KAAKyG,SACtCzG,KAAKoI,cAAcJ,EAAU,EAAGA,EAASkB,KAAO,KAEpD7C,EAAgBlG,UAAU0I,kBAAoB,SAAUb,EAAUY,GAC1D5I,KAAK0G,kBAAoB,GAAK1G,KAAK2G,mBAAqB,IAG5D3G,KAAK0H,WAAavB,EAAiBgD,iBAAiBnB,EAAUY,EAAU5I,KAAK0G,iBAAkB1G,KAAK2G,mBACpG3G,KAAK0H,WAAW0B,WAEpB/C,EAAgBlG,UAAUkJ,OAAS,SAAUrB,EAAUd,GACnDlH,KAAK4G,iBAAmBM,EAAIoC,gBAC5BtJ,KAAK6G,kBAAoBK,EAAIqC,iBAC7BvJ,KAAK0G,iBAAmBQ,EAAIsC,gBAC5BxJ,KAAK2G,kBAAoBO,EAAIuC,iBAC7BzJ,KAAK8G,gBAAkBI,EAAIwC,eAC3B1J,KAAK+G,eAAiBG,EAAIyC,cAC1B3J,KAAKoH,QAAQnF,MAAQiF,EAAI0C,kBACzB5J,KAAKoH,QAAQyC,OAAS3C,EAAI4C,mBAC1B9J,KAAKoH,QAAQ5B,MAAMvD,MAAQiF,EAAI6C,YAAc,KAC7C/J,KAAKoH,QAAQ5B,MAAMqE,OAAS3C,EAAI8C,aAAe,KAC1ChK,KAAKwG,QACNxG,KAAK8H,WAET9H,KAAK6I,kBAAkBb,EAAUhI,KAAKyG,UAE1CJ,EAAgBlG,UAAU8J,UAAY,SAAUrI,EAAGsI,EAAGjI,EAAO4H,GACzD7J,KAAK2H,KAAKwC,SAASvI,EAAI5B,KAAK4G,iBAAkBsD,EAAIlK,KAAK6G,kBAAmB5E,EAAQjC,KAAK4G,iBAAkBiD,EAAS7J,KAAK6G,oBAE3HR,EAAgBlG,UAAUiK,sBAAwB,SAAUxI,EAAGsI,EAAGjI,QAChD,IAAVA,IAAoBA,EAAQ,GAChCjC,KAAK2H,KAAKwC,SAASvI,EAAI5B,KAAK4G,kBAAmBsD,EAAI,GAAKlK,KAAK6G,kBAAoBwD,OAAOC,iBAAmB,EAAGrI,EAAQjC,KAAK4G,iBAAkByD,OAAOC,mBAExJjE,EAAgBlG,UAAUoK,mBAAqB,SAAU3I,EAAGsI,GACxDlK,KAAK2H,KAAKwC,SAASvI,EAAI5B,KAAK4G,iBAAkBsD,EAAIlK,KAAK6G,kBAAmBwD,OAAOC,iBAAkBtK,KAAK6G,oBAE5GR,EAAgBlG,UAAUqK,iBAAmB,SAAU5I,EAAGsI,EAAGjI,EAAO4H,GAChE7J,KAAK2H,KAAK8C,UAAYJ,OAAOC,iBAC7BtK,KAAK2H,KAAK+C,WAAW9I,EAAI5B,KAAK4G,iBAAmByD,OAAOC,iBAAmB,EAAGJ,EAAIlK,KAAK6G,kBAAqBwD,OAAOC,iBAAmB,EAAIrI,EAAQjC,KAAK4G,iBAAmByD,OAAOC,iBAAmBT,EAAS7J,KAAK6G,kBAAqBwD,OAAOC,mBAElPjE,EAAgBlG,UAAU2H,SAAW,WAC7B9H,KAAKwG,OACLxG,KAAK2H,KAAKgD,UAAU,EAAG,EAAG3K,KAAKoH,QAAQnF,MAAOjC,KAAKoH,QAAQyC,SAG3D7J,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQoE,WAAWC,IAC9C9K,KAAK2H,KAAKwC,SAAS,EAAG,EAAGnK,KAAKoH,QAAQnF,MAAOjC,KAAKoH,QAAQyC,UAGlExD,EAAgBlG,UAAU4K,WAAa,SAAUnJ,EAAGsI,EAAGjI,EAAO4H,GACtD7J,KAAKwG,OACLxG,KAAK2H,KAAKgD,UAAU/I,EAAI5B,KAAK4G,iBAAkBsD,EAAIlK,KAAK6G,kBAAmB5E,EAAQjC,KAAK4G,iBAAkBiD,EAAS7J,KAAK6G,oBAGxH7G,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQoE,WAAWC,IAC9C9K,KAAK2H,KAAKwC,SAASvI,EAAI5B,KAAK4G,iBAAkBsD,EAAIlK,KAAK6G,kBAAmB5E,EAAQjC,KAAK4G,iBAAkBiD,EAAS7J,KAAK6G,qBAG/HR,EAAgBlG,UAAU6K,kBAAoB,SAAUhD,EAAUlG,EAAUF,EAAGsI,GAC3ElK,KAAK2H,KAAKsD,KAAOjL,KAAKkL,SAASlD,GAAU,GAAO,GAChDhI,KAAK2H,KAAKwD,aAAe,MACzBnL,KAAKoL,SAASpD,EAAUkC,GACxBlK,KAAK2H,KAAK0D,SAASvJ,EAASjC,EAASmC,sBAAuBJ,EAAI5B,KAAK4G,iBAAmB5G,KAAK8G,gBAAiBoD,EAAIlK,KAAK6G,kBAAoB7G,KAAK+G,iBAEpJV,EAAgBlG,UAAUmL,UAAY,SAAUtD,EAAUjG,EAAOmD,EAAMjD,EAAOL,EAAGsI,EAAGvE,EAAID,EAAIuB,EAAMC,EAAKC,GACnG,IAAIoE,EAAoBvD,EAASwD,QAAQC,4BAA8BxE,GAAQtB,EAAK,GAAKA,IAAO1B,EAAQ+B,uBACxGL,GAAM4F,EAAoB,EAAI,EAC9BvL,KAAKgH,wBAAwBjF,MAAQA,EACrC/B,KAAKgH,wBAAwB9B,KAAOA,EACpClF,KAAKgH,wBAAwBtB,GAAKA,EAClC1F,KAAKgH,wBAAwBrB,GAAKA,EAClC3F,KAAKgH,wBAAwBC,KAAOA,GAAQe,EAASwD,QAAQE,WAC7D1L,KAAKgH,wBAAwBE,IAAMA,EACnClH,KAAKgH,wBAAwBG,OAASA,EACtC,IAAIwE,EAAe3L,KAAK0H,YAAc1H,KAAK0H,WAAWkE,KAAK5L,KAAK2H,KAAM3H,KAAKgH,wBAAyBpF,EAAI5B,KAAK4G,iBAAmB5G,KAAK8G,gBAAiBoD,EAAIlK,KAAK6G,kBAAoB7G,KAAK+G,gBACnL4E,GACD3L,KAAK6L,mBAAmB7D,EAAUjG,EAAOE,EAAO0D,EAAI/D,EAAGsI,EAAGjD,GAAQe,EAASwD,QAAQE,WAAYxE,EAAKC,IAG5Gd,EAAgBlG,UAAU0L,mBAAqB,SAAU7D,EAAUjG,EAAOE,EAAO0D,EAAI/D,EAAGsI,EAAGjD,EAAMC,EAAKC,GAClGnH,KAAK2H,KAAKmE,OACV9L,KAAK2H,KAAKsD,KAAOjL,KAAKkL,SAASlD,EAAUf,EAAME,GAC/CnH,KAAK2H,KAAKwD,aAAe,MACrBxF,IAAO1B,EAAQ+B,uBACfhG,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQoE,WAAWC,IAEzC1E,EAAiB2F,WAAWpG,GACjC3F,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQuF,KAAKrG,GAAImF,IAG5C9K,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQwF,WAAWnB,IAElD9K,KAAKoL,SAASpD,EAAUkC,GACpBhD,IACAlH,KAAK2H,KAAKuE,YAAcjI,EAAQkI,aAEpCnM,KAAK2H,KAAK0D,SAAStJ,EAAOH,EAAI5B,KAAK4G,iBAAmB5G,KAAK8G,gBAAiBoD,EAAIlK,KAAK6G,kBAAoB7G,KAAK+G,gBAC9G/G,KAAK2H,KAAKyE,WAEd/F,EAAgBlG,UAAUiL,SAAW,SAAUpD,EAAUkC,GACrDlK,KAAK2H,KAAK0E,YACVrM,KAAK2H,KAAK2E,KAAK,EAAGpC,EAAIlK,KAAK6G,kBAAmBmB,EAASnG,KAAO7B,KAAK4G,iBAAkB5G,KAAK6G,mBAC1F7G,KAAK2H,KAAK4E,QAEdlG,EAAgBlG,UAAU+K,SAAW,SAAUlD,EAAUwE,EAAQC,GAC7D,IAAIC,EAAaF,EAASxE,EAASwD,QAAQmB,eAAiB3E,EAASwD,QAAQkB,WACzEE,EAAYH,EAAW,SAAW,GACtC,OAAOG,EAAY,IAAMF,EAAa,IAAM1E,EAASwD,QAAQqB,SAAWxC,OAAOC,iBAAmB,MAAQtC,EAASwD,QAAQsB,YAExHzG,EAvKW,GAyKtB1G,EAAQ0G,gBAAkBA,G,kCC9K1B5G,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAW,EAAQ,QACnBkN,EAAqB,WACrB,SAASA,EAAkBlL,EAAMmL,EAAcC,GAC3CjN,KAAKiN,WAAY,EACjBjN,KAAKkN,MAAQ,GACRF,IACDA,EAAe,CAAC,EAAGnN,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBAEnF,IAAK,IAAIzE,EAAI,EAAGA,EAAIkB,EAAMlB,IACtBX,KAAKqN,MAAML,GAEXC,IACAjN,KAAKiN,WAAY,GAErBjN,KAAKY,OAASZ,KAAKkN,MAAMtM,OAuE7B,OArEAmM,EAAkB5M,UAAUmN,KAAO,WAC/B,IAAIC,EAAOvN,KAAKkN,MAAMM,MAEtB,OADAxN,KAAKY,OAASZ,KAAKkN,MAAMtM,OAClB2M,GAEXR,EAAkB5M,UAAUkN,MAAQ,SAAUE,GAC1CvN,KAAKkN,MAAM1M,KAAK+M,GAChBvN,KAAKY,OAASZ,KAAKkN,MAAMtM,QAE7BmM,EAAkB5M,UAAUsN,QAAU,SAAUjF,EAAOkF,GAEnD,IADA,IAIIC,EAJAC,EAAQ,GACHC,EAAK,EAAGA,EAAKC,UAAUlN,OAAQiN,IACpCD,EAAMC,EAAK,GAAKC,UAAUD,GAG9B,IAAIE,GAAWJ,EAAK3N,KAAKkN,OAAOrM,OAAOmN,MAAML,EAAI,CAACnF,EAAOkF,GAAaO,OAAOL,IAE7E,OADA5N,KAAKY,OAASZ,KAAKkN,MAAMtM,OAClBmN,GAEXhB,EAAkB5M,UAAUgB,IAAM,SAAU+M,GACxC,OAAOlO,KAAKkN,MAAMgB,IAEtBnB,EAAkB5M,UAAUgO,IAAM,SAAUD,EAAOX,GAC/CvN,KAAKkN,MAAMgB,GAASX,GAExBR,EAAkB5M,UAAUiO,YAAc,SAAUC,EAAKC,EAAGC,GACxD,MAAOD,IACHtO,KAAKyN,QAAQY,EAAK,EAAGE,GACrBvO,KAAKsN,QAGbP,EAAkB5M,UAAUqO,YAAc,SAAUH,EAAKC,EAAGtB,GACxD,MAAOsB,IACHtO,KAAKyN,QAAQY,EAAK,GAClBrO,KAAKqN,MAAML,IAGnBD,EAAkB5M,UAAUsO,aAAe,SAAUjG,EAAOC,EAAKuE,GAC7D,MAAOxE,EAAQC,GAAOD,EAAQxI,KAAKY,OAC/BZ,KAAKmO,IAAI3F,IAASwE,IAG1BD,EAAkB5M,UAAUkJ,OAAS,SAAUxH,EAAMmL,EAAc0B,QAChD,IAAXA,IAAqBA,GAAS,GAClC,MAAO1O,KAAKkN,MAAMtM,OAASiB,EACvB7B,KAAKkN,MAAM1M,KAAKwM,GAEpB,GAAI0B,EACA,MAAO1O,KAAKkN,MAAMtM,OAASiB,EACvB7B,KAAKkN,MAAMM,MAGnBxN,KAAKY,OAASZ,KAAKkN,MAAMtM,QAE7BmM,EAAkB5M,UAAUwO,KAAO,SAAU3B,GACzC,IAAK,IAAIrM,EAAI,EAAGA,EAAIX,KAAKY,SAAUD,EAC/BX,KAAKmO,IAAIxN,EAAGqM,IAGpBD,EAAkB5M,UAAUyO,SAAW,SAAU5N,GAC7ChB,KAAKkN,MAAQlM,EAAKkM,MAAM2B,MAAM,GAC9B7O,KAAKY,OAASI,EAAKJ,OACnBZ,KAAKiN,UAAYjM,EAAKiM,WAE1BF,EAAkB5M,UAAUuD,MAAQ,WAChC,IAAIoL,EAAU,IAAI/B,EAAkB,GAEpC,OADA+B,EAAQF,SAAS5O,MACV8O,GAEJ/B,EApFa,GAsFxBpN,EAAQoN,kBAAoBA,EAC5B,IAAIgC,EAAY,EACZC,EAAc,WACd,SAASA,EAAWnN,EAAMmL,EAAcC,GAQpC,QAPkB,IAAdA,IAAwBA,GAAY,GACxCjN,KAAKiN,UAAYA,EACjBjN,KAAKkN,MAAQ,KACblN,KAAKiP,UAAY,GACZjC,IACDA,EAAe,CAAC,EAAGnN,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBAE/EvD,EAAM,CACN7B,KAAKkN,MAAQ,IAAIgC,YAAYrN,EAAOkN,GACpC,IAAK,IAAIpO,EAAI,EAAGA,EAAIkB,IAAQlB,EACxBX,KAAKmO,IAAIxN,EAAGqM,GAGpBhN,KAAKY,OAASiB,EA6HlB,OA3HAmN,EAAW7O,UAAUgB,IAAM,SAAU+M,GACjC,IAAIiB,EAAanP,KAAKkN,MAAMgB,EAAQa,EAAY,GAChD,MAAO,CACH/O,KAAKkN,MAAMgB,EAAQa,EAAY,GACjB,WAAbI,EACKnP,KAAKiP,UAAUf,GACf,EAAekB,OAAOC,aAAaF,GAAc,GACvDnP,KAAKkN,MAAMgB,EAAQa,EAAY,GACjB,WAAbI,EACKnP,KAAKiP,UAAUf,GAAOoB,WAAWtP,KAAKiP,UAAUf,GAAOtN,OAAS,GAChEuO,IAGdH,EAAW7O,UAAUgO,IAAM,SAAUD,EAAOtO,GACxCI,KAAKkN,MAAMgB,EAAQa,EAAY,GAAKnP,EAAM,GACtCA,EAAM,GAAGgB,OAAS,GAClBZ,KAAKiP,UAAUf,GAAStO,EAAM,GAC9BI,KAAKkN,MAAMgB,EAAQa,EAAY,GAAa,WAARb,GAGpClO,KAAKkN,MAAMgB,EAAQa,EAAY,GAAKnP,EAAM,GAAG0P,WAAW,GAE5DtP,KAAKkN,MAAMgB,EAAQa,EAAY,GAAKnP,EAAM,IAE9CoP,EAAW7O,UAAUiO,YAAc,SAAUC,EAAKC,EAAGtB,GAEjD,GADAqB,GAAOrO,KAAKY,OACR0N,EAAItO,KAAKY,OAASyN,EAAK,CACvB,IAAK,IAAI1N,EAAIX,KAAKY,OAASyN,EAAMC,EAAI,EAAG3N,GAAK,IAAKA,EAC9CX,KAAKmO,IAAIE,EAAMC,EAAI3N,EAAGX,KAAKmB,IAAIkN,EAAM1N,IAEzC,IAASA,EAAI,EAAGA,EAAI2N,IAAK3N,EACrBX,KAAKmO,IAAIE,EAAM1N,EAAGqM,QAItB,IAASrM,EAAI0N,EAAK1N,EAAIX,KAAKY,SAAUD,EACjCX,KAAKmO,IAAIxN,EAAGqM,IAIxBgC,EAAW7O,UAAUqO,YAAc,SAAUH,EAAKC,EAAGtB,GAEjD,GADAqB,GAAOrO,KAAKY,OACR0N,EAAItO,KAAKY,OAASyN,EAAK,CACvB,IAAK,IAAI1N,EAAI,EAAGA,EAAIX,KAAKY,OAASyN,EAAMC,IAAK3N,EACzCX,KAAKmO,IAAIE,EAAM1N,EAAGX,KAAKmB,IAAIkN,EAAMC,EAAI3N,IAEzC,IAASA,EAAIX,KAAKY,OAAS0N,EAAG3N,EAAIX,KAAKY,SAAUD,EAC7CX,KAAKmO,IAAIxN,EAAGqM,QAIhB,IAASrM,EAAI0N,EAAK1N,EAAIX,KAAKY,SAAUD,EACjCX,KAAKmO,IAAIxN,EAAGqM,IAIxBgC,EAAW7O,UAAUsO,aAAe,SAAUjG,EAAOC,EAAKuE,GACtD,MAAOxE,EAAQC,GAAOD,EAAQxI,KAAKY,OAC/BZ,KAAKmO,IAAI3F,IAASwE,IAG1BgC,EAAW7O,UAAUkJ,OAAS,SAAUxH,EAAMmL,EAAc0B,GAExD,QADe,IAAXA,IAAqBA,GAAS,KAC9B7M,IAAS7B,KAAKY,SAAY8N,GAAU7M,EAAO7B,KAAKY,QAApD,CAGA,GAAIiB,EAAO7B,KAAKY,OAAQ,CACpB,IAAI2M,EAAO,IAAI2B,YAAYrN,EAAOkN,GAC9B/O,KAAKY,SACDiB,EAAOkN,EAAY/O,KAAKkN,MAAMtM,OAC9B2M,EAAKY,IAAInO,KAAKkN,MAAMqC,SAAS,EAAG1N,EAAOkN,IAGvCxB,EAAKY,IAAInO,KAAKkN,QAGtBlN,KAAKkN,MAAQK,EACb,IAAK,IAAI5M,EAAIX,KAAKY,OAAQD,EAAIkB,IAAQlB,EAClCX,KAAKmO,IAAIxN,EAAGqM,QAGf,GAAI0B,EACL,GAAI7M,EAAM,CACF0L,EAAO,IAAI2B,YAAYrN,EAAOkN,GAClCxB,EAAKY,IAAInO,KAAKkN,MAAMqC,SAAS,EAAG1N,EAAOkN,IACvC/O,KAAKkN,MAAQK,OAGbvN,KAAKkN,MAAQ,KAGrBlN,KAAKY,OAASiB,IAElBmN,EAAW7O,UAAUwO,KAAO,SAAU3B,GAClChN,KAAKiP,UAAY,GACjB,IAAK,IAAItO,EAAI,EAAGA,EAAIX,KAAKY,SAAUD,EAC/BX,KAAKmO,IAAIxN,EAAGqM,IAGpBgC,EAAW7O,UAAUyO,SAAW,SAAU5N,GAStC,IAAK,IAAIwO,KARLxP,KAAKY,SAAWI,EAAKJ,OACrBZ,KAAKkN,MAAQ,IAAIgC,YAAYlO,EAAKkM,OAGlClN,KAAKkN,MAAMiB,IAAInN,EAAKkM,OAExBlN,KAAKY,OAASI,EAAKJ,OACnBZ,KAAKiP,UAAY,GACFjO,EAAKiO,UAChBjP,KAAKiP,UAAUO,GAAMxO,EAAKiO,UAAUO,GAExCxP,KAAKiN,UAAYjM,EAAKiM,WAE1B+B,EAAW7O,UAAUuD,MAAQ,WACzB,IAAIoL,EAAU,IAAIE,EAAW,GAG7B,IAAK,IAAIQ,KAFTV,EAAQ5B,MAAQ,IAAIgC,YAAYlP,KAAKkN,OACrC4B,EAAQlO,OAASZ,KAAKY,OACPZ,KAAKiP,UAChBH,EAAQG,UAAUO,GAAMxP,KAAKiP,UAAUO,GAG3C,OADAV,EAAQ7B,UAAYjN,KAAKiN,UAClB6B,GAEJE,EA5IM,GA8IjBrP,EAAQqP,WAAaA,G,oCCxOrB,IAAIS,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIwQ,EAAU,EAAQ,QAClBC,EAAa,EAAQ,QACrBC,EAAoB,EAAQ,QAC5BC,EAAc,EAAQ,QACtBC,EAAc,EAAQ,QACtBC,EAAmB,GACnBC,EAAwB,SAAUC,GAElC,SAASD,EAAqB3Q,GAC1B,IAAI6Q,EAAQD,EAAOE,KAAK7Q,OAASA,KACjC4Q,EAAM7Q,UAAYA,EAClB6Q,EAAME,qBAAuB,EAC7BF,EAAMG,gBAAkB,GACxBH,EAAMI,uBAAyB3J,SAAS9B,cAAc,OACtDqL,EAAMI,uBAAuBpL,UAAUC,IAAI,uBAC3C+K,EAAMK,cAAgB5J,SAAS9B,cAAc,OAC7CqL,EAAMK,cAAcrL,UAAUC,IAAI,4BAClC+K,EAAMM,aAAe,GACrB,IAAK,IAAIvQ,EAAI,EAAGA,EAAIiQ,EAAM7Q,UAAUmJ,KAAMvI,IACtCiQ,EAAMM,aAAavQ,GAAKiQ,EAAMO,+BAC9BP,EAAMK,cAAc/K,YAAY0K,EAAMM,aAAavQ,IA2BvD,OAzBAiQ,EAAMQ,0BAA4B,SAAUC,GAAK,OAAOT,EAAMU,iBAAiBD,EAAG,IAClFT,EAAMW,6BAA+B,SAAUF,GAAK,OAAOT,EAAMU,iBAAiBD,EAAG,IACrFT,EAAMM,aAAa,GAAGM,iBAAiB,QAASZ,EAAMQ,2BACtDR,EAAMM,aAAaN,EAAMM,aAAatQ,OAAS,GAAG4Q,iBAAiB,QAASZ,EAAMW,8BAClFX,EAAMa,yBACNb,EAAMI,uBAAuB9K,YAAY0K,EAAMK,eAC/CL,EAAMc,qBAAuB,IAAIpB,EAAkBqB,gBAAgBf,EAAM7Q,UAAW6Q,EAAMgB,YAAYC,KAAKjB,IAC3GA,EAAMkB,eACNlB,EAAMmB,YAAc1K,SAAS9B,cAAc,OAC3CqL,EAAMmB,YAAYnM,UAAUC,IAAI,eAChC+K,EAAMmB,YAAYC,aAAa,YAAa,aAC5CpB,EAAMI,uBAAuB9K,YAAY0K,EAAMmB,aAC/CnB,EAAM7Q,UAAUkS,QAAQC,sBAAsB,aAActB,EAAMI,wBAClEJ,EAAMuB,SAASvB,EAAMc,sBACrBd,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,UAAU,SAAU7E,GAAQ,OAAOqD,EAAMyB,UAAU9E,EAAKrE,UAC7G0H,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,WAAW,SAAU7E,GAAQ,OAAOqD,EAAMkB,aAAavE,EAAK/E,MAAO+E,EAAK9E,SAC7HmI,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,UAAU,SAAU7E,GAAQ,OAAOqD,EAAMkB,mBAC9FlB,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,aAAa,SAAU/M,GAAQ,OAAOuL,EAAM0B,QAAQjN,OACzGuL,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,YAAY,WAAc,OAAOxB,EAAM0B,QAAQ,UACpG1B,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,YAAY,SAAUG,GAAc,OAAO3B,EAAM4B,OAAOD,OAC7G3B,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,OAAO,SAAUK,GAAW,OAAO7B,EAAM8B,OAAOD,OACrG7B,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,QAAQ,WAAc,OAAOxB,EAAM+B,uBACxF/B,EAAMuB,SAASvB,EAAM7Q,UAAUqS,sBAAsB,aAAa,WAAc,OAAOxB,EAAMa,6BAC7Fb,EAAMuB,SAASvB,EAAM7Q,UAAU6S,SAASR,sBAAsB,UAAU,WAAc,OAAOxB,EAAMa,6BACnGb,EAAMuB,SAAS5B,EAAYsC,yBAAyBxI,OAAQ,UAAU,WAAc,OAAOuG,EAAMa,6BAC1Fb,EAsJX,OA9LAnB,EAAUiB,EAAsBC,GA0ChCD,EAAqBvQ,UAAUqH,QAAU,WACrCmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAKD,UAAUkS,QAAQxK,YAAYzH,KAAKgR,wBACxChR,KAAKkR,aAAatQ,OAAS,GAE/B8P,EAAqBvQ,UAAUmR,iBAAmB,SAAUD,EAAGyB,GAC3D,IAAIC,EAAkB1B,EAAE2B,OACpBC,EAAwBjT,KAAKkR,aAA0B,IAAb4B,EAAiB,EAAI9S,KAAKkR,aAAatQ,OAAS,GAC1FsS,EAAWH,EAAgBI,aAAa,iBACxCC,EAA0B,IAAbN,EAAiB,IAAM,GAAK9S,KAAKD,UAAUkB,OAAOC,MAAMN,OACzE,GAAIsS,IAAaE,GAGb/B,EAAEgC,gBAAkBJ,EAAxB,CAGA,IAAIK,EACAC,EAaJ,GAZiB,IAAbT,GACAQ,EAAqBP,EACrBQ,EAAwBvT,KAAKkR,aAAa1D,MAC1CxN,KAAKiR,cAAcxJ,YAAY8L,KAG/BD,EAAqBtT,KAAKkR,aAAasC,QACvCD,EAAwBR,EACxB/S,KAAKiR,cAAcxJ,YAAY6L,IAEnCA,EAAmBG,oBAAoB,QAASzT,KAAKoR,2BACrDmC,EAAsBE,oBAAoB,QAASzT,KAAKuR,8BACvC,IAAbuB,EAAgB,CAChB,IAAIY,EAAa1T,KAAKmR,+BACtBnR,KAAKkR,aAAayC,QAAQD,GAC1B1T,KAAKiR,cAAciB,sBAAsB,aAAcwB,OAEtD,CACGA,EAAa1T,KAAKmR,+BACtBnR,KAAKkR,aAAa1Q,KAAKkT,GACvB1T,KAAKiR,cAAc/K,YAAYwN,GAEnC1T,KAAKkR,aAAa,GAAGM,iBAAiB,QAASxR,KAAKoR,2BACpDpR,KAAKkR,aAAalR,KAAKkR,aAAatQ,OAAS,GAAG4Q,iBAAiB,QAASxR,KAAKuR,8BAC/EvR,KAAKD,UAAU6T,YAAyB,IAAbd,GAAkB,EAAI,GACjD9S,KAAKkR,aAA0B,IAAb4B,EAAiB,EAAI9S,KAAKkR,aAAatQ,OAAS,GAAGiT,QACrExC,EAAEyC,iBACFzC,EAAE0C,6BAENrD,EAAqBvQ,UAAUkS,UAAY,SAAUnJ,GACjDlJ,KAAKkR,aAAalR,KAAKkR,aAAatQ,OAAS,GAAG6S,oBAAoB,QAASzT,KAAKuR,8BAClF,IAAK,IAAI5Q,EAAIX,KAAKiR,cAAc+C,SAASpT,OAAQD,EAAIX,KAAKD,UAAUmJ,KAAMvI,IACtEX,KAAKkR,aAAavQ,GAAKX,KAAKmR,+BAC5BnR,KAAKiR,cAAc/K,YAAYlG,KAAKkR,aAAavQ,IAErD,MAAOX,KAAKkR,aAAatQ,OAASsI,EAC9BlJ,KAAKiR,cAAcxJ,YAAYzH,KAAKkR,aAAa1D,OAErDxN,KAAKkR,aAAalR,KAAKkR,aAAatQ,OAAS,GAAG4Q,iBAAiB,QAASxR,KAAKuR,8BAC/EvR,KAAKyR,0BAETf,EAAqBvQ,UAAUgR,6BAA+B,WAC1D,IAAIc,EAAU5K,SAAS9B,cAAc,OAIrC,OAHA0M,EAAQD,aAAa,OAAQ,YAC7BC,EAAQgC,UAAY,EACpBjU,KAAKkU,sBAAsBjC,GACpBA,GAEXvB,EAAqBvQ,UAAUqS,OAAS,SAAUD,GAC9C,IAAK,IAAI5R,EAAI,EAAGA,EAAI4R,EAAY5R,IAC5BX,KAAKsS,QAAQ,MAGrB5B,EAAqBvQ,UAAUmS,QAAU,SAAUjN,GAC/C,IAAIuL,EAAQ5Q,KACZ,GAAIA,KAAK8Q,qBAAuBL,EAAmB,EAAG,CAClD,GAAIzQ,KAAK+Q,gBAAgBnQ,OAAS,EAAG,CACjC,IAAIuT,EAAcnU,KAAK+Q,gBAAgByC,QACnCW,IAAgB9O,GAChBrF,KAAKoU,mBAAmB/O,QAI5BrF,KAAKoU,mBAAmB/O,GAEf,OAATA,IACArF,KAAK8Q,uBACD9Q,KAAK8Q,uBAAyBL,EAAmB,IACjDzQ,KAAK+R,YAAY9L,aAAemK,EAAQiE,gBAG5ChE,EAAWiE,OACPtU,KAAK+R,YAAY9L,aAAejG,KAAK+R,YAAY9L,YAAYrF,OAAS,IAAMZ,KAAK+R,YAAYwC,YAC7FC,YAAW,WACP5D,EAAMI,uBAAuB9K,YAAY0K,EAAMmB,eAChD,KAKnBrB,EAAqBvQ,UAAUwS,iBAAmB,WAC9C3S,KAAK+R,YAAY9L,YAAc,GAC/BjG,KAAK8Q,qBAAuB,EACxBT,EAAWiE,OACPtU,KAAK+R,YAAYwC,YACjBvU,KAAKgR,uBAAuBvJ,YAAYzH,KAAK+R,cAIzDrB,EAAqBvQ,UAAUuS,OAAS,SAAUD,GAC9CzS,KAAK2S,mBACL3S,KAAK+Q,gBAAgBvQ,KAAKiS,IAE9B/B,EAAqBvQ,UAAU2R,aAAe,SAAUtJ,EAAOC,GAC3DzI,KAAK0R,qBAAqB+C,QAAQjM,EAAOC,IAE7CiI,EAAqBvQ,UAAUyR,YAAc,SAAUpJ,EAAOC,GAG1D,IAFA,IAAIxH,EAASjB,KAAKD,UAAUkB,OACxByT,EAAUzT,EAAOC,MAAMN,OAAO0G,WACzB3G,EAAI6H,EAAO7H,GAAK8H,EAAK9H,IAAK,CAC/B,IAAI6B,EAAWvB,EAAOK,4BAA4BL,EAAO0T,MAAQhU,GAAG,GAChEuS,GAAYjS,EAAO0T,MAAQhU,EAAI,GAAG2G,WAClC2K,EAAUjS,KAAKkR,aAAavQ,GAChCsR,EAAQhM,YAAkC,IAApBzD,EAAS5B,OAAewP,EAAQwE,UAAYpS,EAClEyP,EAAQD,aAAa,gBAAiBkB,GACtCjB,EAAQD,aAAa,eAAgB0C,KAG7ChE,EAAqBvQ,UAAUsR,uBAAyB,WACpD,GAAKzR,KAAKD,UAAU6S,SAASiC,WAAWC,iBAAxC,CAGI9U,KAAKkR,aAAatQ,SAAWZ,KAAKD,UAAUmJ,MAC5ClJ,KAAKqS,UAAUrS,KAAKD,UAAUmJ,MAElC,IAAK,IAAIvI,EAAI,EAAGA,EAAIX,KAAKD,UAAUmJ,KAAMvI,IACrCX,KAAKkU,sBAAsBlU,KAAKkR,aAAavQ,MAGrD+P,EAAqBvQ,UAAU+T,sBAAwB,SAAUjC,GAC7DA,EAAQzM,MAAMqE,OAAS7J,KAAKD,UAAU6S,SAASiC,WAAWC,iBAAmB,MAEjFpE,EAAqBvQ,UAAUiU,mBAAqB,SAAU/O,GAC7C,MAATA,EACArF,KAAK+R,YAAYgD,WAAa,SAG9B/U,KAAK+R,YAAY9L,aAAeZ,GAGjCqL,EA/LgB,CAgMzBF,EAAYwE,YACdrV,EAAQ+Q,qBAAuBA,G,kCCrN/B,IAAIjB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqV,EAAoB,EAAQ,QAC5BC,EAAwB,SAAUvE,GAElC,SAASuE,EAAqBC,EAAW5O,EAAQ6O,GAC7C,IAAIxE,EAAQD,EAAOE,KAAK7Q,KAAMmV,EAAW,YAAa5O,GAAQ,EAAM6O,IAAWpV,KAE/E,OADA4Q,EAAMyE,cACCzE,EAsEX,OA1EAnB,EAAUyF,EAAsBvE,GAMhCuE,EAAqB/U,UAAUkV,YAAc,WACzCrV,KAAKsV,OAAS,CACV9M,MAAO,KACPC,IAAK,KACLC,iBAAkB,KAClBiM,MAAO,OAGfO,EAAqB/U,UAAUkJ,OAAS,SAAUrB,EAAUd,GACxDyJ,EAAOxQ,UAAUkJ,OAAOwH,KAAK7Q,KAAMgI,EAAUd,GAC7ClH,KAAKqV,eAETH,EAAqB/U,UAAUoV,MAAQ,SAAUvN,GACzChI,KAAKsV,OAAO9M,OAASxI,KAAKsV,OAAO7M,MACjCzI,KAAKqV,cACLrV,KAAK8H,aAGboN,EAAqB/U,UAAUoI,mBAAqB,SAAUP,EAAUQ,EAAOC,EAAKC,GAChF,GAAK1I,KAAKwV,gBAAgBhN,EAAOC,EAAKC,EAAkBV,EAAS/G,OAAO0T,SAGxE3U,KAAK8H,WACAU,GAAUC,GAAf,CAGA,IAAIgN,EAAmBjN,EAAM,GAAKR,EAAS/G,OAAO0T,MAC9Ce,EAAiBjN,EAAI,GAAKT,EAAS/G,OAAO0T,MAC1CgB,EAAyBpS,KAAKC,IAAIiS,EAAkB,GACpDG,EAAuBrS,KAAKE,IAAIiS,EAAgB1N,EAASkB,KAAO,GACpE,KAAIyM,GAA0B3N,EAASkB,MAAQ0M,EAAuB,GAAtE,CAIA,GADA5V,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQoP,UAAU/K,IACzCpC,EAAkB,CAClB,IAAIjG,EAAW+F,EAAM,GACjBvG,EAAQwG,EAAI,GAAKhG,EACjBoH,EAAS+L,EAAuBD,EAAyB,EAC7D3V,KAAKiK,UAAUxH,EAAUkT,EAAwB1T,EAAO4H,OAEvD,CACGpH,EAAWgT,IAAqBE,EAAyBnN,EAAM,GAAK,EAAxE,IACIsN,EAAiBH,IAA2BC,EAAuBnN,EAAI,GAAKT,EAASnG,KACzF7B,KAAKiK,UAAUxH,EAAUkT,EAAwBG,EAAiBrT,EAAU,GAC5E,IAAIsT,EAAkBxS,KAAKC,IAAIoS,EAAuBD,EAAyB,EAAG,GAElF,GADA3V,KAAKiK,UAAU,EAAG0L,EAAyB,EAAG3N,EAASnG,KAAMkU,GACzDJ,IAA2BC,EAAsB,CACjD,IAAII,EAASN,IAAmBE,EAAuBnN,EAAI,GAAKT,EAASnG,KACzE7B,KAAKiK,UAAU,EAAG2L,EAAsBI,EAAQ,IAGxDhW,KAAKsV,OAAO9M,MAAQ,CAACA,EAAM,GAAIA,EAAM,IACrCxI,KAAKsV,OAAO7M,IAAM,CAACA,EAAI,GAAIA,EAAI,IAC/BzI,KAAKsV,OAAO5M,iBAAmBA,EAC/B1I,KAAKsV,OAAOX,MAAQ3M,EAAS/G,OAAO0T,SAExCO,EAAqB/U,UAAUqV,gBAAkB,SAAUhN,EAAOC,EAAKC,EAAkBiM,GACrF,OAAQ3U,KAAKiW,qBAAqBzN,EAAOxI,KAAKsV,OAAO9M,SAChDxI,KAAKiW,qBAAqBxN,EAAKzI,KAAKsV,OAAO7M,MAC5CC,IAAqB1I,KAAKsV,OAAO5M,kBACjCiM,IAAU3U,KAAKsV,OAAOX,OAE9BO,EAAqB/U,UAAU8V,qBAAuB,SAAUC,EAAQC,GACpE,SAAKD,IAAWC,KAGTD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,KAEpDjB,EA3EgB,CA4EzBD,EAAkB5O,iBACpB1G,EAAQuV,qBAAuBA,G,wBC7F/B,qBASE,SAAUkB,EAAQC,GAEVC,EAAO3W,QAAU0W,EAAQD,IAFlC,CAMmB,qBAATG,KAAuBA,KACN,qBAAXlM,OAAyBA,OACd,qBAAX+L,EAAyBA,EACxCpW,MACC,SAASoW,GACR,aAEAA,EAASA,GAAU,GACnB,IAmEII,EAnEAC,EAAUL,EAAOM,OACjBC,EAAU,QAEVC,EACE,mEACFC,EAAS,SAASC,GAElB,IADA,IAAIC,EAAI,GACCpW,EAAI,EAAGqW,EAAIF,EAAIlW,OAAQD,EAAIqW,EAAGrW,IAAKoW,EAAED,EAAIG,OAAOtW,IAAMA,EAC/D,OAAOoW,EAHE,CAIXH,GACEvH,EAAeD,OAAOC,aAEtB6H,EAAU,SAASC,GACnB,GAAIA,EAAEvW,OAAS,EAAG,CACd,IAAIwW,EAAKD,EAAE7H,WAAW,GACtB,OAAO8H,EAAK,IAAOD,EACbC,EAAK,KAAS/H,EAAa,IAAQ+H,IAAO,GAC1B/H,EAAa,IAAa,GAAL+H,GACpC/H,EAAa,IAAS+H,IAAO,GAAM,IAChC/H,EAAa,IAAS+H,IAAQ,EAAK,IACnC/H,EAAa,IAAsB,GAAb+H,GAE5BA,EAAK,MAC0B,MAA5BD,EAAE7H,WAAW,GAAK,QAClB6H,EAAE7H,WAAW,GAAK,OACzB,OAAQD,EAAa,IAAS+H,IAAO,GAAM,GACjC/H,EAAa,IAAS+H,IAAO,GAAM,IACnC/H,EAAa,IAAS+H,IAAQ,EAAK,IACnC/H,EAAa,IAAsB,GAAb+H,IAGpCC,EAAU,gDACVC,EAAO,SAASC,GAChB,OAAOA,EAAEC,QAAQH,EAASH,IAE1BO,EAAY,SAASC,GACrB,IAAIC,EAAS,CAAC,EAAG,EAAG,GAAGD,EAAI9W,OAAS,GACpCgX,EAAMF,EAAIpI,WAAW,IAAM,IACnBoI,EAAI9W,OAAS,EAAI8W,EAAIpI,WAAW,GAAK,IAAM,GAC3CoI,EAAI9W,OAAS,EAAI8W,EAAIpI,WAAW,GAAK,GAC7CvN,EAAQ,CACJ6U,EAASK,OAAQW,IAAQ,IACzBhB,EAASK,OAAQW,IAAQ,GAAM,IAC/BD,GAAU,EAAI,IAAMf,EAASK,OAAQW,IAAQ,EAAK,IAClDD,GAAU,EAAI,IAAMf,EAASK,OAAa,GAANW,IAExC,OAAO7V,EAAM8V,KAAK,KAElBC,EAAO1B,EAAO0B,MAA8B,mBAAf1B,EAAO0B,KAClC,SAASlI,GAAI,OAAOwG,EAAO0B,KAAKlI,IAAO,SAASA,GAClD,GAAIA,EAAEmI,MAAM,gBAAiB,MAAM,IAAIC,WACnC,2CAEJ,OAAOpI,EAAE4H,QAAQ,eAAgBC,IAEjCQ,EAAU,SAASV,GACnB,OAAOO,EAAKR,EAAKlI,OAAOmI,MAExBW,EAAY,SAAUC,GACtB,OAAOA,EAAIX,QAAQ,UAAU,SAASY,GAClC,MAAa,KAANA,EAAY,IAAM,OAC1BZ,QAAQ,KAAM,KAEjBa,EAAS,SAASd,EAAGe,GACrB,OAAOA,EAAUJ,EAAUD,EAAQV,IAAMU,EAAQV,IAEjDgB,EAAY,SAAShB,GAAK,OAAOc,EAAOd,GAAG,IAE3CnB,EAAOoC,aAAYhC,EAAiB,SAASiC,EAAGH,GAGhD,IADA,IAAIH,EAAM,GACDxX,EAAI,EAAGqW,EAAIyB,EAAE7X,OAAQD,EAAIqW,EAAGrW,GAAK,EAAG,CACzC,IAAI+X,EAAKD,EAAE9X,GAAIgY,EAAKF,EAAE9X,EAAE,GAAIiY,EAAKH,EAAE9X,EAAE,GACjCiX,EAAMc,GAAM,GAAKC,GAAM,EAAIC,EAC/BT,GAAUvB,EAASK,OAAQW,IAAQ,IACzBhB,EAASK,OAAQW,IAAQ,GAAM,KACpB,oBAANe,EACL/B,EAASK,OAAQW,IAAS,EAAK,IAAM,MAC1B,oBAANgB,EACLhC,EAASK,OAAsB,GAAdW,GAAoB,KAEnD,OAAOU,EAAUJ,EAAUC,GAAOA,IAGtC,IA0DIU,EA1DAC,EAAU,8EACVC,EAAU,SAASC,GACnB,OAAOA,EAAKpY,QACZ,KAAK,EACD,IAAIqY,GAAO,EAAOD,EAAK1J,WAAW,KAAO,IAC9B,GAAO0J,EAAK1J,WAAW,KAAO,IAC9B,GAAO0J,EAAK1J,WAAW,KAAQ,EAC/B,GAAO0J,EAAK1J,WAAW,GAClC4J,EAASD,EAAK,MACd,OAAQ5J,EAAgC,OAAlB6J,IAAY,KACxB7J,EAAgC,OAAT,KAAT6J,IAC5B,KAAK,EACD,OAAO7J,GACD,GAAO2J,EAAK1J,WAAW,KAAO,IACxB,GAAO0J,EAAK1J,WAAW,KAAO,EAC9B,GAAO0J,EAAK1J,WAAW,IAEvC,QACI,OAAQD,GACF,GAAO2J,EAAK1J,WAAW,KAAO,EACxB,GAAO0J,EAAK1J,WAAW,MAIvC6J,EAAO,SAASvJ,GAChB,OAAOA,EAAE4H,QAAQsB,EAASC,IAE1BK,EAAY,SAASJ,GACrB,IAAIK,EAAML,EAAKpY,OACf+W,EAAS0B,EAAM,EACf/K,GAAK+K,EAAM,EAAIxC,EAAOmC,EAAK/B,OAAO,KAAO,GAAK,IACvCoC,EAAM,EAAIxC,EAAOmC,EAAK/B,OAAO,KAAO,GAAK,IACzCoC,EAAM,EAAIxC,EAAOmC,EAAK/B,OAAO,KAAQ,EAAI,IACzCoC,EAAM,EAAIxC,EAAOmC,EAAK/B,OAAO,IAAY,GAChDlV,EAAQ,CACJsN,EAAcf,IAAM,IACpBe,EAAcf,IAAO,EAAK,KAC1Be,EAA0B,IAAZf,IAGlB,OADAvM,EAAMnB,QAAU,CAAC,EAAG,EAAG,EAAG,GAAG+W,GACtB5V,EAAM8V,KAAK,KAElByB,EAAQlD,EAAOmD,MAA8B,mBAAfnD,EAAOmD,KACnC,SAASd,GAAI,OAAOrC,EAAOmD,KAAKd,IAAO,SAASA,GAClD,OAAOA,EAAEjB,QAAQ,WAAY4B,IAE7BG,EAAO,SAASd,GAChB,OAAOa,EAAMlK,OAAOqJ,GAAGjB,QAAQ,oBAAqB,MAEpDgC,EAAU,SAASf,GAAK,OAAOU,EAAKG,EAAMb,KAC1CgB,EAAW,SAAShB,GACpB,OAAOrJ,OAAOqJ,GAAGjB,QAAQ,SAAS,SAASY,GACvC,MAAa,KAANA,EAAY,IAAM,OAC1BZ,QAAQ,oBAAqB,KAEhCkC,EAAS,SAASjB,GAClB,OAAOe,EAAQC,EAAShB,KAGxBrC,EAAOoC,aAAYK,EAAe,SAASJ,GAC3C,OAAOD,WAAWmB,KAAKJ,EAAKE,EAAShB,KAAK,SAAStB,GAC/C,OAAOA,EAAE7H,WAAW,QAG5B,IAAIsK,EAAa,WACb,IAAIlD,EAASN,EAAOM,OAEpB,OADAN,EAAOM,OAASD,EACTC,GAmBX,GAhBAN,EAAOM,OAAS,CACZmD,QAASlD,EACT4C,KAAMA,EACNzB,KAAMA,EACNgC,WAAYJ,EACZK,SAAU1B,EACVf,KAAMA,EACNe,OAAQA,EACRE,UAAWA,EACXY,KAAMA,EACNO,OAAQA,EACRE,WAAYA,EACZpD,eAAgBA,EAChBqC,aAAcA,GAGmB,oBAA1BpZ,OAAOC,eAA+B,CAC7C,IAAIsa,EAAS,SAASC,GAClB,MAAO,CAACra,MAAMqa,EAAEC,YAAW,EAAMC,UAAS,EAAKC,cAAa,IAEhEhE,EAAOM,OAAO2D,aAAe,WACzB5a,OAAOC,eACH0P,OAAOjP,UAAW,aAAc6Z,GAAO,WACnC,OAAON,EAAO1Z,UAEtBP,OAAOC,eACH0P,OAAOjP,UAAW,WAAY6Z,GAAO,SAAU1B,GAC3C,OAAOD,EAAOrY,KAAMsY,OAE5B7Y,OAAOC,eACH0P,OAAOjP,UAAW,cAAe6Z,GAAO,WACpC,OAAO3B,EAAOrY,MAAM,QAoBpC,OAbIoW,EAAO,YACPM,OAASN,EAAOM,QAIiBJ,EAAO3W,QACxC2W,EAAO3W,QAAQ+W,OAASN,EAAOM,QAI/B,EAAO,GAAI,EAAF,WAAc,OAAON,EAAOM,QAAQ,sCAG1C,CAACA,OAAQN,EAAOM,a,0DCnO3BjX,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI0a,EAAoB,mCACpBC,EAAgB,WAChB,SAASA,EAAaxa,GAClBC,KAAKD,UAAYA,EA+HrB,OA7HAwa,EAAapa,UAAUqa,SAAW,SAAUC,EAAMC,GAC9C,IAAKD,GAAwB,IAAhBA,EAAK7Z,OACd,OAAO,EAEX,IAAI+Z,EACAtS,EAAWrI,KAAKD,UAAU6a,MAAM3Z,OAAO0T,MACvC3U,KAAKD,UAAU6a,MAAMC,iBAAiBC,cACO,IAAzC9a,KAAKD,UAAUgb,eAAena,SAC9ByH,EAAWrI,KAAKD,UAAU6a,MAAMC,iBAAiBC,aAAa,IAGtE,IAAK,IAAI5Q,EAAI7B,EAAW,EAAG6B,EAAIlK,KAAKD,UAAU6a,MAAM3Z,OAAO+Z,MAAQhb,KAAKD,UAAUmJ,KAAMgB,IAEpF,GADAyQ,EAAS3a,KAAKib,YAAYR,EAAMvQ,EAAGwQ,GAC/BC,EACA,MAGR,IAAKA,EACD,IAASzQ,EAAI,EAAGA,EAAI7B,EAAU6B,IAE1B,GADAyQ,EAAS3a,KAAKib,YAAYR,EAAMvQ,EAAGwQ,GAC/BC,EACA,MAIZ,OAAO3a,KAAKkb,cAAcP,IAE9BJ,EAAapa,UAAUgb,aAAe,SAAUV,EAAMC,GAClD,IAAKD,GAAwB,IAAhBA,EAAK7Z,OACd,OAAO,EAEX,IAAI+Z,EACAtS,EAAWrI,KAAKD,UAAU6a,MAAM3Z,OAAO0T,MACvC3U,KAAKD,UAAU6a,MAAMC,iBAAiBO,gBACO,IAAzCpb,KAAKD,UAAUgb,eAAena,SAC9ByH,EAAWrI,KAAKD,UAAU6a,MAAMC,iBAAiBO,eAAe,IAGxE,IAAK,IAAIlR,EAAI7B,EAAW,EAAG6B,GAAK,EAAGA,IAE/B,GADAyQ,EAAS3a,KAAKib,YAAYR,EAAMvQ,EAAGwQ,GAC/BC,EACA,MAGR,IAAKA,EACD,IAASzQ,EAAIlK,KAAKD,UAAU6a,MAAM3Z,OAAO+Z,MAAQhb,KAAKD,UAAUmJ,KAAO,EAAGgB,EAAI7B,EAAU6B,IAEpF,GADAyQ,EAAS3a,KAAKib,YAAYR,EAAMvQ,EAAGwQ,GAC/BC,EACA,MAIZ,OAAO3a,KAAKkb,cAAcP,IAE9BJ,EAAapa,UAAUkb,aAAe,SAAUC,EAAata,EAAMyZ,GAC/D,OAA0B,IAAhBa,IAA6E,IAAtDhB,EAAkBiB,QAAQva,EAAKsa,EAAc,OACvEA,EAAcb,EAAK7Z,SAAYI,EAAKJ,SAA4E,IAAhE0Z,EAAkBiB,QAAQva,EAAKsa,EAAcb,EAAK7Z,WAE7G2Z,EAAapa,UAAU8a,YAAc,SAAUR,EAAMvQ,EAAGwQ,GAEpD,QADsB,IAAlBA,IAA4BA,EAAgB,KAC5C1a,KAAKD,UAAU6a,MAAM3Z,OAAOC,MAAMC,IAAI+I,GAAG+C,UAA7C,CAGA,IAAIuO,EAAaxb,KAAKyb,oCAAoCvR,GAAG,GACzDwR,EAAmBhB,EAAciB,cAAgBH,EAAaA,EAAWI,cACzEC,EAAanB,EAAciB,cAAgBlB,EAAOA,EAAKmB,cACvDN,GAAe,EACnB,GAAIZ,EAAcoB,MAAO,CACrB,IAAIC,EAAcC,OAAOH,EAAY,KACjCI,EAAYF,EAAYG,KAAKR,GAC7BO,GAAaA,EAAU,GAAGrb,OAAS,IACnC0a,EAAcS,EAAYI,UAAYF,EAAU,GAAGrb,OACnD6Z,EAAOwB,EAAU,SAIrBX,EAAcI,EAAiBH,QAAQM,GAE3C,GAAIP,GAAe,EAAG,CAKlB,GAJIA,GAAetb,KAAKD,UAAU8B,OAC9BqI,GAAK3G,KAAK6Y,MAAMd,EAActb,KAAKD,UAAU8B,MAC7CyZ,GAA4Btb,KAAKD,UAAU8B,MAE3C6Y,EAAc2B,YAAcrc,KAAKqb,aAAaC,EAAaI,EAAkBjB,GAC7E,OAGJ,IADA,IAAIzZ,EAAOhB,KAAKD,UAAU6a,MAAM3Z,OAAOC,MAAMC,IAAI+I,GACxCvJ,EAAI,EAAGA,EAAI2a,EAAa3a,IAAK,CAClC,IAAImB,EAAWd,EAAKG,IAAIR,GACpB0E,EAAOvD,EAAS,GAChBuD,EAAKzE,OAAS,IACd0a,GAAejW,EAAKzE,OAAS,GAEjC,IAAI0b,EAAYxa,EAAS,GACP,IAAdwa,GACAhB,IAGR,MAAO,CACHb,KAAMA,EACN8B,IAAKjB,EACLva,IAAKmJ,MAIjBqQ,EAAapa,UAAUsb,oCAAsC,SAAUe,EAAWC,GAC9E,IACIC,EADAC,EAAa,GAEjB,EAAG,CACC,IAAIC,EAAW5c,KAAKD,UAAU6a,MAAM3Z,OAAOC,MAAMC,IAAIqb,EAAY,GACjEE,IAAkBE,GAAWA,EAAS3P,UACtC0P,GAAc3c,KAAKD,UAAU6a,MAAM3Z,OAAOK,4BAA4Bkb,GAAYE,GAAmBD,GAAW9Z,UAAU,EAAG3C,KAAKD,UAAU8B,MAC5I2a,UACKE,GACT,OAAOC,GAEXpC,EAAapa,UAAU+a,cAAgB,SAAUP,GAC7C,OAAKA,GAIL3a,KAAKD,UAAU6a,MAAMC,iBAAiBgC,aAAalC,EAAO4B,IAAK5B,EAAO5Z,IAAK4Z,EAAOF,KAAK7Z,QACvFZ,KAAKD,UAAU6T,YAAY+G,EAAO5Z,IAAMf,KAAKD,UAAU6a,MAAM3Z,OAAO0T,QAC7D,IALH3U,KAAKD,UAAU+c,kBACR,IAMRvC,EAjIQ,GAmInB5a,EAAQ4a,aAAeA,G,oCCrIvB9a,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI+R,EAAmB,WACnB,SAASA,EAAgB5R,EAAWgd,GAChC/c,KAAKD,UAAYA,EACjBC,KAAK+c,UAAYA,EACjB/c,KAAKgd,gBAAkB,KA6B3B,OA3BArL,EAAgBxR,UAAUqH,QAAU,WAC5BxH,KAAKgd,kBACL3S,OAAO4S,qBAAqBjd,KAAKgd,iBACjChd,KAAKgd,gBAAkB,OAG/BrL,EAAgBxR,UAAUsU,QAAU,SAAUyI,EAAUC,GACpD,IAAIvM,EAAQ5Q,KACZkd,EAAwB,OAAbA,QAAkCE,IAAbF,EAAyBA,EAAW,EACpEC,EAAoB,OAAXA,QAA8BC,IAAXD,EAAuBA,EAASnd,KAAKD,UAAUmJ,KAAO,EAClF,IAAImU,OAAmCD,IAAnBpd,KAAKsd,WAA8C,OAAnBtd,KAAKsd,UACrDC,OAA+BH,IAAjBpd,KAAKwd,SAA0C,OAAjBxd,KAAKwd,QACrDxd,KAAKsd,UAAYD,EAAgB9Z,KAAKE,IAAIzD,KAAKsd,UAAWJ,GAAYA,EACtEld,KAAKwd,QAAUD,EAAcha,KAAKC,IAAIxD,KAAKwd,QAASL,GAAUA,EAC1Dnd,KAAKgd,kBAGThd,KAAKgd,gBAAkB3S,OAAOoT,uBAAsB,WAAc,OAAO7M,EAAM8M,qBAEnF/L,EAAgBxR,UAAUud,cAAgB,WACtC1d,KAAKsd,UAAY/Z,KAAKC,IAAIxD,KAAKsd,UAAW,GAC1Ctd,KAAKwd,QAAUja,KAAKE,IAAIzD,KAAKwd,QAASxd,KAAKD,UAAUmJ,KAAO,GAC5DlJ,KAAK+c,UAAU/c,KAAKsd,UAAWtd,KAAKwd,SACpCxd,KAAKsd,UAAY,KACjBtd,KAAKwd,QAAU,KACfxd,KAAKgd,gBAAkB,MAEpBrL,EAjCW,GAmCtBhS,EAAQgS,gBAAkBA,G,kCCpC1B,IAAIlC,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI+d,EAAiB,EAAQ,QACzBC,EAAiB,EAAQ,QACzBtN,EAAoB,EAAQ,QAC5BuN,EAA0B,EAAQ,QAClC5Z,EAAU,EAAQ,QAClB6Z,EAAwB,4BACxBC,EAAsB,aACtBC,EAAkB,YAClBC,EAAkB,YAClBC,EAAc,cACdC,EAAkB,kBAClBC,EAAiB,EACjBC,EAAe,SAAU1N,GAEzB,SAAS0N,EAAYte,EAAWue,GAC5B,IAAI1N,EAAQD,EAAOE,KAAK7Q,OAASA,KACjC4Q,EAAM7Q,UAAYA,EAClB6Q,EAAM2N,eAAiBH,IACvBxN,EAAMM,aAAe,GACrB,IAAIsN,EAAoB5N,EAAM7Q,UAAUyL,QAAQgT,kBAiChD,OAhCA5N,EAAM6N,aAAe,IAAIb,EAAec,aAAarX,SAAUmX,GAC/D5N,EAAM+N,SAASL,GACf1N,EAAMK,cAAgB5J,SAAS9B,cAAc,OAC7CqL,EAAMK,cAAcrL,UAAUC,IAAIkY,GAClCnN,EAAMK,cAAczL,MAAMoZ,WAAa,SACvChO,EAAMK,cAAce,aAAa,cAAe,QAChDpB,EAAMiO,oBAAoBjO,EAAM7Q,UAAU8B,KAAM+O,EAAM7Q,UAAUmJ,MAChE0H,EAAMkO,oBAAsBzX,SAAS9B,cAAc,OACnDqL,EAAMkO,oBAAoBlZ,UAAUC,IAAIsY,GACxCvN,EAAMkO,oBAAoB9M,aAAa,cAAe,QACtDpB,EAAMiE,WAAa,CACfrL,gBAAiB,KACjBC,iBAAkB,KAClBH,gBAAiB,KACjBC,iBAAkB,KAClBG,eAAgB,KAChBC,cAAe,KACfC,kBAAmB,KACnBE,mBAAoB,KACpBC,YAAa,KACbC,aAAc,KACd+U,gBAAiB,KACjBjK,iBAAkB,MAEtBlE,EAAMoO,oBACNpO,EAAMqO,iBAAmB,IAAI3O,EAAkBqB,gBAAgBf,EAAM7Q,UAAW6Q,EAAMgB,YAAYC,KAAKjB,IACvGA,EAAMsO,YAAc,IAAIrB,EAAwBrZ,sBAAsB6C,UACtEuJ,EAAM7Q,UAAUkS,QAAQrM,UAAUC,IAAIiY,EAAwBlN,EAAM2N,gBACpE3N,EAAM7Q,UAAUof,cAAcjZ,YAAY0K,EAAMK,eAChDL,EAAM7Q,UAAUof,cAAcjZ,YAAY0K,EAAMkO,qBAChDlO,EAAM7Q,UAAUqf,UAAUC,GAAG,aAAa,SAAUhO,GAAK,OAAOT,EAAM0O,aAAajO,MACnFT,EAAM7Q,UAAUqf,UAAUC,GAAG,aAAa,SAAUhO,GAAK,OAAOT,EAAM2O,aAAalO,MAC5ET,EAsOX,OA7QAnB,EAAU4O,EAAa1N,GAyCvB0N,EAAYle,UAAUqH,QAAU,WAC5BxH,KAAKD,UAAUkS,QAAQrM,UAAU4Z,OAAO1B,EAAwB9d,KAAKue,gBACrEve,KAAKD,UAAUof,cAAc1X,YAAYzH,KAAKiR,eAC9CjR,KAAKD,UAAUof,cAAc1X,YAAYzH,KAAK8e,qBAC9C9e,KAAKD,UAAUof,cAAc1X,YAAYzH,KAAKyf,oBAC9Czf,KAAKD,UAAUof,cAAc1X,YAAYzH,KAAK0f,yBAC9C/O,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,OAElCqe,EAAYle,UAAU6e,kBAAoB,WACtC,IAAIpO,EAAQ5Q,KACZA,KAAK6U,WAAWrL,gBAAkBjG,KAAK6Y,MAAMpc,KAAKD,UAAU4f,YAAY1d,MAAQoI,OAAOC,kBACvFtK,KAAK6U,WAAWpL,iBAAmBlG,KAAKqc,KAAK5f,KAAKD,UAAU4f,YAAY9V,OAASQ,OAAOC,kBACxFtK,KAAK6U,WAAWvL,gBAAkBtJ,KAAK6U,WAAWrL,gBAAkBjG,KAAKsc,MAAM7f,KAAKD,UAAUyL,QAAQsU,eACtG9f,KAAK6U,WAAWtL,iBAAmBhG,KAAK6Y,MAAMpc,KAAK6U,WAAWpL,iBAAmBzJ,KAAKD,UAAUyL,QAAQoT,YACxG5e,KAAK6U,WAAWnL,eAAiB,EACjC1J,KAAK6U,WAAWlL,cAAgB,EAChC3J,KAAK6U,WAAWjL,kBAAoB5J,KAAK6U,WAAWvL,gBAAkBtJ,KAAKD,UAAU8B,KACrF7B,KAAK6U,WAAW/K,mBAAqB9J,KAAK6U,WAAWtL,iBAAmBvJ,KAAKD,UAAUmJ,KACvFlJ,KAAK6U,WAAW9K,YAAcxG,KAAKsc,MAAM7f,KAAK6U,WAAWjL,kBAAoBS,OAAOC,kBACpFtK,KAAK6U,WAAW7K,aAAezG,KAAKsc,MAAM7f,KAAK6U,WAAW/K,mBAAqBO,OAAOC,kBACtFtK,KAAK6U,WAAWkK,gBAAkB/e,KAAK6U,WAAW9K,YAAc/J,KAAKD,UAAU8B,KAC/E7B,KAAK6U,WAAWC,iBAAmB9U,KAAK6U,WAAW7K,aAAehK,KAAKD,UAAUmJ,KACjFlJ,KAAKkR,aAAa6O,SAAQ,SAAU9N,GAChCA,EAAQzM,MAAMvD,MAAQ2O,EAAMiE,WAAW9K,YAAc,KACrDkI,EAAQzM,MAAMqE,OAAS+G,EAAMiE,WAAWC,iBAAmB,KAC3D7C,EAAQzM,MAAMoZ,WAAahO,EAAMiE,WAAWC,iBAAmB,KAC/D7C,EAAQzM,MAAMwa,SAAW,YAExBhgB,KAAK0f,0BACN1f,KAAK0f,wBAA0BrY,SAAS9B,cAAc,SACtDvF,KAAKD,UAAUof,cAAcjZ,YAAYlG,KAAK0f,0BAElD,IAAIO,EAASjgB,KAAKkgB,kBAAoB,KAAOnC,EAAhC/d,4EAIKA,KAAK6U,WAAWkK,gBAJrB/e,MAMbA,KAAK0f,wBAAwB3K,UAAYkL,EACzCjgB,KAAK8e,oBAAoBtZ,MAAMqE,OAAS7J,KAAKD,UAAUogB,iBAAiB3a,MAAMqE,OAC9E7J,KAAKD,UAAUof,cAAc3Z,MAAMvD,MAAQjC,KAAK6U,WAAW9K,YAAc,KACzE/J,KAAKD,UAAUof,cAAc3Z,MAAMqE,OAAS7J,KAAK6U,WAAW7K,aAAe,MAE/EqU,EAAYle,UAAUwe,SAAW,SAAUL,GACvC,IAAI1N,EAAQ5Q,KACRse,GACAte,KAAKye,aAAaE,SAASL,GAE1Bte,KAAKyf,qBACNzf,KAAKyf,mBAAqBpY,SAAS9B,cAAc,SACjDvF,KAAKD,UAAUof,cAAcjZ,YAAYlG,KAAKyf,qBAElD,IAAIQ,EAASjgB,KAAKkgB,kBAAoB,KAAOnC,EAAhC/d,aACKA,KAAKye,aAAarJ,OAAOnJ,WAAWnB,IADzC9K,uBAEgBA,KAAKye,aAAarJ,OAAOvK,WAAWC,IAFpD9K,kBAGWA,KAAKD,UAAUqgB,UAAU,cAHpCpgB,gBAISA,KAAKD,UAAUqgB,UAAU,YAJlCpgB,OAoDb,OA9CAigB,GACIjgB,KAAKkgB,kBAAoB,cAAgBrC,EAAwB3Z,WAAjElE,oBACwBA,KAAKD,UAAUyL,QAAQkB,WAD/C1M,KAGKA,KAAKkgB,kBAAoB,SAAWrC,EAAwB3Z,WAHjElE,mBAIwBA,KAAKD,UAAUyL,QAAQmB,eAJ/C3M,KAMKA,KAAKkgB,kBAAoB,SAAWrC,EAAwB1Z,aANjEnE,0BASJigB,GACIjgB,KAAKkgB,kBAAoB,KAAOnC,EAAsB,SAAWG,EAAc,MAAQL,EAAwBzZ,aAA/GpE,yBAC8BA,KAAKye,aAAarJ,OAAOiL,OAAOvV,IAD9D9K,2BAIKA,KAAKkgB,kBAAoB,KAAOnC,EAAsB,IAAMG,EAAc,KAAOL,EAAwBzZ,aAAe,IAAMyZ,EAAwBxZ,yBAJ3JrE,wBAK6BA,KAAKye,aAAarJ,OAAOiL,OAAOvV,IAL7D9K,YAMkBA,KAAKye,aAAarJ,OAAOkL,aAAaxV,IANxD9K,KAQKA,KAAKkgB,kBAAoB,KAAOnC,EAAsB,IAAMG,EAAc,KAAOL,EAAwBzZ,aAAe,IAAMyZ,EAAwBvZ,uBAR3JtE,0BAS+BA,KAAKye,aAAarJ,OAAOiL,OAAOvV,IAT/D9K,WAWKA,KAAKkgB,kBAAoB,KAAOnC,EAAsB,IAAMG,EAAc,KAAOL,EAAwBzZ,aAAe,IAAMyZ,EAAwBtZ,6BAX3JvE,2BAYgCA,KAAKye,aAAarJ,OAAOiL,OAAOvV,IAZhE9K,WAcJigB,GACIjgB,KAAKkgB,kBAAoB,KAAO/B,EAAhCne,6EAOKA,KAAKkgB,kBAAoB,KAAO/B,EAPrCne,gDAS6BA,KAAKye,aAAarJ,OAAOS,UAAU/K,IAThE9K,KAWJA,KAAKye,aAAarJ,OAAOpJ,KAAK+T,SAAQ,SAAU5I,EAAGxW,GAC/Csf,GACIrP,EAAMsP,kBAAoB,KAAOlC,EAAkBrd,EAAI,aAAewW,EAAErM,IAAM,MACzE8F,EAAMsP,kBAAoB,KAAOjC,EAAkBtd,EAAI,wBAA0BwW,EAAErM,IAAM,SAEtGmV,GACIjgB,KAAKkgB,kBAAoB,KAAOlC,EAAkB/Z,EAAQ+B,uBAAyB,aAAehG,KAAKye,aAAarJ,OAAOvK,WAAWC,IAAM,MACvI9K,KAAKkgB,kBAAoB,KAAOjC,EAAkBha,EAAQ+B,uBAAyB,wBAA0BhG,KAAKye,aAAarJ,OAAOnJ,WAAWnB,IAAM,MAChK9K,KAAKyf,mBAAmB1K,UAAYkL,EAC7BjgB,KAAKye,aAAarJ,QAE7BiJ,EAAYle,UAAUogB,eAAiB,SAAUjW,GAC7CtK,KAAKgf,qBAETX,EAAYle,UAAU0e,oBAAsB,SAAUhd,EAAMqH,GACxD,IAAK,IAAIvI,EAAIX,KAAKkR,aAAatQ,OAAQD,GAAKuI,EAAMvI,IAAK,CACnD,IAAII,EAAMsG,SAAS9B,cAAc,OACjCvF,KAAKiR,cAAc/K,YAAYnF,GAC/Bf,KAAKkR,aAAa1Q,KAAKO,GAE3B,MAAOf,KAAKkR,aAAatQ,OAASsI,EAC9BlJ,KAAKiR,cAAcxJ,YAAYzH,KAAKkR,aAAa1D,QAGzD6Q,EAAYle,UAAUqgB,SAAW,SAAU3e,EAAMqH,GAC7ClJ,KAAK6e,oBAAoBhd,EAAMqH,GAC/BlJ,KAAKgf,qBAETX,EAAYle,UAAUsgB,kBAAoB,WACtCzgB,KAAKgf,qBAETX,EAAYle,UAAU8H,OAAS,WAC3BjI,KAAKiR,cAAcrL,UAAU4Z,OAAOtB,IAExCG,EAAYle,UAAU+H,QAAU,WAC5BlI,KAAKiR,cAAcrL,UAAUC,IAAIqY,IAErCG,EAAYle,UAAUoI,mBAAqB,SAAUC,EAAOC,EAAKC,GAC7D,MAAO1I,KAAK8e,oBAAoB9K,SAASpT,OACrCZ,KAAK8e,oBAAoBrX,YAAYzH,KAAK8e,oBAAoB9K,SAAS,IAE3E,GAAKxL,GAAUC,EAAf,CAGA,IAAIgN,EAAmBjN,EAAM,GAAKxI,KAAKD,UAAUkB,OAAO0T,MACpDe,EAAiBjN,EAAI,GAAKzI,KAAKD,UAAUkB,OAAO0T,MAChDgB,EAAyBpS,KAAKC,IAAIiS,EAAkB,GACpDG,EAAuBrS,KAAKE,IAAIiS,EAAgB1V,KAAKD,UAAUmJ,KAAO,GAC1E,KAAIyM,GAA0B3V,KAAKD,UAAUmJ,MAAQ0M,EAAuB,GAA5E,CAGA,IAAI8K,EAAmBrZ,SAASrC,yBAChC,GAAI0D,EACAgY,EAAiBxa,YAAYlG,KAAK2gB,wBAAwBhL,EAAwBnN,EAAM,GAAIC,EAAI,GAAImN,EAAuBD,EAAyB,QAEnJ,CACD,IAAIlT,EAAWgT,IAAqBE,EAAyBnN,EAAM,GAAK,EACpEwN,EAASL,IAA2BC,EAAuBnN,EAAI,GAAKzI,KAAKD,UAAU8B,KACvF6e,EAAiBxa,YAAYlG,KAAK2gB,wBAAwBhL,EAAwBlT,EAAUuT,IAC5F,IAAID,EAAkBH,EAAuBD,EAAyB,EAEtE,GADA+K,EAAiBxa,YAAYlG,KAAK2gB,wBAAwBhL,EAAyB,EAAG,EAAG3V,KAAKD,UAAU8B,KAAMkU,IAC1GJ,IAA2BC,EAAsB,CACjD,IAAIgL,EAAWlL,IAAmBE,EAAuBnN,EAAI,GAAKzI,KAAKD,UAAU8B,KACjF6e,EAAiBxa,YAAYlG,KAAK2gB,wBAAwB/K,EAAsB,EAAGgL,KAG3F5gB,KAAK8e,oBAAoB5Y,YAAYwa,MAEzCrC,EAAYle,UAAUwgB,wBAA0B,SAAU5f,EAAK8f,EAAUC,EAAQC,QAC5D,IAAbA,IAAuBA,EAAW,GACtC,IAAI9O,EAAU5K,SAAS9B,cAAc,OAKrC,OAJA0M,EAAQzM,MAAMqE,OAASkX,EAAW/gB,KAAK6U,WAAWC,iBAAmB,KACrE7C,EAAQzM,MAAMwb,IAAMjgB,EAAMf,KAAK6U,WAAWC,iBAAmB,KAC7D7C,EAAQzM,MAAMyb,KAAOJ,EAAW7gB,KAAK6U,WAAWkK,gBAAkB,KAClE9M,EAAQzM,MAAMvD,MAAQjC,KAAK6U,WAAWkK,iBAAmB+B,EAASD,GAAY,KACvE5O,GAEXoM,EAAYle,UAAUgI,aAAe,aAErCkW,EAAYle,UAAU4H,iBAAmB,WACrC/H,KAAKgf,oBACLhf,KAAK2e,cAASvB,GACdpd,KAAKD,UAAU0U,QAAQ,EAAGzU,KAAKD,UAAUmJ,KAAO,IAEpDmV,EAAYle,UAAU+gB,MAAQ,WAC1BlhB,KAAKkR,aAAa6O,SAAQ,SAAU1O,GAAK,OAAOA,EAAE0D,UAAY,OAElEsJ,EAAYle,UAAUghB,YAAc,SAAU3Y,EAAOC,GACjDzI,KAAKif,iBAAiBxK,QAAQjM,EAAOC,IAEzC4V,EAAYle,UAAUyR,YAAc,SAAUpJ,EAAOC,GAIjD,IAHA,IAAIT,EAAWhI,KAAKD,UAChBqhB,EAAkBpZ,EAAS/G,OAAO+Z,MAAQhT,EAAS/G,OAAOiJ,EAC1DrF,EAAU7E,KAAKD,UAAUkB,OAAOW,EAC3BsI,EAAI1B,EAAO0B,GAAKzB,EAAKyB,IAAK,CAC/B,IAAImX,EAAarhB,KAAKkR,aAAahH,GACnCmX,EAAWtM,UAAY,GACvB,IAAIhU,EAAMmJ,EAAIlC,EAAS/G,OAAO0T,MAC1BnS,EAAWwF,EAAS/G,OAAOC,MAAMC,IAAIJ,GACrC6D,EAAcoD,EAASwD,QAAQ5G,YACnCyc,EAAWnb,YAAYlG,KAAKkf,YAAYxa,UAAUlC,EAAUzB,IAAQqgB,EAAiBxc,EAAaC,EAAS7E,KAAK6U,WAAWkK,gBAAiB/W,EAASnG,OAEzJ7B,KAAKD,UAAUuhB,KAAK,UAAW,CAAE9Y,MAAOA,EAAOC,IAAKA,KAExDhJ,OAAOC,eAAe2e,EAAYle,UAAW,oBAAqB,CAC9DgB,IAAK,WACD,MAAO,IAAM2c,EAAwB9d,KAAKue,gBAE9CrE,YAAY,EACZE,cAAc,IAElBiE,EAAYle,UAAUC,wBAA0B,SAAUC,GAAW,OAAQ,GAC7Ege,EAAYle,UAAUM,0BAA4B,SAAUC,GAAY,OAAO,GAC/E2d,EAAYle,UAAUmf,aAAe,SAAUjO,GAC3CrR,KAAKuhB,kBAAkBlQ,EAAEmQ,GAAInQ,EAAEoQ,GAAIpQ,EAAEqQ,GAAIrQ,EAAEsQ,GAAItQ,EAAExP,MAAM,IAE3Dwc,EAAYle,UAAUof,aAAe,SAAUlO,GAC3CrR,KAAKuhB,kBAAkBlQ,EAAEmQ,GAAInQ,EAAEoQ,GAAIpQ,EAAEqQ,GAAIrQ,EAAEsQ,GAAItQ,EAAExP,MAAM,IAE3Dwc,EAAYle,UAAUohB,kBAAoB,SAAU3f,EAAG6f,EAAIvX,EAAGyX,EAAI9f,EAAM+f,GACpE,MAAOhgB,IAAM6f,GAAMvX,IAAMyX,EAAI,CACzB,IAAI5gB,EAAMf,KAAKkR,aAAahH,GAC5B,IAAKnJ,EACD,OAEJ,IAAI8gB,EAAO9gB,EAAIiT,SAASpS,GACxBigB,EAAKrc,MAAMsc,eAAiBF,EAAU,YAAc,OACpDhgB,GAAKA,EAAI,GAAKC,EACJ,IAAND,GACAsI,MAILmU,EA9QO,CA+QhBV,EAAeoE,cACjBpiB,EAAQ0e,YAAcA,G,kCC1StB,IAAI5O,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI2Q,EAAc,EAAQ,QACtBC,EAAc,EAAQ,QACtBwR,EAAiB,IACjBC,EAAoB,SAAUtR,GAE9B,SAASsR,EAAiBliB,GACtB,IAAI6Q,EAAQD,EAAOE,KAAK7Q,OAASA,KAUjC,OATA4Q,EAAM7Q,UAAYA,EAClB6Q,EAAMsR,OAAS,GACftR,EAAMuR,iBAAkB,EACxBvR,EAAMwR,gBAAkB,KACxBxR,EAAMyR,aAAe,KACrBzR,EAAM0R,iBAAmB,CAAC,KAAM,MAChC1R,EAAMuB,SAAS3B,EAAYqC,yBAAyBjC,EAAM7Q,UAAUkS,QAAS,aAAa,SAAUZ,GAAK,OAAOT,EAAM2R,aAAalR,OACnIT,EAAM4R,mBAAqB,SAAUnR,GAAK,OAAOT,EAAM6R,aAAapR,IACpET,EAAM8R,eAAiB,SAAUrR,GAAK,OAAOT,EAAM+R,SAAStR,IACrDT,EAiIX,OA7IAnB,EAAUwS,EAAkBtR,GAc5BsR,EAAiB9hB,UAAUqH,QAAU,WACjCmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAK4iB,eAETX,EAAiB9hB,UAAU0F,IAAM,SAAUgd,GACvC7iB,KAAKkiB,OAAO1hB,KAAKqiB,GACU,IAAvB7iB,KAAKkiB,OAAOthB,QACZZ,KAAK8iB,aAGbb,EAAiB9hB,UAAU2H,SAAW,SAAUU,EAAOC,GACnD,GAA2B,IAAvBzI,KAAKkiB,OAAOthB,OAAhB,CAGK6H,IACDD,EAAQ,EACRC,EAAMzI,KAAKD,UAAUmJ,KAAO,GAEhC,IAAK,IAAIvI,EAAI,EAAGA,EAAIX,KAAKkiB,OAAOthB,OAAQD,IAAK,CACzC,IAAIkiB,EAAO7iB,KAAKkiB,OAAOvhB,IAClBkiB,EAAKnB,GAAKlZ,GAASqa,EAAKnB,IAAMjZ,EAAM,GACpCoa,EAAKlB,GAAKnZ,GAASqa,EAAKlB,IAAMlZ,EAAM,GACpCoa,EAAKnB,GAAKlZ,GAASqa,EAAKlB,GAAKlZ,EAAM,KAChCzI,KAAKqiB,cAAgBriB,KAAKqiB,eAAiBQ,IAC3C7iB,KAAKqiB,aAAaU,gBAClB/iB,KAAKqiB,aAAe,MAExBriB,KAAKkiB,OAAOrhB,OAAOF,IAAK,IAGL,IAAvBX,KAAKkiB,OAAOthB,QACZZ,KAAK4iB,gBAGbX,EAAiB9hB,UAAU2iB,UAAY,WAC9B9iB,KAAKmiB,kBACNniB,KAAKmiB,iBAAkB,EACvBniB,KAAKD,UAAUkS,QAAQT,iBAAiB,YAAaxR,KAAKwiB,oBAC1DxiB,KAAKD,UAAUkS,QAAQT,iBAAiB,QAASxR,KAAK0iB,kBAG9DT,EAAiB9hB,UAAUyiB,YAAc,WACjC5iB,KAAKmiB,kBACLniB,KAAKmiB,iBAAkB,EACvBniB,KAAKD,UAAUkS,QAAQwB,oBAAoB,YAAazT,KAAKwiB,oBAC7DxiB,KAAKD,UAAUkS,QAAQwB,oBAAoB,QAASzT,KAAK0iB,kBAGjET,EAAiB9hB,UAAUsiB,aAAe,SAAUpR,GAC5CrR,KAAKsiB,iBAAiB,KAAOjR,EAAE2R,OAAShjB,KAAKsiB,iBAAiB,KAAOjR,EAAE4R,QACvEjjB,KAAKkjB,SAAS7R,GACdrR,KAAKsiB,iBAAmB,CAACjR,EAAE2R,MAAO3R,EAAE4R,SAG5ChB,EAAiB9hB,UAAU+iB,SAAW,SAAU7R,GAC5C,IAAIT,EAAQ5Q,KACR6iB,EAAO7iB,KAAKmjB,iBAAiB9R,GAC7BwR,IAAS7iB,KAAKqiB,eAGdriB,KAAKqiB,eACLriB,KAAKqiB,aAAaU,gBAClB/iB,KAAKqiB,aAAe,KAChBriB,KAAKoiB,iBACLgB,aAAapjB,KAAKoiB,kBAGrBS,IAGL7iB,KAAKqiB,aAAeQ,EAChBA,EAAKQ,eACLR,EAAKQ,cAAchS,GAEvBrR,KAAKoiB,gBAAkB5N,YAAW,WAAc,OAAO5D,EAAM0S,WAAWjS,KAAO2Q,MAEnFC,EAAiB9hB,UAAUmjB,WAAa,SAAUjS,GAC9CrR,KAAKoiB,gBAAkB,KACvB,IAAIS,EAAO7iB,KAAKmjB,iBAAiB9R,GAC7BwR,GAAQA,EAAKU,iBACbV,EAAKU,gBAAgBlS,IAG7B4Q,EAAiB9hB,UAAUoiB,aAAe,SAAUlR,GAChD,GAAKrR,KAAKmiB,gBAAV,CAGA,IAAIU,EAAO7iB,KAAKmjB,iBAAiB9R,GAC7BwR,GACIA,EAAKW,iBAAiBnS,KACtBA,EAAEyC,iBACFzC,EAAE0C,8BAIdkO,EAAiB9hB,UAAUwiB,SAAW,SAAUtR,GAC5C,IAAIwR,EAAO7iB,KAAKmjB,iBAAiB9R,GAC7BwR,IACAA,EAAKY,cAAcpS,GACnBA,EAAEyC,iBACFzC,EAAE0C,6BAGVkO,EAAiB9hB,UAAUgjB,iBAAmB,SAAU9R,GACpD,IAAIqS,EAAS1jB,KAAKD,UAAU4jB,YAAYC,UAAUvS,EAAGrR,KAAKD,UAAUof,cAAenf,KAAKD,UAAU4f,YAAa3f,KAAKD,UAAU8B,KAAM7B,KAAKD,UAAUmJ,MACnJ,IAAKwa,EACD,OAAO,KAIX,IAFA,IAAI9hB,EAAI8hB,EAAO,GACXxZ,EAAIwZ,EAAO,GACN/iB,EAAI,EAAGA,EAAIX,KAAKkiB,OAAOthB,OAAQD,IAAK,CACzC,IAAIkiB,EAAO7iB,KAAKkiB,OAAOvhB,GACvB,GAAIkiB,EAAKnB,KAAOmB,EAAKlB,IACjB,GAAIzX,IAAM2Y,EAAKnB,IAAM9f,GAAKihB,EAAKrB,IAAM5f,EAAIihB,EAAKpB,GAC1C,OAAOoB,OAIX,GAAK3Y,IAAM2Y,EAAKnB,IAAM9f,GAAKihB,EAAKrB,IAC3BtX,IAAM2Y,EAAKlB,IAAM/f,EAAIihB,EAAKpB,IAC1BvX,EAAI2Y,EAAKnB,IAAMxX,EAAI2Y,EAAKlB,GACzB,OAAOkB,EAInB,OAAO,MAEJZ,EA9IY,CA+IrB1R,EAAYyE,YACdrV,EAAQsiB,iBAAmBA,EAC3B,IAAI4B,EAAa,WACb,SAASA,EAAUrC,EAAIE,EAAID,EAAIE,EAAI8B,EAAeJ,EAAeE,EAAiBR,EAAeS,GAC7FxjB,KAAKwhB,GAAKA,EACVxhB,KAAK0hB,GAAKA,EACV1hB,KAAKyhB,GAAKA,EACVzhB,KAAK2hB,GAAKA,EACV3hB,KAAKyjB,cAAgBA,EACrBzjB,KAAKqjB,cAAgBA,EACrBrjB,KAAKujB,gBAAkBA,EACvBvjB,KAAK+iB,cAAgBA,EACrB/iB,KAAKwjB,iBAAmBA,EAE5B,OAAOK,EAZK,GAchBlkB,EAAQkkB,UAAYA,G,oCChLpB,IAAIpU,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIkkB,EAAiB,EAAQ,QACzBnG,EAAiB,EAAQ,QACzBoG,EAAe,EAAQ,QACvB9f,EAAU,EAAQ,QACtBtE,EAAQqkB,aAAe,IAAa/f,EAAQ8B,eAAiB,EAC7DpG,EAAQgC,qBAAuB,EAC/BhC,EAAQqC,qBAAuB,EAC/BrC,EAAQuC,sBAAwB,EAChCvC,EAAQwF,qBAAuB,EAC/BxF,EAAQskB,gBAAkB,WAC1BtkB,EAAQwN,eAAiB,IACzBxN,EAAQyN,gBAAkB,EAC1BzN,EAAQyF,eAAiB,GACzB,IAAI8e,EAAU,WACV,SAASA,EAAOnkB,EAAWokB,GACvBnkB,KAAKD,UAAYA,EACjBC,KAAKmkB,eAAiBA,EACtBnkB,KAAKokB,QAAU,GACfpkB,KAAKkhB,QAsQT,OApQAgD,EAAO/jB,UAAUkkB,qBAAuB,SAAUC,GACjC,YAATA,EACItkB,KAAKukB,yBAA2BR,EAAahX,oBAC7C/M,KAAKukB,uBAAyBR,EAAahX,kBAC3C/M,KAAKwkB,kBAILxkB,KAAKukB,yBAA2BR,EAAa/U,aAC7ChP,KAAKukB,uBAAyBR,EAAa/U,WAC3ChP,KAAKwkB,mBAIjBN,EAAO/jB,UAAUqkB,eAAiB,WAC9B,GAAKxkB,KAAKkB,MAEV,IAAK,IAAIP,EAAI,EAAGA,EAAIX,KAAKkB,MAAMN,SAAUD,EAAG,CAGxC,IAFA,IAAI8jB,EAAUzkB,KAAKkB,MAAMC,IAAIR,GACzBmO,EAAU,IAAI9O,KAAKukB,uBAAuBE,EAAQ7jB,QAC7CiC,EAAI,EAAGA,EAAI4hB,EAAQ7jB,SAAUiC,EAClCiM,EAAQX,IAAItL,EAAG4hB,EAAQtjB,IAAI0B,IAE/B7C,KAAKkB,MAAMiN,IAAIxN,EAAGmO,KAG1BoV,EAAO/jB,UAAUukB,aAAe,SAAUviB,EAAM8K,GAC5C,IAAID,EAAe,CAAC7K,EAAMxC,EAAQwN,eAAgBxN,EAAQyN,gBAAiBzN,EAAQyF,gBACnF,OAAO,IAAIpF,KAAKukB,uBAAuBvkB,KAAKD,UAAU8B,KAAMmL,EAAcC,IAE9ExN,OAAOC,eAAewkB,EAAO/jB,UAAW,gBAAiB,CACrDgB,IAAK,WACD,OAAOnB,KAAKmkB,gBAAkBnkB,KAAKkB,MAAMyjB,UAAY3kB,KAAKD,UAAUmJ,MAExEgR,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAewkB,EAAO/jB,UAAW,qBAAsB,CAC1DgB,IAAK,WACD,IAAIyjB,EAAY5kB,KAAKgb,MAAQhb,KAAKkK,EAC9B2a,EAAYD,EAAY5kB,KAAK2U,MACjC,OAAQkQ,GAAa,GAAKA,EAAY7kB,KAAKD,UAAUmJ,MAEzDgR,YAAY,EACZE,cAAc,IAElB8J,EAAO/jB,UAAU2kB,wBAA0B,SAAU5b,GACjD,IAAKlJ,KAAKmkB,eACN,OAAOjb,EAEX,IAAI6b,EAAsB7b,EAAOlJ,KAAKD,UAAUyL,QAAQwZ,WACxD,OAAOD,EAAsBplB,EAAQskB,gBAAkBtkB,EAAQskB,gBAAkBc,GAErFb,EAAO/jB,UAAU8kB,iBAAmB,SAAUC,GAC1C,GAA0B,IAAtBllB,KAAKkB,MAAMN,OAAc,MACRwc,IAAb8H,IACAA,EAAWvlB,EAAQqkB,cAEvB,IAAIrjB,EAAIX,KAAKD,UAAUmJ,KACvB,MAAOvI,IACHX,KAAKkB,MAAMV,KAAKR,KAAK0kB,aAAaQ,MAI9ChB,EAAO/jB,UAAU+gB,MAAQ,WACrBlhB,KAAKqkB,qBAAqBrkB,KAAKD,UAAUyL,QAAQ2Z,4BACjDnlB,KAAK2U,MAAQ,EACb3U,KAAKgb,MAAQ,EACbhb,KAAKkK,EAAI,EACTlK,KAAK4B,EAAI,EACT5B,KAAKkB,MAAQ,IAAI4iB,EAAesB,aAAaplB,KAAK8kB,wBAAwB9kB,KAAKD,UAAUmJ,OACzFlJ,KAAKqlB,UAAY,EACjBrlB,KAAKslB,aAAetlB,KAAKD,UAAUmJ,KAAO,EAC1ClJ,KAAKulB,iBAETrB,EAAO/jB,UAAUkJ,OAAS,SAAUmc,EAASC,GACzC,IAAIC,EAAe1lB,KAAK8kB,wBAAwBW,GAIhD,GAHIC,EAAe1lB,KAAKkB,MAAMyjB,YAC1B3kB,KAAKkB,MAAMyjB,UAAYe,GAEvB1lB,KAAKkB,MAAMN,OAAS,EAAG,CACvB,GAAIZ,KAAKD,UAAU8B,KAAO2jB,EAEtB,IADA,IAAIjX,EAAK,CAAC5O,EAAQqkB,aAAcrkB,EAAQwN,eAAgBxN,EAAQyN,gBAAiBzN,EAAQyF,gBAChFzE,EAAI,EAAGA,EAAIX,KAAKkB,MAAMN,OAAQD,IACnCX,KAAKkB,MAAMC,IAAIR,GAAG0I,OAAOmc,EAASjX,GAG1C,IAAIoX,EAAS,EACb,GAAI3lB,KAAKD,UAAUmJ,KAAOuc,GACtB,IAAK,IAAIvb,EAAIlK,KAAKD,UAAUmJ,KAAMgB,EAAIub,EAASvb,IAC3C,GAAIlK,KAAKkB,MAAMN,OAAS6kB,EAAUzlB,KAAKgb,MACnC,GAAIhb,KAAKgb,MAAQ,GAAKhb,KAAKkB,MAAMN,QAAUZ,KAAKgb,MAAQhb,KAAKkK,EAAIyb,EAAS,EACtE3lB,KAAKgb,QACL2K,IACI3lB,KAAK2U,MAAQ,GACb3U,KAAK2U,YAGR,CACD,IAAI3H,EAAe,CAACrN,EAAQqkB,aAAcrkB,EAAQwN,eAAgBxN,EAAQyN,gBAAiBzN,EAAQyF,gBACnGpF,KAAKkB,MAAMV,KAAK,IAAIR,KAAKukB,uBAAuBiB,EAASxY,UAMrE,IAAS9C,EAAIlK,KAAKD,UAAUmJ,KAAMgB,EAAIub,EAASvb,IACvClK,KAAKkB,MAAMN,OAAS6kB,EAAUzlB,KAAKgb,QAC/Bhb,KAAKkB,MAAMN,OAASZ,KAAKgb,MAAQhb,KAAKkK,EAAI,EAC1ClK,KAAKkB,MAAMsM,OAGXxN,KAAKgb,QACLhb,KAAK2U,UAKrB,GAAI+Q,EAAe1lB,KAAKkB,MAAMyjB,UAAW,CACrC,IAAIiB,EAAe5lB,KAAKkB,MAAMN,OAAS8kB,EACnCE,EAAe,IACf5lB,KAAKkB,MAAM2kB,UAAUD,GACrB5lB,KAAKgb,MAAQzX,KAAKC,IAAIxD,KAAKgb,MAAQ4K,EAAc,GACjD5lB,KAAK2U,MAAQpR,KAAKC,IAAIxD,KAAK2U,MAAQiR,EAAc,IAErD5lB,KAAKkB,MAAMyjB,UAAYe,EAE3B1lB,KAAK4B,EAAI2B,KAAKE,IAAIzD,KAAK4B,EAAG4jB,EAAU,GACpCxlB,KAAKkK,EAAI3G,KAAKE,IAAIzD,KAAKkK,EAAGub,EAAU,GAChCE,IACA3lB,KAAKkK,GAAKyb,GAEd3lB,KAAK8lB,OAASviB,KAAKE,IAAIzD,KAAK8lB,OAAQL,EAAU,GAC9CzlB,KAAK+lB,OAASxiB,KAAKE,IAAIzD,KAAK+lB,OAAQP,EAAU,GAC9CxlB,KAAKqlB,UAAY,EAErBrlB,KAAKslB,aAAeG,EAAU,GAElCvB,EAAO/jB,UAAU6lB,yBAA2B,SAAUxJ,EAAWyJ,GAC7D,MAAOA,EAAa,CAKhB,IAJA,IAAIjlB,EAAOhB,KAAKkB,MAAMC,IAAIqb,GAIjB7b,EAAI,EAAGA,EAAIK,EAAKJ,SAAUD,EAE/B,GADAslB,GAAejlB,EAAKG,IAAIR,GAAGhB,EAAQqC,sBAAsBpB,OACrDqlB,EAAc,EACd,MAAO,CAACzJ,EAAW7b,GAG3B6b,IAEJ,MAAO,CAACA,EAAW,IAEvB0H,EAAO/jB,UAAUmB,4BAA8B,SAAUkb,EAAWC,EAAWha,EAAUuT,QACpE,IAAbvT,IAAuBA,EAAW,QACvB,IAAXuT,IAAqBA,EAAS,MAClC,IAAI2G,EAAa,GACb3b,EAAOhB,KAAKkB,MAAMC,IAAIqb,GAC1B,IAAKxb,EACD,MAAO,GAEX,IAAIsB,EAAaG,EACF,OAAXuT,IACAA,EAAShV,EAAKJ,QAGlB,IADA,IAAI2B,EAAWyT,EACNrV,EAAI,EAAGA,EAAIK,EAAKJ,OAAQD,IAAK,CAClC,IAAI0E,EAAOrE,EAAKG,IAAIR,GACpBgc,GAActX,EAAK1F,EAAQqC,sBACiB,IAAxCqD,EAAK1F,EAAQuC,wBACTO,GAAY9B,GACZ2B,IAEA0T,EAASrV,GACT4B,KAIA8C,EAAK1F,EAAQqC,sBAAsBpB,OAAS,IACxC6B,EAAW9B,IACX2B,GAAc+C,EAAK1F,EAAQqC,sBAAsBpB,OAAS,GAE1DoV,EAASrV,IACT4B,GAAY8C,EAAK1F,EAAQqC,sBAAsBpB,OAAS,IAKxE,GAAI6b,EAAW,CACX,IAAIyJ,EAAuBvJ,EAAWwJ,OAAO,QAI7C,IAH8B,IAA1BD,IACA3jB,EAAWgB,KAAKE,IAAIlB,EAAU2jB,IAE9B3jB,GAAYD,EACZ,MAAO,GAGf,OAAOqa,EAAWha,UAAUL,EAAYC,IAE5C2hB,EAAO/jB,UAAUimB,uBAAyB,SAAUlc,GAChD,IAAImc,EAAQnc,EACRoc,EAAOpc,EACX,MAAOmc,EAAQ,GAAKrmB,KAAKkB,MAAMC,IAAIklB,GAAOpZ,UACtCoZ,IAEJ,MAAOC,EAAO,EAAItmB,KAAKkB,MAAMN,QAAUZ,KAAKkB,MAAMC,IAAImlB,EAAO,GAAGrZ,UAC5DqZ,IAEJ,MAAO,CAAED,MAAOA,EAAOC,KAAMA,IAEjCpC,EAAO/jB,UAAUolB,cAAgB,SAAU5kB,GAUvC,IATU,OAANA,QAAoByc,IAANzc,EACTX,KAAKumB,KAAK5lB,KACXA,EAAIX,KAAKwmB,SAAS7lB,KAItBX,KAAKumB,KAAO,GACZ5lB,EAAI,GAEDA,EAAIX,KAAKD,UAAU8B,KAAMlB,GAAKX,KAAKD,UAAUyL,QAAQib,aACxDzmB,KAAKumB,KAAK5lB,IAAK,GAGvBujB,EAAO/jB,UAAUqmB,SAAW,SAAU5kB,GACxB,OAANA,QAAoBwb,IAANxb,IACdA,EAAI5B,KAAK4B,GAEb,OAAQ5B,KAAKumB,OAAO3kB,IAAMA,EAAI,GAE9B,OAAOA,GAAK5B,KAAKD,UAAU8B,KAAO7B,KAAKD,UAAU8B,KAAO,EAAID,EAAI,EAAI,EAAIA,GAE5EsiB,EAAO/jB,UAAUumB,SAAW,SAAU9kB,GACxB,OAANA,QAAoBwb,IAANxb,IACdA,EAAI5B,KAAK4B,GAEb,OAAQ5B,KAAKumB,OAAO3kB,IAAMA,EAAI5B,KAAKD,UAAU8B,MAE7C,OAAOD,GAAK5B,KAAKD,UAAU8B,KAAO7B,KAAKD,UAAU8B,KAAO,EAAID,EAAI,EAAI,EAAIA,GAE5EsiB,EAAO/jB,UAAUwmB,UAAY,SAAUzc,GACnC,IAAI0G,EAAQ5Q,KACR4mB,EAAS,IAAIC,EAAO3c,GASxB,OARAlK,KAAKokB,QAAQ5jB,KAAKomB,GAClBA,EAAOzU,SAASnS,KAAKkB,MAAMkR,sBAAsB,QAAQ,SAAU0U,GAC/DF,EAAO5lB,MAAQ8lB,EACXF,EAAO5lB,KAAO,GACd4lB,EAAOpf,cAGfof,EAAOzU,SAASyU,EAAOxU,sBAAsB,WAAW,WAAc,OAAOxB,EAAMmW,cAAcH,OAC1FA,GAEX1C,EAAO/jB,UAAU4mB,cAAgB,SAAUH,GACvC5mB,KAAKokB,QAAQvjB,OAAOb,KAAKokB,QAAQ7I,QAAQqL,GAAS,IAEtD1C,EAAO/jB,UAAU6mB,SAAW,SAAUvK,EAAWna,EAAYC,EAAU0kB,EAAeC,GAClF,OAAO,IAAIC,EAAqBnnB,KAAMyc,EAAWna,EAAYC,EAAU0kB,EAAeC,IAEnFhD,EA3QE,GA6QbvkB,EAAQukB,OAASA,EACjB,IAAI2C,EAAU,SAAUlW,GAEpB,SAASkW,EAAO7lB,GACZ,IAAI4P,EAAQD,EAAOE,KAAK7Q,OAASA,KAIjC,OAHA4Q,EAAM5P,KAAOA,EACb4P,EAAMwW,IAAMP,EAAOQ,UACnBzW,EAAM0W,YAAa,EACZ1W,EAgBX,OAtBAnB,EAAUoX,EAAQlW,GAQlBlR,OAAOC,eAAemnB,EAAO1mB,UAAW,KAAM,CAC1CgB,IAAK,WAAc,OAAOnB,KAAKonB,KAC/BlN,YAAY,EACZE,cAAc,IAElByM,EAAO1mB,UAAUqH,QAAU,WACnBxH,KAAKsnB,aAGTtnB,KAAKsnB,YAAa,EAClBtnB,KAAKshB,KAAK,WACV3Q,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,QAElC6mB,EAAOQ,QAAU,EACVR,EAvBE,CAwBXlJ,EAAeoE,cACjBpiB,EAAQknB,OAASA,EACjB,IAAIM,EAAwB,WACxB,SAASA,EAAqBI,EAASC,EAAYC,EAAaC,EAAWC,EAAgBC,QACnE,IAAhBH,IAA0BA,EAAc,QAC1B,IAAdC,IAAwBA,EAAYH,EAAQrmB,MAAMN,aAC/B,IAAnB+mB,IAA6BA,EAAiB,QAC7B,IAAjBC,IAA2BA,EAAe,GAC9C5nB,KAAKunB,QAAUA,EACfvnB,KAAKwnB,WAAaA,EAClBxnB,KAAKynB,YAAcA,EACnBznB,KAAK0nB,UAAYA,EACjB1nB,KAAK2nB,eAAiBA,EACtB3nB,KAAK4nB,aAAeA,EAChB5nB,KAAKynB,YAAc,IACnBznB,KAAKynB,YAAc,GAEnBznB,KAAK0nB,UAAY1nB,KAAKunB,QAAQrmB,MAAMN,SACpCZ,KAAK0nB,UAAY1nB,KAAKunB,QAAQrmB,MAAMN,QAExCZ,KAAK6nB,SAAW7nB,KAAKynB,YAsBzB,OApBAN,EAAqBhnB,UAAU2nB,QAAU,WACrC,OAAO9nB,KAAK6nB,SAAW7nB,KAAK0nB,WAEhCP,EAAqBhnB,UAAU4nB,KAAO,WAClC,IAAIzkB,EAAQtD,KAAKunB,QAAQnB,uBAAuBpmB,KAAK6nB,UACjDvkB,EAAM+iB,MAAQrmB,KAAKynB,YAAcznB,KAAK2nB,iBACtCrkB,EAAM+iB,MAAQrmB,KAAKynB,YAAcznB,KAAK2nB,gBAEtCrkB,EAAMgjB,KAAOtmB,KAAK0nB,UAAY1nB,KAAK4nB,eACnCtkB,EAAMgjB,KAAOtmB,KAAK0nB,UAAY1nB,KAAK4nB,cAEvCtkB,EAAM+iB,MAAQ9iB,KAAKC,IAAIF,EAAM+iB,MAAO,GACpC/iB,EAAMgjB,KAAO/iB,KAAKE,IAAIH,EAAMgjB,KAAMtmB,KAAKunB,QAAQrmB,MAAMN,QAErD,IADA,IAAI+Z,EAAS,GACJha,EAAI2C,EAAM+iB,MAAO1lB,GAAK2C,EAAMgjB,OAAQ3lB,EACzCga,GAAU3a,KAAKunB,QAAQjmB,4BAA4BX,IAAIX,KAAe,YAAIW,IAAM2C,EAAMgjB,MAG1F,OADAtmB,KAAK6nB,SAAWvkB,EAAMgjB,KAAO,EACtB,CAAEhjB,MAAOA,EAAO0kB,QAASrN,IAE7BwM,EAxCgB,GA0C3BxnB,EAAQwnB,qBAAuBA,G,oCC5W/B,SAAStU,EAAyBoV,EAAM3D,EAAMjkB,EAAS6nB,GAEnD,OADAD,EAAKzW,iBAAiB8S,EAAMjkB,EAAS6nB,GAC9B,CACH1gB,QAAS,WACAnH,IAGL4nB,EAAKxU,oBAAoB6Q,EAAMjkB,EAAS6nB,GACxCD,EAAO,KACP5nB,EAAU,QAVtBZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IActDD,EAAQkT,yBAA2BA,G,oCCdnC,IAAIpD,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIuoB,EAAoB,EAAQ,QAC5BC,EAAyB,EAAQ,QACjCC,EAAsB,EAAQ,QAC9BzK,EAAiB,EAAQ,QACzB0K,EAAoB,EAAQ,QAC5B3K,EAAiB,EAAQ,QACzBrN,EAAoB,EAAQ,QAC5BiY,EAAqB,EAAQ,QAC7BC,EAA4B,EAAQ,QACpCC,EAAY,SAAU9X,GAEtB,SAAS8X,EAAS1oB,EAAWue,GACzB,IAAI1N,EAAQD,EAAOE,KAAK7Q,OAASA,KACjC4Q,EAAM7Q,UAAYA,EAClB6Q,EAAM8X,WAAY,EAClB9X,EAAM+X,mBAAoB,EAC1B,IAAInK,EAAoB5N,EAAM7Q,UAAUyL,QAAQgT,kBAiChD,GAhCA5N,EAAM6N,aAAe,IAAIb,EAAec,aAAarX,SAAUmX,GAC/D5N,EAAMgY,yBAA2B,IAAIJ,EAA0B1oB,wBAAwBC,GACnFue,GACA1N,EAAM6N,aAAaE,SAASL,GAEhC1N,EAAMiY,cAAgB,CAClB,IAAIV,EAAkBW,gBAAgBlY,EAAM7Q,UAAUof,cAAe,EAAGvO,EAAM6N,aAAarJ,OAAQxE,EAAMgY,yBAA0BpK,GACnI,IAAI4J,EAAuBlT,qBAAqBtE,EAAM7Q,UAAUof,cAAe,EAAGvO,EAAM6N,aAAarJ,QACrG,IAAIkT,EAAkBS,gBAAgBnY,EAAM7Q,UAAUof,cAAe,EAAGvO,EAAM6N,aAAarJ,OAAQxE,EAAM7Q,WACzG,IAAIsoB,EAAoBW,kBAAkBpY,EAAM7Q,UAAUof,cAAe,EAAGvO,EAAM6N,aAAarJ,SAEnGxE,EAAMiE,WAAa,CACfrL,gBAAiB,KACjBC,iBAAkB,KAClBH,gBAAiB,KACjBC,iBAAkB,KAClBG,eAAgB,KAChBC,cAAe,KACfC,kBAAmB,KACnBE,mBAAoB,KACpBC,YAAa,KACbC,aAAc,KACd+U,gBAAiB,KACjBjK,iBAAkB,MAEtBlE,EAAMqY,kBAAoB5e,OAAOC,iBACjCsG,EAAMoO,oBACNpO,EAAM7I,mBACN6I,EAAMqO,iBAAmB,IAAI3O,EAAkBqB,gBAAgBf,EAAM7Q,UAAW6Q,EAAMgB,YAAYC,KAAKjB,IACvGA,EAAMsY,kBAAoB,IAAIX,EAAmBY,iBACjDvY,EAAMsY,kBAAkBE,aAAY,WAAc,OAAOxY,EAAM2P,eAAelW,OAAOC,qBACrFsG,EAAMuB,SAASvB,EAAMsY,mBACjB,yBAA0B7e,OAAQ,CAClC,IAAIgf,EAAa,IAAIC,sBAAqB,SAAUjY,GAAK,OAAOT,EAAM2Y,qBAAqBlY,EAAE,MAAQ,CAAEmY,UAAW,IAClHH,EAAWI,QAAQ7Y,EAAM7Q,UAAUkS,SACnCrB,EAAMuB,SAAS,CAAE3K,QAAS,WAAc,OAAO6hB,EAAWK,gBAE9D,OAAO9Y,EA0HX,OAtKAnB,EAAUgZ,EAAU9X,GA8CpB8X,EAAStoB,UAAUqH,QAAU,WACzBmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAK6oB,cAAc9I,SAAQ,SAAU/I,GAAK,OAAOA,EAAExP,cAEvDihB,EAAStoB,UAAUopB,qBAAuB,SAAUI,GAChD3pB,KAAK0oB,UAAwC,IAA5BiB,EAAMC,mBAClB5pB,KAAK0oB,WAAa1oB,KAAK2oB,mBACxB3oB,KAAKD,UAAU0U,QAAQ,EAAGzU,KAAKD,UAAUmJ,KAAO,IAGxDuf,EAAStoB,UAAUogB,eAAiB,SAAUjW,GACtCtK,KAAKipB,oBAAsB3e,IAC3BtK,KAAKipB,kBAAoB3e,EACzBtK,KAAKwgB,SAASxgB,KAAKD,UAAU8B,KAAM7B,KAAKD,UAAUmJ,QAG1Duf,EAAStoB,UAAUwe,SAAW,SAAUL,GACpC,IAAI1N,EAAQ5Q,KAYZ,OAXAA,KAAKye,aAAaE,SAASL,GAC3Bte,KAAK6oB,cAAc9I,SAAQ,SAAU/I,GACjCA,EAAErO,eAAeiI,EAAM7Q,UAAW6Q,EAAM6N,aAAarJ,QACrD4B,EAAEzB,MAAM3E,EAAM7Q,cAEdC,KAAK0oB,UACL1oB,KAAK2oB,mBAAoB,EAGzB3oB,KAAKD,UAAU0U,QAAQ,EAAGzU,KAAKD,UAAUmJ,KAAO,GAE7ClJ,KAAKye,aAAarJ,QAE7BqT,EAAStoB,UAAUqgB,SAAW,SAAU3e,EAAMqH,GAC1C,IAAI0H,EAAQ5Q,KACZA,KAAKgf,oBACLhf,KAAK6oB,cAAc9I,SAAQ,SAAU/I,GAAK,OAAOA,EAAE3N,OAAOuH,EAAM7Q,UAAW6Q,EAAMiE,eAC7E7U,KAAK0oB,UACL1oB,KAAK2oB,mBAAoB,EAGzB3oB,KAAKD,UAAU0U,QAAQ,EAAGzU,KAAKD,UAAUmJ,KAAO,GAEpDlJ,KAAKD,UAAUof,cAAc3Z,MAAMvD,MAAQjC,KAAK6U,WAAW9K,YAAc,KACzE/J,KAAKD,UAAUof,cAAc3Z,MAAMqE,OAAS7J,KAAK6U,WAAW7K,aAAe,KAC3EhK,KAAKshB,KAAK,SAAU,CAChBrf,MAAOjC,KAAK6U,WAAW9K,YACvBF,OAAQ7J,KAAK6U,WAAW7K,gBAGhCye,EAAStoB,UAAUsgB,kBAAoB,WACnCzgB,KAAKwgB,SAASxgB,KAAKD,UAAU8B,KAAM7B,KAAKD,UAAUmJ,OAEtDuf,EAAStoB,UAAU8H,OAAS,WACxB,IAAI2I,EAAQ5Q,KACZA,KAAK6pB,eAAc,SAAU7S,GAAK,OAAOA,EAAE/O,OAAO2I,EAAM7Q,eAE5D0oB,EAAStoB,UAAU+H,QAAU,WACzB,IAAI0I,EAAQ5Q,KACZA,KAAK6pB,eAAc,SAAU7S,GAAK,OAAOA,EAAE9O,QAAQ0I,EAAM7Q,eAE7D0oB,EAAStoB,UAAUoI,mBAAqB,SAAUC,EAAOC,EAAKC,GAC1D,IAAIkI,EAAQ5Q,UACa,IAArB0I,IAA+BA,GAAmB,GACtD1I,KAAK6pB,eAAc,SAAU7S,GAAK,OAAOA,EAAEzO,mBAAmBqI,EAAM7Q,UAAWyI,EAAOC,EAAKC,OAE/F+f,EAAStoB,UAAUgI,aAAe,WAC9B,IAAIyI,EAAQ5Q,KACZA,KAAK6pB,eAAc,SAAU7S,GAAK,OAAOA,EAAE7O,aAAayI,EAAM7Q,eAElE0oB,EAAStoB,UAAU4H,iBAAmB,WAClC,IAAI6I,EAAQ5Q,KACZA,KAAKye,aAAaD,kBAAoBxe,KAAKD,UAAUyL,QAAQgT,kBAC7Dxe,KAAK6pB,eAAc,SAAU7S,GAAK,OAAOA,EAAEjP,iBAAiB6I,EAAM7Q,eAEtE0oB,EAAStoB,UAAU+gB,MAAQ,WACvB,IAAItQ,EAAQ5Q,KACZA,KAAK6pB,eAAc,SAAU7S,GAAK,OAAOA,EAAEzB,MAAM3E,EAAM7Q,eAE3D0oB,EAAStoB,UAAU0pB,cAAgB,SAAUC,GACrC9pB,KAAK0oB,UACL1oB,KAAK2oB,mBAAoB,EAGzB3oB,KAAK6oB,cAAc9I,SAAQ,SAAU/I,GAAK,OAAO8S,EAAU9S,OAGnEyR,EAAStoB,UAAUghB,YAAc,SAAU3Y,EAAOC,GAC1CzI,KAAK0oB,UACL1oB,KAAK2oB,mBAAoB,EAG7B3oB,KAAKif,iBAAiBxK,QAAQjM,EAAOC,IAEzCggB,EAAStoB,UAAUyR,YAAc,SAAUpJ,EAAOC,GAC9C,IAAImI,EAAQ5Q,KACZA,KAAK6oB,cAAc9I,SAAQ,SAAU/I,GAAK,OAAOA,EAAE5O,cAAcwI,EAAM7Q,UAAWyI,EAAOC,MACzFzI,KAAKD,UAAUuhB,KAAK,UAAW,CAAE9Y,MAAOA,EAAOC,IAAKA,KAExDggB,EAAStoB,UAAU6e,kBAAoB,WAC9Bhf,KAAKD,UAAU4f,YAAY1d,OAAUjC,KAAKD,UAAU4f,YAAY9V,SAGrE7J,KAAK6U,WAAWrL,gBAAkBjG,KAAK6Y,MAAMpc,KAAKD,UAAU4f,YAAY1d,MAAQoI,OAAOC,kBACvFtK,KAAK6U,WAAWpL,iBAAmBlG,KAAKqc,KAAK5f,KAAKD,UAAU4f,YAAY9V,OAASQ,OAAOC,kBACxFtK,KAAK6U,WAAWtL,iBAAmBhG,KAAK6Y,MAAMpc,KAAK6U,WAAWpL,iBAAmBzJ,KAAKD,UAAUyL,QAAQoT,YACxG5e,KAAK6U,WAAWlL,cAAsD,IAAtC3J,KAAKD,UAAUyL,QAAQoT,WAAmB,EAAIrb,KAAKsc,OAAO7f,KAAK6U,WAAWtL,iBAAmBvJ,KAAK6U,WAAWpL,kBAAoB,GACjKzJ,KAAK6U,WAAWvL,gBAAkBtJ,KAAK6U,WAAWrL,gBAAkBjG,KAAKsc,MAAM7f,KAAKD,UAAUyL,QAAQsU,eACtG9f,KAAK6U,WAAWnL,eAAiBnG,KAAK6Y,MAAMpc,KAAKD,UAAUyL,QAAQsU,cAAgB,GACnF9f,KAAK6U,WAAW/K,mBAAqB9J,KAAKD,UAAUmJ,KAAOlJ,KAAK6U,WAAWtL,iBAC3EvJ,KAAK6U,WAAWjL,kBAAoB5J,KAAKD,UAAU8B,KAAO7B,KAAK6U,WAAWvL,gBAC1EtJ,KAAK6U,WAAW7K,aAAezG,KAAKsc,MAAM7f,KAAK6U,WAAW/K,mBAAqBO,OAAOC,kBACtFtK,KAAK6U,WAAW9K,YAAcxG,KAAKsc,MAAM7f,KAAK6U,WAAWjL,kBAAoBS,OAAOC,kBACpFtK,KAAK6U,WAAWC,iBAAmB9U,KAAK6U,WAAW7K,aAAehK,KAAKD,UAAUmJ,KACjFlJ,KAAK6U,WAAWkK,gBAAkB/e,KAAK6U,WAAW9K,YAAc/J,KAAKD,UAAU8B,OAEnF4mB,EAAStoB,UAAUC,wBAA0B,SAAUC,GACnD,OAAOL,KAAK4oB,yBAAyBxoB,wBAAwBC,IAEjEooB,EAAStoB,UAAUM,0BAA4B,SAAUC,GACrD,OAAOV,KAAK4oB,yBAAyBnoB,0BAA0BC,IAE5D+nB,EAvKI,CAwKb9K,EAAeoE,cACjBpiB,EAAQ8oB,SAAWA,G,kCChMnBhpB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAImqB,EAAoB,EAAQ,QAC5BC,EAAuB,CACvBC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,KACVC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,KAAM,KACZC,IAAK,CAAC,IAAK,KACXC,IAAK,CAAC,IAAM,MAEhB,SAASC,EAAsBC,EAAIC,EAAuBlX,EAAOmX,GAC7D,IAAI9Q,EAAS,CACT2J,KAAM,EACNoH,QAAQ,EACR1nB,SAAKoZ,GAELuO,GAAaJ,EAAGK,SAAW,EAAI,IAAML,EAAGM,OAAS,EAAI,IAAMN,EAAGO,QAAU,EAAI,IAAMP,EAAGQ,QAAU,EAAI,GACvG,OAAQR,EAAGS,SACP,KAAK,EACc,sBAAXT,EAAGvnB,IAEC2W,EAAO3W,IADPwnB,EACazB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAG5B,wBAAXX,EAAGvnB,IAEJ2W,EAAO3W,IADPwnB,EACazB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAG5B,yBAAXX,EAAGvnB,IAEJ2W,EAAO3W,IADPwnB,EACazB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAG5B,wBAAXX,EAAGvnB,MAEJ2W,EAAO3W,IADPwnB,EACazB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,MAGhD,MACJ,KAAK,EACD,GAAIX,EAAGK,SAAU,CACbjR,EAAO3W,IAAM+lB,EAAkBkC,GAAGE,GAClC,MAEC,GAAIZ,EAAGM,OAAQ,CAChBlR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAMnC,EAAkBkC,GAAGG,IAC7D,MAEJzR,EAAO3W,IAAM+lB,EAAkBkC,GAAGG,IAClC,MACJ,KAAK,EACD,GAAIb,EAAGK,SAAU,CACbjR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,KACxC,MAEJvR,EAAO3W,IAAM+lB,EAAkBkC,GAAGI,GAClC1R,EAAO+Q,QAAS,EAChB,MACJ,KAAK,GACD/Q,EAAO3W,IAAM+lB,EAAkBkC,GAAGK,GAClC3R,EAAO+Q,QAAS,EAChB,MACJ,KAAK,GACD/Q,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAClCvR,EAAO+Q,QAAS,EAChB,MACJ,KAAK,GACGC,GACAhR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAC9DhR,EAAO3W,MAAQ+lB,EAAkBkC,GAAGC,IAAM,UAC1CvR,EAAO3W,IAAMsQ,EAAQyV,EAAkBkC,GAAGC,IAAM,IAAMnC,EAAkBkC,GAAGC,IAAM,UAIrFvR,EAAO3W,IADFwnB,EACQzB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,GACGP,GACAhR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAC9DhR,EAAO3W,MAAQ+lB,EAAkBkC,GAAGC,IAAM,UAC1CvR,EAAO3W,IAAMsQ,EAAQyV,EAAkBkC,GAAGC,IAAM,IAAMnC,EAAkBkC,GAAGC,IAAM,UAIrFvR,EAAO3W,IADFwnB,EACQzB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,GACGP,GACAhR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAC9DhR,EAAO3W,MAAQ+lB,EAAkBkC,GAAGC,IAAM,UAC1CvR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,UAI5CvR,EAAO3W,IADFwnB,EACQzB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,GACGP,GACAhR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAC9DhR,EAAO3W,MAAQ+lB,EAAkBkC,GAAGC,IAAM,UAC1CvR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,UAI5CvR,EAAO3W,IADFwnB,EACQzB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,GACIX,EAAGK,UAAaL,EAAGO,UACpBnR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,GAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAGrD5B,EAAkBkC,GAAGC,IAAM,MAE5C,MACJ,KAAK,GAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAE7DH,EACQzB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,GAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAE7DH,EACQzB,EAAkBkC,GAAGC,IAAM,KAG3BnC,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,GACGX,EAAGK,SACHjR,EAAO2J,KAAO,EAGd3J,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,MAE5C,MACJ,KAAK,GACGX,EAAGK,SACHjR,EAAO2J,KAAO,EAGd3J,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM,MAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAGrD5B,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAGrD5B,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAGrD5B,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,OAASP,EAAY,GAAK,IAGrD5B,EAAkBkC,GAAGC,IAAM,KAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,KAAK,IAEGvR,EAAO3W,IADP2nB,EACa5B,EAAkBkC,GAAGC,IAAM,QAAUP,EAAY,GAAK,IAGtD5B,EAAkBkC,GAAGC,IAAM,OAE5C,MACJ,QACI,IAAIX,EAAGO,SAAYP,EAAGK,UAAaL,EAAGM,QAAWN,EAAGQ,QAuB/C,GAAMzX,IAASmX,IAAoBF,EAAGM,QAAWN,EAAGQ,QAWhDzX,IAAUiX,EAAGM,SAAWN,EAAGO,SAAWP,EAAGQ,SAC3B,KAAfR,EAAGS,UACHrR,EAAO2J,KAAO,OAb4C,CAC9D,IAAIiI,EAAavC,EAAqBuB,EAAGS,SACrChoB,EAAMuoB,GAAcA,EAAYhB,EAAGK,SAAe,EAAJ,GAClD,GAAI5nB,EACA2W,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAMloB,OAEvC,GAAIunB,EAAGS,SAAW,IAAMT,EAAGS,SAAW,GAAI,CAC3C,IAAIA,EAAUT,EAAGO,QAAUP,EAAGS,QAAU,GAAKT,EAAGS,QAAU,GAC1DrR,EAAO3W,IAAM+lB,EAAkBkC,GAAGC,IAAM9c,OAAOC,aAAa2c,SA9B5DT,EAAGS,SAAW,IAAMT,EAAGS,SAAW,GAClCrR,EAAO3W,IAAMoL,OAAOC,aAAakc,EAAGS,QAAU,IAE1B,KAAfT,EAAGS,QACRrR,EAAO3W,IAAMoL,OAAOC,aAAa,GAE5Bkc,EAAGS,SAAW,IAAMT,EAAGS,SAAW,GACvCrR,EAAO3W,IAAMoL,OAAOC,aAAakc,EAAGS,QAAU,GAAK,IAE/B,KAAfT,EAAGS,QACRrR,EAAO3W,IAAMoL,OAAOC,aAAa,KAEb,MAAfkc,EAAGS,QACRrR,EAAO3W,IAAMoL,OAAOC,aAAa,IAEb,MAAfkc,EAAGS,QACRrR,EAAO3W,IAAMoL,OAAOC,aAAa,IAEb,MAAfkc,EAAGS,UACRrR,EAAO3W,IAAMoL,OAAOC,aAAa,KAmBzC,MAER,OAAOsL,EAEXhb,EAAQ2rB,sBAAwBA,G,oCCrVhC7rB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIwG,EAAmB,EAAQ,QAC3BomB,EAAqB,EAAQ,QAC7BC,EAAkB,EAAQ,QAC1BC,EAAoB,EAAQ,QAC5BC,EAA2B,CAC3B,KAAQF,EAAgBG,QACxB,OAAUF,EAAkBE,QAC5B,QAAWJ,EAAmBI,SAE9BC,EAAiB,GACrB,SAAS1jB,EAAiBnB,EAAUoN,EAAQ5L,EAAiBC,GAEzD,IADA,IAAIqjB,EAAY1mB,EAAiB2mB,eAAevjB,EAAiBC,EAAkBzB,EAAUoN,GACpFzU,EAAI,EAAGA,EAAIksB,EAAejsB,OAAQD,IAAK,CAC5C,IAAIgpB,EAAQkD,EAAelsB,GACvBqsB,EAAerD,EAAMsD,QAAQ1R,QAAQvT,GACzC,GAAIglB,GAAgB,EAAG,CACnB,GAAI5mB,EAAiB8mB,aAAavD,EAAMwD,OAAQL,GAC5C,OAAOnD,EAAMyD,MAEY,IAAzBzD,EAAMsD,QAAQrsB,OACdisB,EAAehsB,OAAOF,EAAG,GAGzBgpB,EAAMsD,QAAQpsB,OAAOmsB,EAAc,GAEvC,OAGR,IAASrsB,EAAI,EAAGA,EAAIksB,EAAejsB,OAAQD,IAAK,CACxCgpB,EAAQkD,EAAelsB,GAC3B,GAAIyF,EAAiB8mB,aAAavD,EAAMwD,OAAQL,GAE5C,OADAnD,EAAMsD,QAAQzsB,KAAKwH,GACZ2hB,EAAMyD,MAGrB,IAAIC,EAAW,CACXD,MAAO,IAAIT,EAAyB3kB,EAASwD,QAAQ8hB,uBAAuBjmB,SAAUylB,GACtFK,OAAQL,EACRG,QAAS,CAACjlB,IAGd,OADA6kB,EAAersB,KAAK6sB,GACbA,EAASD,MAGpB,SAASG,EAAwBvlB,GAC7B,IAAK,IAAIrH,EAAI,EAAGA,EAAIksB,EAAejsB,OAAQD,IAAK,CAC5C,IAAIuN,EAAQ2e,EAAelsB,GAAGssB,QAAQ1R,QAAQvT,GAC9C,IAAe,IAAXkG,EAAc,CAC2B,IAArC2e,EAAelsB,GAAGssB,QAAQrsB,OAC1BisB,EAAehsB,OAAOF,EAAG,GAGzBksB,EAAelsB,GAAGssB,QAAQpsB,OAAOqN,EAAO,GAE5C,QAXZvO,EAAQwJ,iBAAmBA,EAe3BxJ,EAAQ4tB,wBAA0BA,G,oCC3DlC9tB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6tB,mBAAqB,ibAC7B,IAAIC,EAAgB,WAChB,SAASA,EAAa1tB,GAClBC,KAAKD,UAAYA,EA0CrB,OAxCAN,OAAOC,eAAe+tB,EAAc,eAAgB,CAChDtsB,IAAK,WACD,IAAKssB,EAAaC,cAAe,CAC7B,IAAIC,EAAmBtjB,OAAOujB,cAAgBvjB,OAAOwjB,mBACrD,IAAKF,EAED,OADAG,QAAQC,KAAK,4FACN,KAEXN,EAAaC,cAAgB,IAAIC,EAErC,OAAOF,EAAaC,eAExBxT,YAAY,EACZE,cAAc,IAElBqT,EAAattB,UAAU6tB,cAAgB,WACnC,IAAIC,EAAMR,EAAaS,aACvB,GAAKD,EAAL,CAGA,IAAIE,EAAkBF,EAAIG,qBAC1BH,EAAII,gBAAgBruB,KAAKsuB,qBAAqBtuB,KAAKuuB,gBAAgBvuB,KAAKD,UAAUyL,QAAQgjB,aAAa,SAAUvtB,GAC7GktB,EAAgBltB,OAASA,EACzBktB,EAAgBM,QAAQR,EAAIS,aAC5BP,EAAgB3lB,MAAM,QAG9BilB,EAAattB,UAAUmuB,qBAAuB,SAAUK,GAIpD,IAHA,IAAIC,EAAevkB,OAAOkP,KAAKoV,GAC3BtV,EAAMuV,EAAahuB,OACnBiuB,EAAQ,IAAIrW,WAAWa,GAClB1Y,EAAI,EAAGA,EAAI0Y,EAAK1Y,IACrBkuB,EAAMluB,GAAKiuB,EAAatf,WAAW3O,GAEvC,OAAOkuB,EAAM5tB,QAEjBwsB,EAAattB,UAAUouB,gBAAkB,SAAUO,GAC/C,IAAIC,EAAWD,EAAQE,MAAM,KAC7B,OAAOD,EAAS,IAEbtB,EA5CQ,GA8CnB9tB,EAAQ8tB,aAAeA,G,oCChDvB,IAAIhe,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqE,EAAU,EAAQ,QAClBgrB,EAAkB,EAAQ,QAC1BrR,EAAiB,EAAQ,QACzBsR,EAAuB,EAAQ,QAC/BC,EAAW,EAAQ,QACnB9e,EAAa,EAAQ,QACrB+e,EAAgB,KAChBC,EAAiB,KACjBC,EAAoB,CACpBxkB,IAAK,mBACLykB,KAAM,GAENC,EAAyB,IACzBC,EAA4B,IAChC,SAASC,EAAiBC,GACtB,OAAOA,EAAMzqB,MAAQ,GAAKyqB,EAAMjqB,IAAM,GAAKiqB,EAAMhqB,IAAM,GAAKgqB,EAAM1oB,KAAO,EAAI,IAAM0oB,EAAMzoB,IAAM,EAAI,IAAMyoB,EAAMxoB,OAAS,EAAI,GAEhIxH,EAAQ+vB,iBAAmBA,EAC3B,IAAIE,EAAoB,SAAUjf,GAE9B,SAASif,EAAiBvoB,EAAUwoB,GAChC,IAAIjf,EAAQD,EAAOE,KAAK7Q,OAASA,KACjC4Q,EAAMif,QAAUA,EAChBjf,EAAMkf,kBAAoB,EAC1Blf,EAAMmf,uBAAyB,GAC/Bnf,EAAMof,qBAAuB,KAC7Bpf,EAAMqf,QAAU,KAChBrf,EAAMsf,aAAe7oB,EAAS9B,cAAc,UAC5CqL,EAAMsf,aAAajuB,MAAQmtB,EAC3Bxe,EAAMsf,aAAarmB,OAASwlB,EAC5Bze,EAAMuf,UAAYvf,EAAMsf,aAAatoB,WAAW,KAAM,CAAEC,OAAO,IAC/D,IAAIuoB,EAAY/oB,EAAS9B,cAAc,UACvC6qB,EAAUnuB,MAAQ2O,EAAMif,QAAQrmB,gBAChC4mB,EAAUvmB,OAAS+G,EAAMif,QAAQpmB,iBACjCmH,EAAMyf,QAAUD,EAAUxoB,WAAW,KAAM,CAAEC,MAAO+I,EAAMif,QAAQrR,oBAClE5N,EAAM0f,OAAS/sB,KAAK6Y,MAAMgT,EAAgBxe,EAAMif,QAAQrmB,iBACxDoH,EAAM2f,QAAUhtB,KAAK6Y,MAAMiT,EAAiBze,EAAMif,QAAQpmB,kBAC1D,IAAI+mB,EAAW5f,EAAM0f,OAAS1f,EAAM2f,QAGpC,OAFA3f,EAAM6f,UAAY,IAAItB,EAASvC,QAAQ4D,GACvC5f,EAAM6f,UAAUC,SAASF,GAClB5f,EA8IX,OAnKAnB,EAAUmgB,EAAkBjf,GAuB5Bif,EAAiBzvB,UAAUqH,QAAU,WACC,OAA9BxH,KAAKgwB,uBACL3lB,OAAO+Y,aAAapjB,KAAKgwB,sBACzBhwB,KAAKgwB,qBAAuB,OAGpCJ,EAAiBzvB,UAAUwwB,WAAa,WACpC3wB,KAAK8vB,kBAAoB,GAE7BF,EAAiBzvB,UAAUyL,KAAO,SAAUqiB,EAAK0B,EAAO/tB,EAAGsI,GACvD,GAAmB,KAAfylB,EAAMzqB,KACN,OAAO,EAEX,IAAKlF,KAAK4wB,UAAUjB,GAChB,OAAO,EAEX,IAAIkB,EAAWnB,EAAiBC,GAC5BmB,EAAa9wB,KAAKywB,UAAUtvB,IAAI0vB,GACpC,GAAmB,OAAfC,QAAsC1T,IAAf0T,EAEvB,OADA9wB,KAAK+wB,eAAe9C,EAAK6C,EAAYlvB,EAAGsI,IACjC,EAEN,GAAIlK,KAAK8vB,kBAAoBN,EAAwB,CACtD,IAAIthB,OAAQ,EAERA,EADAlO,KAAKywB,UAAUO,KAAOhxB,KAAKywB,UAAUD,SAC7BxwB,KAAKywB,UAAUO,KAGfhxB,KAAKywB,UAAUQ,OAAO/iB,MAElC,IAAIgjB,EAAelxB,KAAKmxB,aAAaxB,EAAOzhB,GAG5C,OAFAlO,KAAKywB,UAAUtiB,IAAI0iB,EAAUK,GAC7BlxB,KAAK+wB,eAAe9C,EAAKiD,EAActvB,EAAGsI,IACnC,EAEX,OAAO,GAEX0lB,EAAiBzvB,UAAUywB,UAAY,SAAUjB,GAC7C,OAAOA,EAAMzqB,KAAO,KAExB0qB,EAAiBzvB,UAAUixB,eAAiB,SAAUljB,GAClD,OAAQA,EAAQlO,KAAKswB,OAAUtwB,KAAK6vB,QAAQrmB,iBAEhDomB,EAAiBzvB,UAAUkxB,eAAiB,SAAUnjB,GAClD,OAAO3K,KAAK6Y,MAAMlO,EAAQlO,KAAKswB,QAAUtwB,KAAK6vB,QAAQpmB,kBAE1DmmB,EAAiBzvB,UAAU4wB,eAAiB,SAAU9C,EAAK6C,EAAYlvB,EAAGsI,GACtE,IAAI4mB,EAAWQ,QAAf,CAGA,IAAIC,EAASvxB,KAAKoxB,eAAeN,EAAW5iB,OACxCsjB,EAASxxB,KAAKqxB,eAAeP,EAAW5iB,OAC5C+f,EAAIwD,UAAUX,EAAWY,SAAW1xB,KAAKiwB,QAAUjwB,KAAKkwB,aAAcqB,EAAQC,EAAQxxB,KAAK6vB,QAAQrmB,gBAAiBxJ,KAAK6vB,QAAQpmB,iBAAkB7H,EAAGsI,EAAGlK,KAAK6vB,QAAQrmB,gBAAiBxJ,KAAK6vB,QAAQpmB,oBAExMmmB,EAAiBzvB,UAAUwxB,uBAAyB,SAAUC,GAC1D,OAAIA,EAAM5xB,KAAK6vB,QAAQza,OAAOpJ,KAAKpL,OACxBZ,KAAK6vB,QAAQza,OAAOpJ,KAAK4lB,GAE7BhU,EAAeiU,oBAAoBD,IAE9ChC,EAAiBzvB,UAAU2xB,oBAAsB,SAAUnC,GACvD,OAAI3vB,KAAK6vB,QAAQrR,kBACN8Q,EAEFK,EAAMjqB,KAAOzB,EAAQ+B,uBACnBhG,KAAK6vB,QAAQza,OAAOnJ,WAEtB0jB,EAAMjqB,GAAK,IACT1F,KAAK2xB,uBAAuBhC,EAAMjqB,IAEtC1F,KAAK6vB,QAAQza,OAAOvK,YAE/B+kB,EAAiBzvB,UAAU4xB,oBAAsB,SAAUpC,GACvD,OAAIA,EAAMhqB,KAAO1B,EAAQ+B,uBACdhG,KAAK6vB,QAAQza,OAAOvK,WAEtB8kB,EAAMhqB,GAAK,IACT3F,KAAK2xB,uBAAuBhC,EAAMhqB,IAEtC3F,KAAK6vB,QAAQza,OAAOnJ,YAE/B2jB,EAAiBzvB,UAAUgxB,aAAe,SAAUxB,EAAOzhB,GACvDlO,KAAK8vB,oBACL9vB,KAAKqwB,QAAQvkB,OACb,IAAIkmB,EAAkBhyB,KAAK8xB,oBAAoBnC,GAC/C3vB,KAAKqwB,QAAQ4B,yBAA2B,OACxCjyB,KAAKqwB,QAAQzlB,UAAYonB,EAAgBlnB,IACzC9K,KAAKqwB,QAAQlmB,SAAS,EAAG,EAAGnK,KAAK6vB,QAAQrmB,gBAAiBxJ,KAAK6vB,QAAQpmB,kBACvEzJ,KAAKqwB,QAAQ4B,yBAA2B,cACxC,IAAIvlB,EAAaijB,EAAM1oB,KAAOjH,KAAK6vB,QAAQljB,eAAiB3M,KAAK6vB,QAAQnjB,WACrEE,EAAY+iB,EAAMxoB,OAAS,SAAW,GAC1CnH,KAAKqwB,QAAQplB,KACT2B,EAAY,IAAMF,EAAa,IAAM1M,KAAK6vB,QAAQhjB,SAAW7M,KAAK6vB,QAAQvlB,iBAAmB,MAAQtK,KAAK6vB,QAAQ/iB,WACtH9M,KAAKqwB,QAAQllB,aAAe,MAC5BnL,KAAKqwB,QAAQzlB,UAAY5K,KAAK+xB,oBAAoBpC,GAAO7kB,IACrD6kB,EAAMzoB,MACNlH,KAAKqwB,QAAQnkB,YAAcjI,EAAQkI,aAEvCnM,KAAKqwB,QAAQhlB,SAASskB,EAAM5tB,MAAO,EAAG,GACtC/B,KAAKqwB,QAAQjkB,UACb,IAAI8lB,EAAYlyB,KAAKqwB,QAAQ8B,aAAa,EAAG,EAAGnyB,KAAK6vB,QAAQrmB,gBAAiBxJ,KAAK6vB,QAAQpmB,kBACvF6nB,GAAU,EACTtxB,KAAK6vB,QAAQrR,oBACd8S,EAAUpC,EAAqBkD,WAAWF,EAAWF,IAEzD,IAAIpwB,EAAI5B,KAAKoxB,eAAeljB,GACxBhE,EAAIlK,KAAKqxB,eAAenjB,GAC5BlO,KAAKmwB,UAAUkC,aAAaH,EAAWtwB,EAAGsI,GAC1C,IAAI4mB,EAAa,CACb5iB,MAAOA,EACPojB,QAASA,EACTI,UAAU,GAGd,OADA1xB,KAAKsyB,kBAAkBxB,GAChBA,GAEXlB,EAAiBzvB,UAAUmyB,kBAAoB,SAAUxB,GACrD,IAAIlgB,EAAQ5Q,OACN,sBAAuBqK,SAAWgG,EAAWkiB,WAAaliB,EAAWmiB,WAG3ExyB,KAAK+vB,uBAAuBvvB,KAAKswB,GACC,OAA9B9wB,KAAKgwB,uBAGThwB,KAAKgwB,qBAAuB3lB,OAAOmK,YAAW,WAAc,OAAO5D,EAAM6hB,oBAAsBhD,MAEnGG,EAAiBzvB,UAAUsyB,gBAAkB,WACzC,IAAI7hB,EAAQ5Q,KACR0yB,EAAuB1yB,KAAK+vB,uBAChC/vB,KAAK+vB,uBAAyB,GAC9B1lB,OAAOsoB,kBAAkB3yB,KAAKkwB,cAAc0C,MAAK,SAAUC,GACvDjiB,EAAMqf,QAAU4C,EAChB,IAAK,IAAIlyB,EAAI,EAAGA,EAAI+xB,EAAqB9xB,OAAQD,IAAK,CAClD,IAAIf,EAAQ8yB,EAAqB/xB,GACjCf,EAAM8xB,UAAW,MAGzB1xB,KAAKgwB,qBAAuB,MAEzBJ,EApKY,CAqKrBX,EAAgBrC,SAClBjtB,EAAQitB,QAAUgD,G,oCCtMlBnwB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIkzB,EAAa,EAAQ,QACrB1iB,EAAU,EAAQ,QAClB2iB,EAAY,WACZ,SAASA,EAASvnB,GACdxL,KAAK4a,MAAQ,IAAIkY,EAAWC,SAASvnB,GAwIzC,OAtIA/L,OAAOC,eAAeqzB,EAAS5yB,UAAW,UAAW,CACjDgB,IAAK,WAAc,OAAOnB,KAAK4a,MAAM3I,SACrCiI,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAeqzB,EAAS5yB,UAAW,WAAY,CAClDgB,IAAK,WAAc,OAAOnB,KAAK4a,MAAMoY,UACrC9Y,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAeqzB,EAAS5yB,UAAW,OAAQ,CAC9CgB,IAAK,WAAc,OAAOnB,KAAK4a,MAAM1R,MACrCgR,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAeqzB,EAAS5yB,UAAW,OAAQ,CAC9CgB,IAAK,WAAc,OAAOnB,KAAK4a,MAAM/Y,MACrCqY,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAeqzB,EAAS5yB,UAAW,UAAW,CACjDgB,IAAK,WAAc,OAAOnB,KAAK4a,MAAMwJ,SACrClK,YAAY,EACZE,cAAc,IAElB2Y,EAAS5yB,UAAU8yB,KAAO,WACtBjzB,KAAK4a,MAAMqY,QAEfF,EAAS5yB,UAAU0T,MAAQ,WACvB7T,KAAK4a,MAAM/G,SAEfkf,EAAS5yB,UAAUkf,GAAK,SAAUiF,EAAM4O,GACpClzB,KAAK4a,MAAMyE,GAAGiF,EAAM4O,IAExBH,EAAS5yB,UAAUgzB,IAAM,SAAU7O,EAAM4O,GACrClzB,KAAK4a,MAAMuY,IAAI7O,EAAM4O,IAEzBH,EAAS5yB,UAAUmhB,KAAO,SAAUgD,EAAM/W,GACtCvN,KAAK4a,MAAM0G,KAAKgD,EAAM/W,IAE1BwlB,EAAS5yB,UAAUiS,sBAAwB,SAAUkS,EAAMjkB,GACvD,OAAOL,KAAK4a,MAAMxI,sBAAsBkS,EAAMjkB,IAElD0yB,EAAS5yB,UAAUkJ,OAAS,SAAU+pB,EAASlqB,GAC3ClJ,KAAK4a,MAAMvR,OAAO+pB,EAASlqB,IAE/B6pB,EAAS5yB,UAAUkzB,QAAU,SAAU9lB,GACnCvN,KAAK4a,MAAMyY,QAAQ9lB,IAEvBwlB,EAAS5yB,UAAUmzB,KAAO,SAAUC,GAChCvzB,KAAK4a,MAAM0Y,KAAKC,IAEpBR,EAAS5yB,UAAUqzB,4BAA8B,SAAUC,GACvDzzB,KAAK4a,MAAM4Y,4BAA4BC,IAE3CV,EAAS5yB,UAAUuzB,oBAAsB,SAAU5X,EAAOzb,EAASmL,GAC/D,OAAOxL,KAAK4a,MAAM8Y,oBAAoB5X,EAAOzb,EAASmL,IAE1DunB,EAAS5yB,UAAUwzB,sBAAwB,SAAUC,GACjD5zB,KAAK4a,MAAM+Y,sBAAsBC,IAErCb,EAAS5yB,UAAUC,wBAA0B,SAAUC,GACnD,OAAOL,KAAK4a,MAAMxa,wBAAwBC,IAE9C0yB,EAAS5yB,UAAUM,0BAA4B,SAAUC,GACrDV,KAAK4a,MAAMna,0BAA0BC,IAEzCqyB,EAAS5yB,UAAUwmB,UAAY,SAAUkN,GACrC,OAAO7zB,KAAK4a,MAAM+L,UAAUkN,IAEhCd,EAAS5yB,UAAU2zB,aAAe,WAC9B,OAAO9zB,KAAK4a,MAAMkZ,gBAEtBf,EAAS5yB,UAAU4a,aAAe,WAC9B,OAAO/a,KAAK4a,MAAMG,gBAEtBgY,EAAS5yB,UAAU2c,eAAiB,WAChC9c,KAAK4a,MAAMkC,kBAEfiW,EAAS5yB,UAAU4zB,UAAY,WAC3B/zB,KAAK4a,MAAMmZ,aAEfhB,EAAS5yB,UAAU6zB,YAAc,SAAUxrB,EAAOC,GAC9CzI,KAAK4a,MAAMoZ,YAAYxrB,EAAOC,IAElCsqB,EAAS5yB,UAAUqH,QAAU,WACzBxH,KAAK4a,MAAMpT,WAEfurB,EAAS5yB,UAAU8zB,QAAU,WACzBj0B,KAAK4a,MAAMqZ,WAEflB,EAAS5yB,UAAUyT,YAAc,SAAUkT,GACvC9mB,KAAK4a,MAAMhH,YAAYkT,IAE3BiM,EAAS5yB,UAAU+zB,YAAc,SAAUC,GACvCn0B,KAAK4a,MAAMsZ,YAAYC,IAE3BpB,EAAS5yB,UAAUi0B,YAAc,WAC7Bp0B,KAAK4a,MAAMwZ,eAEfrB,EAAS5yB,UAAUk0B,eAAiB,WAChCr0B,KAAK4a,MAAMyZ,kBAEftB,EAAS5yB,UAAUm0B,aAAe,SAAUtzB,GACxChB,KAAK4a,MAAM0Z,aAAatzB,IAE5B+xB,EAAS5yB,UAAU+gB,MAAQ,WACvBlhB,KAAK4a,MAAMsG,SAEf6R,EAAS5yB,UAAUo0B,MAAQ,SAAUhnB,GACjCvN,KAAK4a,MAAM2Z,MAAMhnB,IAErBwlB,EAAS5yB,UAAUigB,UAAY,SAAUpc,GACrC,OAAOhE,KAAK4a,MAAMwF,UAAUpc,IAEhC+uB,EAAS5yB,UAAUq0B,UAAY,SAAUxwB,EAAKpE,GAC1CI,KAAK4a,MAAM4Z,UAAUxwB,EAAKpE,IAE9BmzB,EAAS5yB,UAAUsU,QAAU,SAAUjM,EAAOC,GAC1CzI,KAAK4a,MAAMnG,QAAQjM,EAAOC,IAE9BsqB,EAAS5yB,UAAUoV,MAAQ,WACvBvV,KAAK4a,MAAMrF,SAEfwd,EAAS0B,WAAa,SAAUC,GAC5BA,EAAM1mB,MAAM+kB,IAEhBtzB,OAAOC,eAAeqzB,EAAU,UAAW,CACvC5xB,IAAK,WACD,OAAOiP,GAEX8J,YAAY,EACZE,cAAc,IAEX2Y,EA1II,GA4IfpzB,EAAQozB,SAAWA,G,oCC/InB,IAAItjB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI+d,EAAiB,EAAQ,QACzBgX,EAAe,SAAUhkB,GAEzB,SAASgkB,EAAYttB,EAAUutB,GAC3B,IAAIhkB,EAAQD,EAAOE,KAAK7Q,OAASA,KAQjC,OAPA4Q,EAAMnM,UAAY4C,EAClBuJ,EAAMikB,eAAiBD,EACvBhkB,EAAMkkB,gBAAkBlkB,EAAMnM,UAAUc,cAAc,QACtDqL,EAAMkkB,gBAAgBlvB,UAAUC,IAAI,8BACpC+K,EAAMkkB,gBAAgB7uB,YAAc,IACpC2K,EAAMkkB,gBAAgB9iB,aAAa,cAAe,QAClDpB,EAAMikB,eAAe3uB,YAAY0K,EAAMkkB,iBAChClkB,EA6BX,OAvCAnB,EAAUklB,EAAahkB,GAYvBlR,OAAOC,eAAei1B,EAAYx0B,UAAW,QAAS,CAClDgB,IAAK,WACD,OAAOnB,KAAKswB,QAEhBpW,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAei1B,EAAYx0B,UAAW,SAAU,CACnDgB,IAAK,WACD,OAAOnB,KAAKuwB,SAEhBrW,YAAY,EACZE,cAAc,IAElBua,EAAYx0B,UAAU40B,QAAU,SAAUvpB,GACtCxL,KAAK80B,gBAAgBtvB,MAAMsH,WAAatB,EAAQsB,WAChD9M,KAAK80B,gBAAgBtvB,MAAMqH,SAAWrB,EAAQqB,SAAW,KACzD,IAAImoB,EAAWh1B,KAAK80B,gBAAgBG,wBACb,IAAnBD,EAAS/yB,OAAmC,IAApB+yB,EAASnrB,SAGjC7J,KAAKswB,SAAW0E,EAAS/yB,OAASjC,KAAKuwB,UAAYyE,EAASnrB,SAC5D7J,KAAKswB,OAAS0E,EAAS/yB,MACvBjC,KAAKuwB,QAAUhtB,KAAKqc,KAAKoV,EAASnrB,QAClC7J,KAAKshB,KAAK,sBAGXqT,EAxCO,CAyChBhX,EAAeoE,cACjBpiB,EAAQg1B,YAAcA,G,oCCxDtB,SAASO,EAAuBxyB,GAC5B,OAAOA,EAAK8U,QAAQ,SAAU,MAGlC,SAAS2d,EAAoBzyB,EAAM0yB,GAC/B,OAAIA,EACO,SAAc1yB,EAAO,SAEzBA,EAGX,SAAS2yB,EAAY9J,EAAI9Q,EAAMI,GACvBJ,EAAK6a,QAAQC,OACblrB,OAAOmrB,cAAcC,QAAQ,OAAQ5a,EAAiB6a,eAGtDnK,EAAGiK,cAAcC,QAAQ,aAAc5a,EAAiB6a,eAE5DnK,EAAGzX,iBAGP,SAAS6hB,EAAapK,EAAI9Q,GAEtB,IAAI/X,EADJ6oB,EAAGqK,kBAEH,IAAIC,EAAgB,SAAUnzB,GAC1BA,EAAOwyB,EAAuBxyB,GAC9BA,EAAOyyB,EAAoBzyB,EAAM+X,EAAK2a,oBACtC3a,EAAKpa,QAAQqC,GACb+X,EAAKuY,SAASpzB,MAAQ,GACtB6a,EAAK6G,KAAK,QAAS5e,GACnB+X,EAAKiR,OAAOH,IAEZ9Q,EAAK6a,QAAQC,OACTlrB,OAAOmrB,gBACP9yB,EAAO2H,OAAOmrB,cAAcM,QAAQ,QACpCD,EAAcnzB,IAId6oB,EAAGiK,gBACH9yB,EAAO6oB,EAAGiK,cAAcM,QAAQ,cAChCD,EAAcnzB,IAK1B,SAASqzB,EAA6BxK,EAAIyH,GACtCA,EAASxtB,MAAMsN,SAAW,QAC1BkgB,EAASxtB,MAAMvD,MAAQ,OACvB+wB,EAASxtB,MAAMqE,OAAS,OACxBmpB,EAASxtB,MAAMyb,KAAQsK,EAAGyK,QAAU,GAAM,KAC1ChD,EAASxtB,MAAMwb,IAAOuK,EAAG0K,QAAU,GAAM,KACzCjD,EAASxtB,MAAMe,OAAS,OACxBysB,EAASnf,QACTW,YAAW,WACPwe,EAASxtB,MAAMsN,SAAW,KAC1BkgB,EAASxtB,MAAMvD,MAAQ,KACvB+wB,EAASxtB,MAAMqE,OAAS,KACxBmpB,EAASxtB,MAAMyb,KAAO,KACtB+R,EAASxtB,MAAMwb,IAAM,KACrBgS,EAASxtB,MAAMe,OAAS,OACzB,KAGP,SAAS2vB,EAAkB3K,EAAIyH,EAAUnY,EAAkBsb,GACvDJ,EAA6BxK,EAAIyH,GAC7BmD,IAAqBtb,EAAiBub,mBAAmB7K,IACzD1Q,EAAiBwb,mBAAmB9K,GAExCyH,EAASpzB,MAAQib,EAAiB6a,cAClC1C,EAASsD,SAvEb72B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAItDD,EAAQu1B,uBAAyBA,EAOjCv1B,EAAQw1B,oBAAsBA,EAU9Bx1B,EAAQ01B,YAAcA,EAyBtB11B,EAAQg2B,aAAeA,EAkBvBh2B,EAAQo2B,6BAA+BA,EASvCp2B,EAAQu2B,kBAAoBA,G,oCCzE5Bz2B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI22B,EAAiB,EAAQ,QAC7B,SAAS/b,EAASxS,EAAUyS,EAAMC,QACR,IAAlBA,IAA4BA,EAAgB,IAChD,IAAI8b,EAAgBxuB,EAIpB,OAHKwuB,EAAcC,iBACfD,EAAcC,eAAiB,IAAIF,EAAehc,aAAaic,IAE5DA,EAAcC,eAAejc,SAASC,EAAMC,GAGvD,SAASS,EAAanT,EAAUyS,EAAMC,GAClC,IAAI8b,EAAgBxuB,EAIpB,OAHKwuB,EAAcC,iBACfD,EAAcC,eAAiB,IAAIF,EAAehc,aAAaic,IAE5DA,EAAcC,eAAetb,aAAaV,EAAMC,GAG3D,SAAS1M,EAAM0oB,GACXA,EAAoBv2B,UAAUqa,SAAW,SAAUC,EAAMC,GACrD,OAAOF,EAASxa,KAAMya,EAAMC,IAEhCgc,EAAoBv2B,UAAUgb,aAAe,SAAUV,EAAMC,GACzD,OAAOS,EAAanb,KAAMya,EAAMC,IAdxC/a,EAAQ6a,SAAWA,EAQnB7a,EAAQwb,aAAeA,EASvBxb,EAAQqO,MAAQA,G,oCC3BhBvO,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI+2B,EAA+B,qBAAdC,UACjBC,EAAY,EAAW,OAASD,UAAUC,UAC1CC,EAAW,EAAW,OAASF,UAAUE,SAS7C,SAASC,EAASC,EAAKxnB,GACnB,OAAOwnB,EAAIzb,QAAQ/L,IAAO,EAT9B7P,EAAQ4yB,aAAesE,EAAUtb,QAAQ,WACzC5b,EAAQ6yB,SAAW,iCAAiCyE,KAAKJ,GACzDl3B,EAAQ41B,UAAYsB,EAAUtb,QAAQ,YAAcsb,EAAUtb,QAAQ,WACtE5b,EAAQ2U,MAAQyiB,EAAS,CAAC,YAAa,WAAY,SAAU,UAAWD,GACxEn3B,EAAQu3B,OAAsB,SAAbJ,EACjBn3B,EAAQw3B,SAAwB,WAAbL,EACnBn3B,EAAQy3B,YAAcL,EAAS,CAAC,UAAW,QAAS,QAAS,SAAUD,GACvEn3B,EAAQ03B,QAAUP,EAASvb,QAAQ,UAAY,G,kCCV/C,SAAS5M,EAAK2oB,EAAO13B,EAAO4I,EAAOC,GAC/B,OAAI6uB,EAAM3oB,KACC2oB,EAAM3oB,KAAK/O,EAAO4I,EAAOC,GAE7B8uB,EAAaD,EAAO13B,EAAO4I,EAAOC,GAG7C,SAAS8uB,EAAaD,EAAO13B,EAAO4I,EAAOC,GAGvC,QAFc,IAAVD,IAAoBA,EAAQ,QACpB,IAARC,IAAkBA,EAAM6uB,EAAM12B,QAC9B4H,GAAS8uB,EAAM12B,OACf,OAAO02B,EAEX9uB,GAAS8uB,EAAM12B,OAAS4H,GAAS8uB,EAAM12B,OAEnC6H,EADAA,GAAO6uB,EAAM12B,OACP02B,EAAM12B,QAGL02B,EAAM12B,OAAS6H,GAAO6uB,EAAM12B,OAEvC,IAAK,IAAID,EAAI6H,EAAO7H,EAAI8H,IAAO9H,EAC3B22B,EAAM32B,GAAKf,EAEf,OAAO03B,EAxBX73B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAOtDD,EAAQgP,KAAOA,EAmBfhP,EAAQ43B,aAAeA,G,kCC1BvB93B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAEtD,SAAWqsB,GACPA,EAAGuL,IAAM,KACTvL,EAAGwL,IAAM,IACTxL,EAAGyL,IAAM,IACTzL,EAAG0L,IAAM,IACT1L,EAAG2L,IAAM,IACT3L,EAAG4L,IAAM,IACT5L,EAAG6L,IAAM,IACT7L,EAAG8L,IAAM,IACT9L,EAAGE,GAAK,KACRF,EAAGI,GAAK,KACRJ,EAAG+L,GAAK,KACR/L,EAAGgM,GAAK,KACRhM,EAAGiM,GAAK,KACRjM,EAAGK,GAAK,KACRL,EAAGkM,GAAK,IACRlM,EAAGmM,GAAK,IACRnM,EAAGoM,IAAM,IACTpM,EAAGqM,IAAM,IACTrM,EAAGsM,IAAM,IACTtM,EAAGuM,IAAM,IACTvM,EAAGwM,IAAM,IACTxM,EAAGyM,IAAM,IACTzM,EAAG0M,IAAM,IACT1M,EAAG2M,IAAM,IACT3M,EAAG4M,IAAM,IACT5M,EAAG6M,GAAK,IACR7M,EAAG8M,IAAM,IACT9M,EAAGC,IAAM,IACTD,EAAG+M,GAAK,IACR/M,EAAGgN,GAAK,IACRhN,EAAGiN,GAAK,IACRjN,EAAGkN,GAAK,IACRlN,EAAGmN,GAAK,IACRnN,EAAGG,IAAM,IAlCb,CAmCQzsB,EAAQssB,KAAOtsB,EAAQssB,GAAK,KAEpC,SAAWoN,GACPA,EAAGC,IAAM,IACTD,EAAGE,IAAM,IACTF,EAAGG,IAAM,IACTH,EAAGI,IAAM,IACTJ,EAAGK,IAAM,IACTL,EAAGM,IAAM,IACTN,EAAGO,IAAM,IACTP,EAAGQ,IAAM,IACTR,EAAGS,IAAM,IACTT,EAAGU,IAAM,IACTV,EAAGW,IAAM,IACTX,EAAGY,IAAM,IACTZ,EAAGa,IAAM,IACTb,EAAGc,GAAK,IACRd,EAAGe,IAAM,IACTf,EAAGgB,IAAM,IACThB,EAAGiB,IAAM,IACTjB,EAAGkB,IAAM,IACTlB,EAAGmB,IAAM,IACTnB,EAAGoB,IAAM,IACTpB,EAAGqB,IAAM,IACTrB,EAAGsB,GAAK,IACRtB,EAAGuB,IAAM,IACTvB,EAAGwB,IAAM,IACTxB,EAAGyB,IAAM,IACTzB,EAAG0B,KAAO,IACV1B,EAAG2B,IAAM,IACT3B,EAAG4B,IAAM,IACT5B,EAAG6B,GAAK,IACR7B,EAAG8B,IAAM,IACT9B,EAAG+B,GAAK,IACR/B,EAAGgC,IAAM,IAhCb,CAiCQ17B,EAAQ05B,KAAO15B,EAAQ05B,GAAK,M,oCCxEpC,IAAI5pB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqvB,EAAkB,EAAQ,QAC1BqM,EAAiB,SAAU3qB,GAE3B,SAAS2qB,EAAcj0B,EAAU8lB,GAC7B,OAAOxc,EAAOE,KAAK7Q,OAASA,KAKhC,OAPAyP,EAAU6rB,EAAe3qB,GAIzB2qB,EAAcn7B,UAAUyL,KAAO,SAAUqiB,EAAK0B,EAAO/tB,EAAGsI,GACpD,OAAO,GAEJoxB,EARS,CASlBrM,EAAgBrC,SAClBjtB,EAAQitB,QAAU0O,G,oCCzBlB77B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI27B,EAAiB,WACjB,SAASA,IACLv7B,KAAKw7B,YAAa,EAWtB,OATAD,EAAcp7B,UAAUqH,QAAU,aAClC+zB,EAAcp7B,UAAUiJ,OAAS,WACxBpJ,KAAKw7B,aACNx7B,KAAKy7B,YACLz7B,KAAKw7B,YAAa,IAG1BD,EAAcp7B,UAAUs7B,UAAY,aACpCF,EAAcp7B,UAAUwwB,WAAa,aAC9B4K,EAbS,GAepB57B,EAAQitB,QAAU2O,G,oCChBlB97B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiV,UAAY,aACpBjV,EAAQ+7B,YAAc,iBACtB/7B,EAAQ0U,cAAgB,kE,oCCHxB,IAAI5E,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI2Q,EAAc,EAAQ,QACtBwR,EAAgB,SAAUpR,GAE1B,SAASoR,IACL,IAAInR,EAAQD,EAAOE,KAAK7Q,OAASA,KAEjC,OADA4Q,EAAM+qB,QAAU/qB,EAAM+qB,SAAW,GAC1B/qB,EA0DX,OA9DAnB,EAAUsS,EAAcpR,GAMxBoR,EAAa5hB,UAAUkf,GAAK,SAAUiF,EAAM4O,GACxClzB,KAAK27B,QAAQrX,GAAQtkB,KAAK27B,QAAQrX,IAAS,GAC3CtkB,KAAK27B,QAAQrX,GAAM9jB,KAAK0yB,IAE5BnR,EAAa5hB,UAAUiS,sBAAwB,SAAUkS,EAAMjkB,GAC3D,IAAIuQ,EAAQ5Q,KACZA,KAAKqf,GAAGiF,EAAMjkB,GACd,IAAIu7B,GAAW,EACf,MAAO,CACHp0B,QAAS,WACDo0B,IAGJhrB,EAAMuiB,IAAI7O,EAAMjkB,GAChBu7B,GAAW,MAIvB7Z,EAAa5hB,UAAUgzB,IAAM,SAAU7O,EAAM4O,GACzC,GAAKlzB,KAAK27B,QAAQrX,GAAlB,CAGA,IAAIuX,EAAM77B,KAAK27B,QAAQrX,GACnB3jB,EAAIk7B,EAAIj7B,OACZ,MAAOD,IACH,GAAIk7B,EAAIl7B,KAAOuyB,EAEX,YADA2I,EAAIh7B,OAAOF,EAAG,KAK1BohB,EAAa5hB,UAAU27B,mBAAqB,SAAUxX,GAC9CtkB,KAAK27B,QAAQrX,WACNtkB,KAAK27B,QAAQrX,IAG5BvC,EAAa5hB,UAAUmhB,KAAO,SAAUgD,GAEpC,IADA,IAAIyX,EAAO,GACFluB,EAAK,EAAGA,EAAKC,UAAUlN,OAAQiN,IACpCkuB,EAAKluB,EAAK,GAAKC,UAAUD,GAE7B,GAAK7N,KAAK27B,QAAQrX,GAIlB,IADA,IAAIuX,EAAM77B,KAAK27B,QAAQrX,GACd3jB,EAAI,EAAGA,EAAIk7B,EAAIj7B,OAAQD,IAC5Bk7B,EAAIl7B,GAAGqN,MAAMhO,KAAM+7B,IAG3Bha,EAAa5hB,UAAU67B,UAAY,SAAU1X,GACzC,OAAOtkB,KAAK27B,QAAQrX,IAAS,IAEjCvC,EAAa5hB,UAAUqH,QAAU,WAC7BmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAK27B,QAAU,IAEZ5Z,EA/DQ,CAgEjBxR,EAAYyE,YACdrV,EAAQoiB,aAAeA,G,oCChFvB,IAAItS,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIq8B,EAAgB,EAAQ,QACxBC,EAAU,EAAQ,QAClBve,EAAiB,EAAQ,QACzBwe,EAAmB,EAAQ,QAC3Bt8B,EAAW,EAAQ,QACnBu8B,EAAoB,EAAQ,QAC5BC,EAA4B,GAC5BC,EAAwB,GACxBC,EAAuB,GACvBC,EAA6B,IAC7BC,EAAkB,aAClBC,EAA0BttB,OAAOC,aAAa,KAC9CstB,EAA+B,IAAI3gB,OAAO0gB,EAAyB,KACnEE,EAAoB,SAAUjsB,GAE9B,SAASisB,EAAiB78B,EAAW88B,GACjC,IAAIjsB,EAAQD,EAAOE,KAAK7Q,OAASA,KAQjC,OAPA4Q,EAAM7Q,UAAYA,EAClB6Q,EAAMisB,aAAeA,EACrBjsB,EAAMksB,UAAW,EACjBlsB,EAAMmsB,iBACNnsB,EAAMosB,SACNpsB,EAAMqsB,OAAS,IAAId,EAAiBe,eAAen9B,GACnD6Q,EAAMusB,qBAAuB,EACtBvsB,EAmhBX,OA7hBAnB,EAAUmtB,EAAkBjsB,GAY5BisB,EAAiBz8B,UAAUqH,QAAU,WACjCmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAKo9B,6BAET39B,OAAOC,eAAek9B,EAAiBz8B,UAAW,UAAW,CACzDgB,IAAK,WACD,OAAOnB,KAAKD,UAAUs9B,QAAQC,QAElCpjB,YAAY,EACZE,cAAc,IAElBwiB,EAAiBz8B,UAAU48B,eAAiB,WACxC,IAAInsB,EAAQ5Q,KACZA,KAAKwiB,mBAAqB,SAAU+a,GAAS,OAAO3sB,EAAM6R,aAAa8a,IACvEv9B,KAAKw9B,iBAAmB,SAAUD,GAAS,OAAO3sB,EAAM6sB,WAAWF,IACnEv9B,KAAK09B,cAAgB,SAAU5W,GAAU,OAAOlW,EAAM+sB,QAAQ7W,IAC9D9mB,KAAK49B,wBAEThB,EAAiBz8B,UAAUy9B,qBAAuB,WAC9C,IAAIhtB,EAAQ5Q,KACZA,KAAKD,UAAUkB,OAAOC,MAAMme,GAAG,OAAQrf,KAAK09B,eAC5C19B,KAAKD,UAAUs9B,QAAQhe,GAAG,YAAY,SAAUhO,GAAK,OAAOT,EAAMitB,kBAAkBxsB,OAExFurB,EAAiBz8B,UAAU29B,QAAU,WACjC99B,KAAK8c,iBACL9c,KAAK88B,UAAW,GAEpBF,EAAiBz8B,UAAU68B,OAAS,WAChCh9B,KAAK88B,UAAW,GAEpBr9B,OAAOC,eAAek9B,EAAiBz8B,UAAW,iBAAkB,CAChEgB,IAAK,WAAc,OAAOnB,KAAKi9B,OAAOc,qBACtC7jB,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAek9B,EAAiBz8B,UAAW,eAAgB,CAC9DgB,IAAK,WAAc,OAAOnB,KAAKi9B,OAAOe,mBACtC9jB,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAek9B,EAAiBz8B,UAAW,eAAgB,CAC9DgB,IAAK,WACD,IAAIqH,EAAQxI,KAAKi9B,OAAOc,oBACpBt1B,EAAMzI,KAAKi9B,OAAOe,kBACtB,SAAKx1B,IAAUC,KAGRD,EAAM,KAAOC,EAAI,IAAMD,EAAM,KAAOC,EAAI,KAEnDyR,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAek9B,EAAiBz8B,UAAW,gBAAiB,CAC/DgB,IAAK,WACD,IAAIqH,EAAQxI,KAAKi9B,OAAOc,oBACpBt1B,EAAMzI,KAAKi9B,OAAOe,kBACtB,IAAKx1B,IAAUC,EACX,MAAO,GAEX,IAAIkS,EAAS,GACb,GAAkC,IAA9B3a,KAAKm9B,qBAA4B,CACjC,GAAI30B,EAAM,KAAOC,EAAI,GACjB,MAAO,GAEX,IAAK,IAAI9H,EAAI6H,EAAM,GAAI7H,GAAK8H,EAAI,GAAI9H,IAAK,CACrC,IAAIs9B,EAAWj+B,KAAKunB,QAAQjmB,4BAA4BX,GAAG,EAAM6H,EAAM,GAAIC,EAAI,IAC/EkS,EAAOna,KAAKy9B,QAGf,CACD,IAAInoB,EAAiBtN,EAAM,KAAOC,EAAI,GAAKA,EAAI,GAAK,KACpDkS,EAAOna,KAAKR,KAAKunB,QAAQjmB,4BAA4BkH,EAAM,IAAI,EAAMA,EAAM,GAAIsN,IAC/E,IAASnV,EAAI6H,EAAM,GAAK,EAAG7H,GAAK8H,EAAI,GAAK,EAAG9H,IAAK,CAC7C,IAAIu9B,EAAal+B,KAAKunB,QAAQrmB,MAAMC,IAAIR,GACpCs9B,EAAWj+B,KAAKunB,QAAQjmB,4BAA4BX,GAAG,GACvDu9B,EAAWjxB,UACX0N,EAAOA,EAAO/Z,OAAS,IAAMq9B,EAG7BtjB,EAAOna,KAAKy9B,GAGpB,GAAIz1B,EAAM,KAAOC,EAAI,GAAI,CACjBy1B,EAAal+B,KAAKunB,QAAQrmB,MAAMC,IAAIsH,EAAI,IACxCw1B,EAAWj+B,KAAKunB,QAAQjmB,4BAA4BmH,EAAI,IAAI,EAAM,EAAGA,EAAI,IACzEy1B,EAAWjxB,UACX0N,EAAOA,EAAO/Z,OAAS,IAAMq9B,EAG7BtjB,EAAOna,KAAKy9B,IAIxB,IAAIE,EAAkBxjB,EAAOyjB,KAAI,SAAUp9B,GACvC,OAAOA,EAAKwW,QAAQmlB,EAA8B,QACnD9kB,KAAKqkB,EAAQ9E,YAAc,OAAS,MACvC,OAAO+G,GAEXjkB,YAAY,EACZE,cAAc,IAElBwiB,EAAiBz8B,UAAU2c,eAAiB,WACxC9c,KAAKi9B,OAAOngB,iBACZ9c,KAAKo9B,4BACLp9B,KAAKyU,WAETmoB,EAAiBz8B,UAAUsU,QAAU,SAAU4pB,GAC3C,IAAIztB,EAAQ5Q,KAIZ,GAHKA,KAAKs+B,yBACNt+B,KAAKs+B,uBAAyBj0B,OAAOoT,uBAAsB,WAAc,OAAO7M,EAAM2tB,eAEtFrC,EAAQ7E,SAAWgH,EAAgB,CACnC,IAAI3I,EAAgB11B,KAAK01B,cACrBA,EAAc90B,QACdZ,KAAKshB,KAAK,eAAgBthB,KAAK01B,iBAI3CkH,EAAiBz8B,UAAUo+B,SAAW,WAClCv+B,KAAKs+B,uBAAyB,KAC9Bt+B,KAAKshB,KAAK,UAAW,CACjB9Y,MAAOxI,KAAKi9B,OAAOc,oBACnBt1B,IAAKzI,KAAKi9B,OAAOe,kBACjBt1B,iBAAgD,IAA9B1I,KAAKm9B,wBAG/BP,EAAiBz8B,UAAUi2B,mBAAqB,SAAUmH,GACtD,IAAI7Z,EAAS1jB,KAAKw+B,sBAAsBjB,GACpC/0B,EAAQxI,KAAKi9B,OAAOc,oBACpBt1B,EAAMzI,KAAKi9B,OAAOe,kBACtB,SAAKx1B,IAAUC,IAGRzI,KAAKy+B,sBAAsB/a,EAAQlb,EAAOC,IAErDm0B,EAAiBz8B,UAAUs+B,sBAAwB,SAAU/a,EAAQlb,EAAOC,GACxE,OAAQib,EAAO,GAAKlb,EAAM,IAAMkb,EAAO,GAAKjb,EAAI,IAC3CD,EAAM,KAAOC,EAAI,IAAMib,EAAO,KAAOlb,EAAM,IAAMkb,EAAO,IAAMlb,EAAM,IAAMkb,EAAO,GAAKjb,EAAI,IAC1FD,EAAM,GAAKC,EAAI,IAAMib,EAAO,KAAOjb,EAAI,IAAMib,EAAO,GAAKjb,EAAI,IAC7DD,EAAM,GAAKC,EAAI,IAAMib,EAAO,KAAOlb,EAAM,IAAMkb,EAAO,IAAMlb,EAAM,IAE3Eo0B,EAAiBz8B,UAAUk2B,mBAAqB,SAAUkH,GACtD,IAAI7Z,EAAS1jB,KAAKw+B,sBAAsBjB,GACpC7Z,IACA1jB,KAAK0+B,cAAchb,GAAQ,GAC3B1jB,KAAKi9B,OAAOniB,aAAe,KAC3B9a,KAAKyU,SAAQ,KAGrBmoB,EAAiBz8B,UAAU4zB,UAAY,WACnC/zB,KAAKi9B,OAAO0B,mBAAoB,EAChC3+B,KAAKyU,UACLzU,KAAKD,UAAUuhB,KAAK,cAExBsb,EAAiBz8B,UAAU6zB,YAAc,SAAUxrB,EAAOC,GACtDzI,KAAKi9B,OAAOngB,iBACZtU,EAAQjF,KAAKC,IAAIgF,EAAO,GACxBC,EAAMlF,KAAKE,IAAIgF,EAAKzI,KAAKD,UAAUkB,OAAOC,MAAMN,OAAS,GACzDZ,KAAKi9B,OAAO7hB,eAAiB,CAAC,EAAG5S,GACjCxI,KAAKi9B,OAAOniB,aAAe,CAAC9a,KAAKD,UAAU8B,KAAM4G,GACjDzI,KAAKyU,UACLzU,KAAKD,UAAUuhB,KAAK,cAExBsb,EAAiBz8B,UAAUw9B,QAAU,SAAU7W,GAC3C,IAAI8X,EAAe5+B,KAAKi9B,OAAO4B,OAAO/X,GAClC8X,GACA5+B,KAAKyU,WAGbmoB,EAAiBz8B,UAAUq+B,sBAAwB,SAAUjB,GACzD,IAAI7Z,EAAS1jB,KAAKD,UAAU4jB,YAAYC,UAAU2Z,EAAOv9B,KAAKD,UAAUof,cAAenf,KAAK68B,aAAc78B,KAAKD,UAAU8B,KAAM7B,KAAKD,UAAUmJ,MAAM,GACpJ,OAAKwa,GAGLA,EAAO,KACPA,EAAO,KACPA,EAAO,IAAM1jB,KAAKD,UAAUkB,OAAO0T,MAC5B+O,GALI,MAOfkZ,EAAiBz8B,UAAU2+B,2BAA6B,SAAUvB,GAC9D,IAAIrkB,EAAS+iB,EAAc8C,YAAYC,2BAA2BzB,EAAOv9B,KAAKD,UAAUof,eAAe,GACnG8f,EAAiBj/B,KAAKD,UAAUmJ,KAAO3F,KAAKqc,KAAK5f,KAAK68B,aAAahzB,OAAS7J,KAAKD,UAAUyL,QAAQoT,YACvG,OAAI1F,GAAU,GAAKA,GAAU+lB,EAClB,GAEP/lB,EAAS+lB,IACT/lB,GAAU+lB,GAEd/lB,EAAS3V,KAAKE,IAAIF,KAAKC,IAAI0V,GAASmjB,GAA4BA,GAChEnjB,GAAUmjB,EACFnjB,EAAS3V,KAAK27B,IAAIhmB,GAAW3V,KAAKsc,MAAM3G,GAAUojB,EAAwB,MAEtFM,EAAiBz8B,UAAUg/B,qBAAuB,SAAU5B,GACxD,OAAIrB,EAAQ5nB,MACDipB,EAAM1R,QAAU7rB,KAAKD,UAAUyL,QAAQ4zB,8BAE3C7B,EAAM3R,UAEjBgR,EAAiBz8B,UAAUk/B,YAAc,SAAU9B,GAE/C,GADAv9B,KAAKs/B,oBAAsB/B,EAAMgC,WACZ,IAAjBhC,EAAMiC,SAAgBx/B,KAAK8zB,eAGV,IAAjByJ,EAAMiC,OAAV,CAGA,IAAKx/B,KAAK88B,SAAU,CAChB,IAAK98B,KAAKm/B,qBAAqB5B,GAC3B,OAEJA,EAAM3H,kBAEV2H,EAAMzpB,iBACN9T,KAAKy/B,kBAAoB,EACrBz/B,KAAK88B,UAAYS,EAAM3R,SACvB5rB,KAAK0/B,oBAAoBnC,GAGJ,IAAjBA,EAAMoC,OACN3/B,KAAK4/B,eAAerC,GAEE,IAAjBA,EAAMoC,OACX3/B,KAAK6/B,eAAetC,GAEE,IAAjBA,EAAMoC,QACX3/B,KAAK8/B,eAAevC,GAG5Bv9B,KAAK+/B,yBACL//B,KAAKyU,SAAQ,KAEjBmoB,EAAiBz8B,UAAU4/B,uBAAyB,WAChD,IAAInvB,EAAQ5Q,KACZA,KAAKD,UAAUkS,QAAQ+tB,cAAcxuB,iBAAiB,YAAaxR,KAAKwiB,oBACxExiB,KAAKD,UAAUkS,QAAQ+tB,cAAcxuB,iBAAiB,UAAWxR,KAAKw9B,kBACtEx9B,KAAKigC,yBAA2BC,aAAY,WAAc,OAAOtvB,EAAMuvB,gBAAkB5D,IAE7FK,EAAiBz8B,UAAUi9B,0BAA4B,WAC/Cp9B,KAAKD,UAAUkS,QAAQ+tB,gBACvBhgC,KAAKD,UAAUkS,QAAQ+tB,cAAcvsB,oBAAoB,YAAazT,KAAKwiB,oBAC3ExiB,KAAKD,UAAUkS,QAAQ+tB,cAAcvsB,oBAAoB,UAAWzT,KAAKw9B,mBAE7E4C,cAAcpgC,KAAKigC,0BACnBjgC,KAAKigC,yBAA2B,MAEpCrD,EAAiBz8B,UAAUu/B,oBAAsB,SAAUnC,GACnDv9B,KAAKi9B,OAAO7hB,iBACZpb,KAAKi9B,OAAOniB,aAAe9a,KAAKw+B,sBAAsBjB,KAG9DX,EAAiBz8B,UAAUy/B,eAAiB,SAAUrC,GAKlD,GAJAv9B,KAAKi9B,OAAOoD,qBAAuB,EACnCrgC,KAAKi9B,OAAO0B,mBAAoB,EAChC3+B,KAAKm9B,qBAAuBn9B,KAAKsgC,mBAAmB/C,GAAS,EAAI,EACjEv9B,KAAKi9B,OAAO7hB,eAAiBpb,KAAKw+B,sBAAsBjB,GACnDv9B,KAAKi9B,OAAO7hB,eAAjB,CAGApb,KAAKi9B,OAAOniB,aAAe,KAC3B,IAAI9Z,EAAOhB,KAAKunB,QAAQrmB,MAAMC,IAAInB,KAAKi9B,OAAO7hB,eAAe,IAC7D,GAAKpa,KAGDA,EAAKJ,QAAUZ,KAAKi9B,OAAO7hB,eAAe,IAA9C,CAGA,IAAI/V,EAAOrE,EAAKG,IAAInB,KAAKi9B,OAAO7hB,eAAe,IACF,IAAzC/V,EAAKxF,EAASqC,wBACdlC,KAAKi9B,OAAO7hB,eAAe,QAGnCwhB,EAAiBz8B,UAAU0/B,eAAiB,SAAUtC,GAClD,IAAI7Z,EAAS1jB,KAAKw+B,sBAAsBjB,GACpC7Z,IACA1jB,KAAKm9B,qBAAuB,EAC5Bn9B,KAAK0+B,cAAchb,GAAQ,KAGnCkZ,EAAiBz8B,UAAU2/B,eAAiB,SAAUvC,GAClD,IAAI7Z,EAAS1jB,KAAKw+B,sBAAsBjB,GACpC7Z,IACA1jB,KAAKm9B,qBAAuB,EAC5Bn9B,KAAKugC,cAAc7c,EAAO,MAGlCkZ,EAAiBz8B,UAAUmgC,mBAAqB,SAAU/C,GACtD,OAAOA,EAAM1R,UAAYqQ,EAAQ5nB,OAAStU,KAAKD,UAAUyL,QAAQ4zB,gCAErExC,EAAiBz8B,UAAUsiB,aAAe,SAAU8a,GAChDA,EAAMxpB,2BACN,IAAIysB,EAAuBxgC,KAAKi9B,OAAOniB,aAAe,CAAC9a,KAAKi9B,OAAOniB,aAAa,GAAI9a,KAAKi9B,OAAOniB,aAAa,IAAM,KAEnH,GADA9a,KAAKi9B,OAAOniB,aAAe9a,KAAKw+B,sBAAsBjB,GACjDv9B,KAAKi9B,OAAOniB,aAAjB,CAwBA,GApBkC,IAA9B9a,KAAKm9B,qBACDn9B,KAAKi9B,OAAOniB,aAAa,GAAK9a,KAAKi9B,OAAO7hB,eAAe,GACzDpb,KAAKi9B,OAAOniB,aAAa,GAAK,EAG9B9a,KAAKi9B,OAAOniB,aAAa,GAAK9a,KAAKD,UAAU8B,KAGd,IAA9B7B,KAAKm9B,sBACVn9B,KAAKygC,gBAAgBzgC,KAAKi9B,OAAOniB,cAErC9a,KAAKy/B,kBAAoBz/B,KAAK8+B,2BAA2BvB,GACvB,IAA9Bv9B,KAAKm9B,uBACDn9B,KAAKy/B,kBAAoB,EACzBz/B,KAAKi9B,OAAOniB,aAAa,GAAK9a,KAAKD,UAAU8B,KAExC7B,KAAKy/B,kBAAoB,IAC9Bz/B,KAAKi9B,OAAOniB,aAAa,GAAK,IAGlC9a,KAAKi9B,OAAOniB,aAAa,GAAK9a,KAAKunB,QAAQrmB,MAAMN,OAAQ,CACzD,IAAIyE,EAAOrF,KAAKunB,QAAQrmB,MAAMC,IAAInB,KAAKi9B,OAAOniB,aAAa,IAAI3Z,IAAInB,KAAKi9B,OAAOniB,aAAa,IACxFzV,GAAiD,IAAzCA,EAAKxF,EAASqC,wBACtBlC,KAAKi9B,OAAOniB,aAAa,KAG5B0lB,GACDA,EAAqB,KAAOxgC,KAAKi9B,OAAOniB,aAAa,IACrD0lB,EAAqB,KAAOxgC,KAAKi9B,OAAOniB,aAAa,IACrD9a,KAAKyU,SAAQ,QAhCbzU,KAAKyU,SAAQ,IAmCrBmoB,EAAiBz8B,UAAUggC,YAAc,WACjCngC,KAAKy/B,oBACLz/B,KAAKD,UAAU6T,YAAY5T,KAAKy/B,mBAAmB,GAC/Cz/B,KAAKy/B,kBAAoB,GACS,IAA9Bz/B,KAAKm9B,uBACLn9B,KAAKi9B,OAAOniB,aAAa,GAAK9a,KAAKD,UAAU8B,MAEjD7B,KAAKi9B,OAAOniB,aAAa,GAAKvX,KAAKE,IAAIzD,KAAKD,UAAUkB,OAAO0T,MAAQ3U,KAAKD,UAAUmJ,KAAMlJ,KAAKD,UAAUkB,OAAOC,MAAMN,OAAS,KAG7F,IAA9BZ,KAAKm9B,uBACLn9B,KAAKi9B,OAAOniB,aAAa,GAAK,GAElC9a,KAAKi9B,OAAOniB,aAAa,GAAK9a,KAAKD,UAAUkB,OAAO0T,OAExD3U,KAAKyU,YAGbmoB,EAAiBz8B,UAAUs9B,WAAa,SAAUF,GAC9C,IAAImD,EAAcnD,EAAMgC,UAAYv/B,KAAKs/B,oBACzCt/B,KAAKo9B,4BACDp9B,KAAK01B,cAAc90B,QAAU,GAAK8/B,EAAclE,EAChD,IAAKJ,EAAkBuE,gBAAgBpD,EAAOv9B,KAAKD,WAAY6gC,OAE1D5gC,KAAK8zB,cACV9zB,KAAKD,UAAUuhB,KAAK,cAG5Bsb,EAAiBz8B,UAAU09B,kBAAoB,SAAUxsB,GACrDrR,KAAK8c,iBACLzL,EAAEwvB,eAAe3/B,MAAMiyB,IAAI,OAAQnzB,KAAK09B,eACxCrsB,EAAEyvB,aAAa5/B,MAAMme,GAAG,OAAQrf,KAAK09B,gBAEzCd,EAAiBz8B,UAAU4gC,oCAAsC,SAAU7C,EAAYxa,GAEnF,IADA,IAAIsd,EAAYtd,EAAO,GACd/iB,EAAI,EAAG+iB,EAAO,IAAM/iB,EAAGA,IAAK,CACjC,IAAI0E,EAAO64B,EAAW/8B,IAAIR,GACmB,IAAzC0E,EAAKxF,EAASqC,uBACd8+B,IAEK37B,EAAKxF,EAASmC,sBAAsBpB,OAAS,GAAK8iB,EAAO,KAAO/iB,IACrEqgC,GAAa37B,EAAKxF,EAASmC,sBAAsBpB,OAAS,GAGlE,OAAOogC,GAEXpE,EAAiBz8B,UAAU0c,aAAe,SAAUN,EAAKxb,EAAKH,GAC1DZ,KAAKi9B,OAAOngB,iBACZ9c,KAAKo9B,4BACLp9B,KAAKi9B,OAAO7hB,eAAiB,CAACmB,EAAKxb,GACnCf,KAAKi9B,OAAOoD,qBAAuBz/B,EACnCZ,KAAKyU,WAETmoB,EAAiBz8B,UAAU8gC,WAAa,SAAUvd,EAAQwd,EAA8BC,EAAyBC,GAG7G,QAFgC,IAA5BD,IAAsCA,GAA0B,QACpC,IAA5BC,IAAsCA,GAA0B,GAChE1d,EAAO,IAAM1jB,KAAKD,UAAU8B,KAC5B,OAAO,KAEX,IAAIq8B,EAAal+B,KAAKunB,QAAQrmB,MAAMC,IAAIuiB,EAAO,IAC/C,IAAKwa,EACD,OAAO,KAEX,IAAIl9B,EAAOhB,KAAKunB,QAAQjmB,4BAA4BoiB,EAAO,IAAI,GAC3DphB,EAAatC,KAAK+gC,oCAAoC7C,EAAYxa,GAClEnhB,EAAWD,EACX++B,EAAa3d,EAAO,GAAKphB,EACzBg/B,EAAoB,EACpBC,EAAqB,EACrBC,EAAqB,EACrBC,EAAsB,EAC1B,GAAgC,MAA5BzgC,EAAKiW,OAAO3U,GAAqB,CACjC,MAAOA,EAAa,GAAqC,MAAhCtB,EAAKiW,OAAO3U,EAAa,GAC9CA,IAEJ,MAAOC,EAAWvB,EAAKJ,QAAwC,MAA9BI,EAAKiW,OAAO1U,EAAW,GACpDA,QAGH,CACD,IAAIE,EAAWihB,EAAO,GAClB1N,EAAS0N,EAAO,GAC6C,IAA7Dwa,EAAW/8B,IAAIsB,GAAU5C,EAASqC,yBAClCo/B,IACA7+B,KAE2D,IAA3Dy7B,EAAW/8B,IAAI6U,GAAQnW,EAASqC,yBAChCq/B,IACAvrB,KAEAkoB,EAAW/8B,IAAI6U,GAAQnW,EAASmC,sBAAsBpB,OAAS,IAC/D6gC,GAAuBvD,EAAW/8B,IAAI6U,GAAQnW,EAASmC,sBAAsBpB,OAAS,EACtF2B,GAAY27B,EAAW/8B,IAAI6U,GAAQnW,EAASmC,sBAAsBpB,OAAS,GAE/E,MAAO6B,EAAW,GAAKH,EAAa,IAAMtC,KAAK0hC,qBAAqBxD,EAAW/8B,IAAIsB,EAAW,IAAK,CAC/F,IAAI4C,EAAO64B,EAAW/8B,IAAIsB,EAAW,GACQ,IAAzC4C,EAAKxF,EAASqC,wBACdo/B,IACA7+B,KAEK4C,EAAKxF,EAASmC,sBAAsBpB,OAAS,IAClD4gC,GAAsBn8B,EAAKxF,EAASmC,sBAAsBpB,OAAS,EACnE0B,GAAc+C,EAAKxF,EAASmC,sBAAsBpB,OAAS,GAE/D0B,IACAG,IAEJ,MAAOuT,EAASkoB,EAAWt9B,QAAU2B,EAAW,EAAIvB,EAAKJ,SAAWZ,KAAK0hC,qBAAqBxD,EAAW/8B,IAAI6U,EAAS,IAAK,CACnH3Q,EAAO64B,EAAW/8B,IAAI6U,EAAS,GACU,IAAzC3Q,EAAKxF,EAASqC,wBACdq/B,IACAvrB,KAEK3Q,EAAKxF,EAASmC,sBAAsBpB,OAAS,IAClD6gC,GAAuBp8B,EAAKxF,EAASmC,sBAAsBpB,OAAS,EACpE2B,GAAY8C,EAAKxF,EAASmC,sBAAsBpB,OAAS,GAE7D2B,IACAyT,KAGRzT,IACA,IAAIiG,EAAQlG,EACN++B,EACAC,EACAE,EACF5gC,EAAS2C,KAAKE,IAAIzD,KAAKD,UAAU8B,KAAMU,EACrCD,EACAg/B,EACAC,EACAC,EACAC,GACN,IAAKP,GAA4E,KAA5ClgC,EAAK6N,MAAMvM,EAAYC,GAAUo/B,OAClE,OAAO,KAEX,GAAIR,GACc,IAAV34B,GAAoE,KAArD01B,EAAW/8B,IAAI,GAAGtB,EAASsF,sBAA8B,CACxE,IAAIy8B,EAAqB5hC,KAAKunB,QAAQrmB,MAAMC,IAAIuiB,EAAO,GAAK,GAC5D,GAAIke,GAAsB1D,EAAWjxB,WAAgG,KAAnF20B,EAAmBzgC,IAAInB,KAAKD,UAAU8B,KAAO,GAAGhC,EAASsF,sBAA8B,CACrI,IAAI08B,EAA2B7hC,KAAKihC,WAAW,CAACjhC,KAAKD,UAAU8B,KAAO,EAAG6hB,EAAO,GAAK,IAAI,GAAO,GAAM,GACtG,GAAIme,EAA0B,CAC1B,IAAI3oB,EAASlZ,KAAKD,UAAU8B,KAAOggC,EAAyBr5B,MAC5DA,GAAS0Q,EACTtY,GAAUsY,IAK1B,GAAIkoB,GACI54B,EAAQ5H,IAAWZ,KAAKD,UAAU8B,MAAmF,KAA3Eq8B,EAAW/8B,IAAInB,KAAKD,UAAU8B,KAAO,GAAGhC,EAASsF,sBAA8B,CACzH,IAAI28B,EAAiB9hC,KAAKunB,QAAQrmB,MAAMC,IAAIuiB,EAAO,GAAK,GACxD,GAAIoe,GAAkBA,EAAe70B,WAAsE,KAAzD60B,EAAe3gC,IAAI,GAAGtB,EAASsF,sBAA8B,CAC3G,IAAI48B,EAAuB/hC,KAAKihC,WAAW,CAAC,EAAGvd,EAAO,GAAK,IAAI,GAAO,GAAO,GACzEqe,IACAnhC,GAAUmhC,EAAqBnhC,SAK/C,MAAO,CAAE4H,MAAOA,EAAO5H,OAAQA,IAEnCg8B,EAAiBz8B,UAAUu+B,cAAgB,SAAUhb,EAAQwd,GACzD,IAAIc,EAAehiC,KAAKihC,WAAWvd,EAAQwd,GAC3C,GAAIc,EAAc,CACd,MAAOA,EAAax5B,MAAQ,EACxBw5B,EAAax5B,OAASxI,KAAKD,UAAU8B,KACrC6hB,EAAO,KAEX1jB,KAAKi9B,OAAO7hB,eAAiB,CAAC4mB,EAAax5B,MAAOkb,EAAO,IACzD1jB,KAAKi9B,OAAOoD,qBAAuB2B,EAAaphC,SAGxDg8B,EAAiBz8B,UAAUsgC,gBAAkB,SAAU/c,GACnD,IAAIse,EAAehiC,KAAKihC,WAAWvd,GAAQ,GAC3C,GAAIse,EAAc,CACd,IAAI15B,EAASob,EAAO,GACpB,MAAOse,EAAax5B,MAAQ,EACxBw5B,EAAax5B,OAASxI,KAAKD,UAAU8B,KACrCyG,IAEJ,IAAKtI,KAAKi9B,OAAOgF,6BACb,MAAOD,EAAax5B,MAAQw5B,EAAaphC,OAASZ,KAAKD,UAAU8B,KAC7DmgC,EAAaphC,QAAUZ,KAAKD,UAAU8B,KACtCyG,IAGRtI,KAAKi9B,OAAOniB,aAAe,CAAC9a,KAAKi9B,OAAOgF,6BAA+BD,EAAax5B,MAAQw5B,EAAax5B,MAAQw5B,EAAaphC,OAAQ0H,KAG9Is0B,EAAiBz8B,UAAUuhC,qBAAuB,SAAU5/B,GACxD,OAAiD,IAA7CA,EAASjC,EAASqC,wBAGfu6B,EAAgBlhB,QAAQzZ,EAASjC,EAASmC,wBAA0B,GAE/E46B,EAAiBz8B,UAAUogC,cAAgB,SAAUv/B,GACjD,IAAIkhC,EAAeliC,KAAKunB,QAAQnB,uBAAuBplB,GACvDhB,KAAKi9B,OAAO7hB,eAAiB,CAAC,EAAG8mB,EAAa7b,OAC9CrmB,KAAKi9B,OAAOniB,aAAe,CAAC9a,KAAKD,UAAU8B,KAAMqgC,EAAa5b,MAC9DtmB,KAAKi9B,OAAOoD,qBAAuB,GAEhCzD,EA9hBY,CA+hBrBjf,EAAeoE,cACjBpiB,EAAQi9B,iBAAmBA,G,6DC3jB3B,IAAIntB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqE,EAAU,EAAQ,QAClBirB,EAAuB,EAAQ,QAC/BD,EAAkB,EAAQ,QAC1B7oB,EAAmB,EAAQ,QAC3B+7B,EAAmB,SAAUxxB,GAE7B,SAASwxB,EAAgB19B,EAAWorB,GAChC,IAAIjf,EAAQD,EAAOE,KAAK7Q,OAASA,KASjC,OARA4Q,EAAMnM,UAAYA,EAClBmM,EAAMif,QAAUA,EAChBjf,EAAMwxB,eAAiB,SAAUngC,EAAO4H,GACpC,IAAIw4B,EAASzxB,EAAMnM,UAAUc,cAAc,UAG3C,OAFA88B,EAAOpgC,MAAQA,EACfogC,EAAOx4B,OAASA,EACTw4B,GAEJzxB,EA+CX,OA1DAnB,EAAU0yB,EAAiBxxB,GAa3BwxB,EAAgBhiC,UAAUs7B,UAAY,WAClC,IAAI7qB,EAAQ5Q,KACR2a,EAASuU,EAAqBoT,+BAA+Bj4B,OAAQrK,KAAKoiC,eAAgBpiC,KAAK6vB,SAC/FlV,aAAkB4nB,kBAClBviC,KAAKwiC,SAAW7nB,EAGhBA,EAAOiY,MAAK,SAAU6P,GAClB7xB,EAAM4xB,SAAWC,MAI7BN,EAAgBhiC,UAAUuiC,UAAY,SAAU/S,EAAOgT,GACnD,IAAIC,EAAUjT,EAAMzqB,KAAO,IACvB29B,EAAelT,EAAMhqB,GAAK,GAC1Bm9B,EAAiBnT,EAAMhqB,KAAO1B,EAAQ8B,cACtCg9B,EAAsBpT,EAAMjqB,KAAOzB,EAAQ8B,cAC/C,OAAO68B,IAAYC,GAAgBC,IAAmBC,IAAwBpT,EAAMxoB,QAExFg7B,EAAgBhiC,UAAUyL,KAAO,SAAUqiB,EAAK0B,EAAO/tB,EAAGsI,GACtD,GAAsB,OAAlBlK,KAAKwiC,eAAuCplB,IAAlBpd,KAAKwiC,SAC/B,OAAO,EAEX,IAAIG,EAAa,EASjB,GARIv8B,EAAiB2F,WAAW4jB,EAAMhqB,IAClCg9B,EAAa,EAAIhT,EAAMhqB,IAAMgqB,EAAM1oB,KAAO,GAAK,GAE1C0oB,EAAMhqB,KAAO1B,EAAQ8B,eACtB4pB,EAAM1oB,OACN07B,EAAa,IAGhB3iC,KAAK0iC,UAAU/S,EAAOgT,GACvB,OAAO,EAEX1U,EAAIniB,OACJ,IAAIk3B,EAAqBhjC,KAAK6vB,QAAQrmB,gBAAkBvF,EAAQg/B,wBAC5DC,EAAsBljC,KAAK6vB,QAAQpmB,iBAAmBxF,EAAQg/B,wBAMlE,OALItT,EAAMzoB,MACN+mB,EAAI/hB,YAAcjI,EAAQkI,aAE9B8hB,EAAIwD,UAAUzxB,KAAKwiC,SAAU7S,EAAMzqB,KAAO89B,EAAoBL,EAAaO,EAAqBF,EAAoBhjC,KAAK6vB,QAAQpmB,iBAAkB7H,EAAGsI,EAAG84B,EAAoBhjC,KAAK6vB,QAAQpmB,kBAC1LwkB,EAAI7hB,WACG,GAEJ+1B,EA3DW,CA4DpBlT,EAAgBrC,SAClBjtB,EAAQitB,QAAUuV,G,oCC/ElB,IAAI1yB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAW,EAAQ,QACnBoE,EAAU,EAAQ,QAClBk/B,EAAc,EAAQ,QACtBluB,EAAoB,EAAQ,QAC5B7O,EAAmB,EAAQ,QAC3B0iB,EAAmB,SAAUnY,GAE7B,SAASmY,EAAgB3T,EAAW5O,EAAQ6O,EAAQguB,EAAyBv7B,GACzE,IAAI+I,EAAQD,EAAOE,KAAK7Q,KAAMmV,EAAW,OAAQ5O,EAAQsB,EAAOuN,IAAWpV,KAI3E,OAHA4Q,EAAMyyB,uBAAyB,GAC/BzyB,EAAM0E,OAAS,IAAI6tB,EAAYG,UAC/B1yB,EAAMgY,yBAA2Bwa,EAC1BxyB,EAiKX,OAvKAnB,EAAUqZ,EAAiBnY,GAQ3BmY,EAAgB3oB,UAAUkJ,OAAS,SAAUrB,EAAUd,GACnDyJ,EAAOxQ,UAAUkJ,OAAOwH,KAAK7Q,KAAMgI,EAAUd,GAC7C,IAAIq8B,EAAevjC,KAAKkL,SAASlD,GAAU,GAAO,GAC9ChI,KAAKwjC,kBAAoBt8B,EAAIsC,iBAAmBxJ,KAAKyjC,iBAAmBF,IACxEvjC,KAAKwjC,gBAAkBt8B,EAAIsC,gBAC3BxJ,KAAKyjC,eAAiBF,EACtBvjC,KAAKqjC,uBAAyB,IAElCrjC,KAAKsV,OAAO4L,QACZlhB,KAAKsV,OAAOjM,OAAOrB,EAASnG,KAAMmG,EAASkB,OAE/C4f,EAAgB3oB,UAAUoV,MAAQ,SAAUvN,GACxChI,KAAKsV,OAAO4L,QACZlhB,KAAK8H,YAETghB,EAAgB3oB,UAAUujC,aAAe,SAAU17B,EAAU27B,EAAUC,EAASC,EAAgBC,GAC5F,IAAK,IAAI55B,EAAIy5B,EAAUz5B,GAAK05B,EAAS15B,IAIjC,IAHA,IAAInJ,EAAMmJ,EAAIlC,EAAS/G,OAAO0T,MAC1B3T,EAAOgH,EAAS/G,OAAOC,MAAMC,IAAIJ,GACjCqB,EAAeyhC,EAAiBA,EAAe/iC,oBAAoBC,GAAO,GACrEa,EAAI,EAAGA,EAAIoG,EAASnG,KAAMD,IAAK,CACpC,IAAIE,EAAWd,EAAKG,IAAIS,GACpBsD,EAAOpD,EAASjC,EAASsF,sBACzBpD,EAAQD,EAASjC,EAASmC,sBAC1BG,EAAOL,EAASjC,EAAS8B,sBACzBM,EAAQH,EAASjC,EAASqC,uBAC1B6hC,GAAW,EACXC,EAAYpiC,EAChB,GAAc,IAAVK,EAAJ,CAGA,GAAIG,EAAaxB,OAAS,GAAKgB,IAAMQ,EAAa,GAAG,GAAI,CACrD2hC,GAAW,EACX,IAAIzgC,EAAQlB,EAAaoR,QACzBzR,EAAQiG,EAAS/G,OAAOK,4BAA4BP,GAAK,EAAMuC,EAAM,GAAIA,EAAM,IAC/ErB,EAAQqB,EAAM,GAAKA,EAAM,GACzB4B,EAAO++B,IACPD,EAAY1gC,EAAM,GAAK,GAEtBygC,GAAY/jC,KAAKkkC,eAAepiC,IAC7BkiC,EAAYhjC,EAAKJ,OAAS,GAAKI,EAAKG,IAAI6iC,EAAY,GAAGnkC,EAASsF,wBAA0BtF,EAASuF,iBACnGnD,EAAQ,GAGhB,IAAIwD,EAAQtD,GAAQ,GAChBuD,EAAY,IAAPvD,EACLwD,EAAMxD,GAAQ,EAAK,IACvB,GAAY,EAARsD,EAAW,CACX,IAAIK,EAAOJ,EACXA,EAAKC,EACLA,EAAKG,EACDH,IAAO1B,EAAQ8B,gBACfJ,EAAK1B,EAAQ+B,wBAEbN,IAAOzB,EAAQ8B,gBACfL,EAAKzB,EAAQ+B,wBAGrB89B,EAAS5+B,EAAMnD,EAAOE,EAAOL,EAAGsI,EAAGvE,EAAID,EAAID,GAC3C7D,EAAIoiC,KAIhBlb,EAAgB3oB,UAAUgkC,gBAAkB,SAAUn8B,EAAU27B,EAAUC,GACtE,IAAIhzB,EAAQ5Q,KACRiuB,EAAMjuB,KAAK2H,KACX9F,EAAOmG,EAASnG,KAChBuiC,EAAS,EACTC,EAAS,EACTC,EAAgB,KACpBrW,EAAIniB,OACJ9L,KAAK0jC,aAAa17B,EAAU27B,EAAUC,EAAS,MAAM,SAAU1+B,EAAMnD,EAAOE,EAAOL,EAAGsI,EAAGvE,EAAID,EAAID,GAC7F,IAAI8+B,EAAgB,KAChB7+B,IAAOzB,EAAQ+B,uBACfu+B,EAAgB3zB,EAAMnK,QAAQwF,WAAWnB,IAEpC1E,EAAiB2F,WAAWrG,KACjC6+B,EAAgB3zB,EAAMnK,QAAQuF,KAAKtG,GAAIoF,KAErB,OAAlBw5B,IACAF,EAASxiC,EACTyiC,EAASn6B,GAETA,IAAMm6B,GACNpW,EAAIrjB,UAAY05B,EAChB1zB,EAAM3G,UAAUm6B,EAAQC,EAAQxiC,EAAOuiC,EAAQ,GAC/CA,EAASxiC,EACTyiC,EAASn6B,GAEJo6B,IAAkBC,IACvBtW,EAAIrjB,UAAY05B,EAChB1zB,EAAM3G,UAAUm6B,EAAQC,EAAQziC,EAAIwiC,EAAQ,GAC5CA,EAASxiC,EACTyiC,EAASn6B,GAEbo6B,EAAgBC,KAEE,OAAlBD,IACArW,EAAIrjB,UAAY05B,EAChBtkC,KAAKiK,UAAUm6B,EAAQC,EAAQxiC,EAAOuiC,EAAQ,IAElDnW,EAAI7hB,WAER0c,EAAgB3oB,UAAUqkC,gBAAkB,SAAUx8B,EAAU27B,EAAUC,GACtE,IAAIhzB,EAAQ5Q,KACZA,KAAK0jC,aAAa17B,EAAU27B,EAAUC,EAAS5jC,KAAK4oB,0BAA0B,SAAU1jB,EAAMnD,EAAOE,EAAOL,EAAGsI,EAAGvE,EAAID,EAAID,GAC1G,GAARA,IAGQ,EAARA,IACAmL,EAAMjJ,KAAKmE,OACPnG,IAAO1B,EAAQ+B,uBACf4K,EAAMjJ,KAAKiD,UAAYgG,EAAMnK,QAAQoE,WAAWC,IAE3C1E,EAAiB2F,WAAWpG,GACjCiL,EAAMjJ,KAAKiD,UAAYgG,EAAMnK,QAAQuF,KAAKrG,GAAImF,IAG9C8F,EAAMjJ,KAAKiD,UAAYgG,EAAMnK,QAAQwF,WAAWnB,IAEpD8F,EAAMxG,sBAAsBxI,EAAGsI,EAAGjI,GAClC2O,EAAMjJ,KAAKyE,WAEfwE,EAAMtF,UAAUtD,EAAUjG,EAAOmD,EAAMjD,EAAOL,EAAGsI,EAAGvE,EAAID,KAAe,EAARD,MAAuB,GAARA,MAAwB,GAARA,SAGtGqjB,EAAgB3oB,UAAUiI,cAAgB,SAAUJ,EAAU27B,EAAUC,GACnC,IAA7B5jC,KAAKsV,OAAOmvB,MAAM7jC,SAGlBZ,KAAK0H,YACL1H,KAAK0H,WAAWipB,aAEpB3wB,KAAK+K,WAAW,EAAG44B,EAAU37B,EAASnG,KAAM+hC,EAAUD,EAAW,GACjE3jC,KAAKmkC,gBAAgBn8B,EAAU27B,EAAUC,GACzC5jC,KAAKwkC,gBAAgBx8B,EAAU27B,EAAUC,KAE7C9a,EAAgB3oB,UAAU4H,iBAAmB,SAAUC,GACnDhI,KAAK8I,gBAAgBd,EAAUA,EAASwD,QAAQgT,oBAEpDsK,EAAgB3oB,UAAU+jC,eAAiB,SAAUpiC,GACjD,GAAiD,IAA7CA,EAASjC,EAASqC,uBAClB,OAAO,EAEX,IAAIgD,EAAOpD,EAASjC,EAASsF,sBAC7B,GAAID,EAAO,IACP,OAAO,EAEX,IAAIG,EAAOvD,EAASjC,EAASmC,sBAC7B,GAAIhC,KAAKqjC,uBAAuBrzB,eAAe3K,GAC3C,OAAOrF,KAAKqjC,uBAAuBh+B,GAEvCrF,KAAK2H,KAAKmE,OACV9L,KAAK2H,KAAKsD,KAAOjL,KAAKyjC,eACtB,IAAIiB,EAAWnhC,KAAK6Y,MAAMpc,KAAK2H,KAAKg9B,YAAYt/B,GAAMpD,OAASjC,KAAKwjC,gBAGpE,OAFAxjC,KAAK2H,KAAKyE,UACVpM,KAAKqjC,uBAAuBh+B,GAAQq/B,EAC7BA,GAEJ5b,EAxKW,CAyKpB7T,EAAkB5O,iBACpB1G,EAAQmpB,gBAAkBA,G,oCC7L1BrpB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqE,EAAU,EAAQ,QACtB,SAAS8oB,EAAevjB,EAAiBC,EAAkBzB,EAAUoN,GACjE,IAAIwvB,EAAe,CACf34B,WAAYmJ,EAAOnJ,WACnBpB,WAAYuK,EAAOvK,WACnBwV,OAAQ,KACRC,aAAc,KACdzK,UAAW,KACX7J,KAAMoJ,EAAOpJ,KAAK6C,MAAM,EAAG,KAE/B,MAAO,CACHyV,KAAMtc,EAASwD,QAAQ8hB,sBACvBhjB,iBAAkBD,OAAOC,iBACzBd,gBAAiBA,EACjBC,iBAAkBA,EAClBqD,WAAY9E,EAASwD,QAAQsB,WAC7BD,SAAU7E,EAASwD,QAAQqB,SAC3BH,WAAY1E,EAASwD,QAAQkB,WAC7BC,eAAgB3E,EAASwD,QAAQmB,eACjC6R,kBAAmBxW,EAASwD,QAAQgT,kBACpCpJ,OAAQwvB,GAIhB,SAAS1X,EAAazU,EAAG7I,GACrB,IAAK,IAAIjP,EAAI,EAAGA,EAAI8X,EAAErD,OAAOpJ,KAAKpL,OAAQD,IACtC,GAAI8X,EAAErD,OAAOpJ,KAAKrL,GAAG4uB,OAAS3f,EAAEwF,OAAOpJ,KAAKrL,GAAG4uB,KAC3C,OAAO,EAGf,OAAO9W,EAAE6L,OAAS1U,EAAE0U,MAChB7L,EAAEnO,mBAAqBsF,EAAEtF,kBACzBmO,EAAE3L,aAAe8C,EAAE9C,YACnB2L,EAAE5L,WAAa+C,EAAE/C,UACjB4L,EAAE/L,aAAekD,EAAElD,YACnB+L,EAAE9L,iBAAmBiD,EAAEjD,gBACvB8L,EAAE+F,oBAAsB5O,EAAE4O,mBAC1B/F,EAAEjP,kBAAoBoG,EAAEpG,iBACxBiP,EAAEhP,mBAAqBmG,EAAEnG,kBACzBgP,EAAErD,OAAOnJ,aAAe2D,EAAEwF,OAAOnJ,YACjCwM,EAAErD,OAAOvK,aAAe+E,EAAEwF,OAAOvK,WAGzC,SAASkB,EAAW84B,GAChB,OAAOA,EAAY5gC,EAAQ8B,cArB/BpG,EAAQotB,eAAiBA,EAmBzBptB,EAAQutB,aAAeA,EAIvBvtB,EAAQoM,WAAaA,G,oCC/CrBtM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIm/B,EAAe,WACf,SAASA,EAAY+F,GACjB9kC,KAAK8kC,UAAYA,EA+CrB,OA7CA/F,EAAY5+B,UAAU4kC,YAAc,SAAUnyB,GAC1C5S,KAAK8kC,UAAYlyB,GAErBmsB,EAAYC,2BAA6B,SAAUzB,EAAOtrB,GACtD,GAAoB,OAAhBsrB,EAAMva,YAAkC5F,IAAhBmgB,EAAMva,MAC9B,OAAO,KAEX,IAAIgiB,EAAkB/yB,EAClBrQ,EAAI27B,EAAMva,MACV9Y,EAAIqzB,EAAMta,MACd,MAAOhR,EACHrQ,GAAKqQ,EAAQgzB,WACb/6B,GAAK+H,EAAQizB,UACbjzB,EAAUA,EAAQkzB,aAEtBlzB,EAAU+yB,EACV,MAAO/yB,GAAWA,IAAYA,EAAQ+tB,cAAcoF,KAChDxjC,GAAKqQ,EAAQozB,WACbn7B,GAAK+H,EAAQoT,UACbpT,EAAUA,EAAQ2iB,cAEtB,MAAO,CAAChzB,EAAGsI,IAEf60B,EAAY5+B,UAAUyjB,UAAY,SAAU2Z,EAAOtrB,EAAS0N,EAAa2lB,EAAUvkB,EAAUwkB,GACzF,IAAK5lB,EAAY1d,QAAU0d,EAAY9V,OACnC,OAAO,KAEX,IAAI6Z,EAASqb,EAAYC,2BAA2BzB,EAAOtrB,GAC3D,OAAKyR,GAGLA,EAAO,GAAKngB,KAAKqc,MAAM8D,EAAO,IAAM6hB,EAAcvlC,KAAK8kC,UAAUjwB,WAAWkK,gBAAkB,EAAI,IAAM/e,KAAK8kC,UAAUjwB,WAAWkK,iBAClI2E,EAAO,GAAKngB,KAAKqc,KAAK8D,EAAO,GAAK1jB,KAAK8kC,UAAUjwB,WAAWC,kBAC5D4O,EAAO,GAAKngB,KAAKE,IAAIF,KAAKC,IAAIkgB,EAAO,GAAI,GAAI4hB,GAAYC,EAAc,EAAI,IAC3E7hB,EAAO,GAAKngB,KAAKE,IAAIF,KAAKC,IAAIkgB,EAAO,GAAI,GAAI3C,GACtC2C,GANI,MAQfqb,EAAY5+B,UAAUqlC,iBAAmB,SAAUjI,EAAOtrB,EAAS0N,EAAa2lB,EAAUvkB,GACtF,IAAI2C,EAAS1jB,KAAK4jB,UAAU2Z,EAAOtrB,EAAS0N,EAAa2lB,EAAUvkB,GAC/Dnf,EAAI8hB,EAAO,GACXxZ,EAAIwZ,EAAO,GAGf,OAFA9hB,GAAK,GACLsI,GAAK,GACE,CAAEtI,EAAGA,EAAGsI,EAAGA,IAEf60B,EAjDO,GAmDlBp/B,EAAQo/B,YAAcA,G,oCCrDtB,kDAEO,SAAS0G,EAAgBl4B,EAAMm4B,EAAQC,GAC1C,OAAOC,eAAK,cAAer4B,EAAMm4B,EAAQC,K,oCCF7ClmC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIimC,EAAiB,kBACjBC,EAAqB,gBACrBC,EAA4B,iBAC5BC,EAAmB,IAAMF,EAAqB,IAC9CG,EAAY,kBACZC,EAAW,6BACXC,EAAkB,cAClBC,EAAa,cACbC,EAAa,KAAOL,EAAmB,MAAQC,EAAY,KAAOC,EAAW,IAAMC,EAAkB,IAAMC,EAAa,IACxHE,EAAa,oCACbC,EAAsC,sDACtCC,EAAoB,OAASD,EAAsC,KACnEE,EAAqB,KAAOF,EAAsC,KAClEG,EAA0B,oBAC1BC,EAAaN,EAAaC,EAAaE,EAAoBC,EAC3Dj+B,EAAQ,QAAUu9B,EAA4B,KAC9Ct9B,EAAM,OAASi+B,EAA0B,IACzCE,EAAiB,IAAI5qB,OAAOxT,EAAQq9B,EAAiBc,EAAal+B,GACtE,SAASo+B,EAAWtJ,EAAOuJ,GACvBz8B,OAAOipB,KAAKwT,EAAK,UAErB,SAASC,EAAatsB,EAAMpa,EAASmL,QACjB,IAAZnL,IAAsBA,EAAUwmC,QACpB,IAAZr7B,IAAsBA,EAAU,IACpCA,EAAQw7B,WAAa,EACrBvsB,EAAKiZ,oBAAoBkT,EAAgBvmC,EAASmL,GAGtD,SAASwC,EAAM0oB,GACXA,EAAoBv2B,UAAU4mC,aAAe,SAAU1mC,EAASmL,GAC5Du7B,EAAa/mC,KAAMK,EAASmL,IAHpC7L,EAAQonC,aAAeA,EAMvBpnC,EAAQqO,MAAQA,G,oCClChB,IAAIyB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAW,EAAQ,QACnBoV,EAAoB,EAAQ,QAC5BgyB,EAAiB,IACjBje,EAAqB,SAAUrY,GAE/B,SAASqY,EAAkB7T,EAAW5O,EAAQ6O,GAC1C,IAAIxE,EAAQD,EAAOE,KAAK7Q,KAAMmV,EAAW,SAAU5O,GAAQ,EAAM6O,IAAWpV,KAa5E,OAZA4Q,EAAM0E,OAAS,CACX1T,EAAG,KACHsI,EAAG,KACHg9B,UAAW,KACX1hC,MAAO,KACPvD,MAAO,MAEX2O,EAAMu2B,iBAAmB,CACrB,IAAOv2B,EAAMw2B,iBAAiBv1B,KAAKjB,GACnC,MAASA,EAAMy2B,mBAAmBx1B,KAAKjB,GACvC,UAAaA,EAAM02B,uBAAuBz1B,KAAKjB,IAE5CA,EAyJX,OAxKAnB,EAAUuZ,EAAmBrY,GAiB7BqY,EAAkB7oB,UAAUkJ,OAAS,SAAUrB,EAAUd,GACrDyJ,EAAOxQ,UAAUkJ,OAAOwH,KAAK7Q,KAAMgI,EAAUd,GAC7ClH,KAAKsV,OAAS,CACV1T,EAAG,KACHsI,EAAG,KACHg9B,UAAW,KACX1hC,MAAO,KACPvD,MAAO,OAGf+mB,EAAkB7oB,UAAUoV,MAAQ,SAAUvN,GAC1ChI,KAAKunC,eACDvnC,KAAKwnC,2BACLxnC,KAAKwnC,yBAAyBhgC,UAC9BxH,KAAKwnC,yBAA2B,KAChCxnC,KAAK+H,iBAAiBC,KAG9BghB,EAAkB7oB,UAAU8H,OAAS,SAAUD,GACvChI,KAAKwnC,0BACLxnC,KAAKwnC,yBAAyBC,QAElCz/B,EAASyM,QAAQzM,EAAS/G,OAAOiJ,EAAGlC,EAAS/G,OAAOiJ,IAExD8e,EAAkB7oB,UAAU+H,QAAU,SAAUF,GACxChI,KAAKwnC,yBACLxnC,KAAKwnC,yBAAyBE,OAAO1/B,GAGrCA,EAASyM,QAAQzM,EAAS/G,OAAOiJ,EAAGlC,EAAS/G,OAAOiJ,IAG5D8e,EAAkB7oB,UAAU4H,iBAAmB,SAAUC,GACrD,IAAI4I,EAAQ5Q,KACRgI,EAASwD,QAAQm8B,YACZ3nC,KAAKwnC,2BACNxnC,KAAKwnC,yBAA2B,IAAII,EAAwB5/B,GAAU,WAClE4I,EAAMi3B,QAAQ7/B,GAAU,QAK5BhI,KAAKwnC,2BACLxnC,KAAKwnC,yBAAyBhgC,UAC9BxH,KAAKwnC,yBAA2B,MAEpCx/B,EAASyM,QAAQzM,EAAS/G,OAAOiJ,EAAGlC,EAAS/G,OAAOiJ,KAG5D8e,EAAkB7oB,UAAUgI,aAAe,SAAUH,GAC7ChI,KAAKwnC,0BACLxnC,KAAKwnC,yBAAyBM,sBAAsB9/B,IAG5DghB,EAAkB7oB,UAAUiI,cAAgB,SAAUJ,EAAUK,EAAUC,IACjEtI,KAAKwnC,0BAA4BxnC,KAAKwnC,yBAAyBO,SAChE/nC,KAAK6nC,QAAQ7/B,GAAU,GAGvBhI,KAAKwnC,yBAAyBM,sBAAsB9/B,IAG5DghB,EAAkB7oB,UAAU0nC,QAAU,SAAU7/B,EAAUggC,GACtD,GAAKhgC,EAASigC,cAAejgC,EAASkgC,aAAtC,CAIA,IAAIC,EAAUngC,EAAS/G,OAAO+Z,MAAQhT,EAAS/G,OAAOiJ,EAClDk+B,EAA0BD,EAAUngC,EAAS/G,OAAO0T,MACxD,GAAIyzB,EAA0B,GAAKA,GAA2BpgC,EAASkB,KACnElJ,KAAKunC,mBADT,CAIA,IAAIzlC,EAAWkG,EAAS/G,OAAOC,MAAMC,IAAIgnC,GAAShnC,IAAI6G,EAAS/G,OAAOW,GACtE,GAAKE,EAAL,CAGA,IAAKkG,EAASk/B,UAWV,OAVAlnC,KAAKunC,eACLvnC,KAAK2H,KAAKmE,OACV9L,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQ4Z,OAAOvV,IAC1C9K,KAAKqoC,kBAAkBrgC,EAAUA,EAAS/G,OAAOW,EAAGwmC,EAAyBtmC,GAC7E9B,KAAK2H,KAAKyE,UACVpM,KAAKsV,OAAO1T,EAAIoG,EAAS/G,OAAOW,EAChC5B,KAAKsV,OAAOpL,EAAIk+B,EAChBpoC,KAAKsV,OAAO4xB,WAAY,EACxBlnC,KAAKsV,OAAO9P,MAAQwC,EAASwD,QAAQ5G,iBACrC5E,KAAKsV,OAAOrT,MAAQH,EAASjC,EAASqC,wBAG1C,IAAIlC,KAAKwnC,0BAA6BxnC,KAAKwnC,yBAAyBc,gBAApE,CAIA,GAAItoC,KAAKsV,OAAQ,CACb,GAAItV,KAAKsV,OAAO1T,IAAMoG,EAAS/G,OAAOW,GAClC5B,KAAKsV,OAAOpL,IAAMk+B,GAClBpoC,KAAKsV,OAAO4xB,YAAcl/B,EAASk/B,WACnClnC,KAAKsV,OAAO9P,QAAUwC,EAASwD,QAAQ5G,aACvC5E,KAAKsV,OAAOrT,QAAUH,EAASjC,EAASqC,uBACxC,OAEJlC,KAAKunC,eAETvnC,KAAK2H,KAAKmE,OACV9L,KAAKmnC,iBAAiBn/B,EAASwD,QAAQ5G,aAAe,SAASoD,EAAUA,EAAS/G,OAAOW,EAAGwmC,EAAyBtmC,GACrH9B,KAAK2H,KAAKyE,UACVpM,KAAKsV,OAAO1T,EAAIoG,EAAS/G,OAAOW,EAChC5B,KAAKsV,OAAOpL,EAAIk+B,EAChBpoC,KAAKsV,OAAO4xB,WAAY,EACxBlnC,KAAKsV,OAAO9P,MAAQwC,EAASwD,QAAQ5G,YACrC5E,KAAKsV,OAAOrT,MAAQH,EAASjC,EAASqC,4BApBlClC,KAAKunC,sBA3BLvnC,KAAKunC,gBAiDbve,EAAkB7oB,UAAUonC,aAAe,WACnCvnC,KAAKsV,SACLtV,KAAK+K,WAAW/K,KAAKsV,OAAO1T,EAAG5B,KAAKsV,OAAOpL,EAAGlK,KAAKsV,OAAOrT,MAAO,GACjEjC,KAAKsV,OAAS,CACV1T,EAAG,KACHsI,EAAG,KACHg9B,UAAW,KACX1hC,MAAO,KACPvD,MAAO,QAInB+mB,EAAkB7oB,UAAUinC,iBAAmB,SAAUp/B,EAAUpG,EAAGsI,EAAGpI,GACrE9B,KAAK2H,KAAKmE,OACV9L,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQ4Z,OAAOvV,IAC1C9K,KAAKuK,mBAAmB3I,EAAGsI,GAC3BlK,KAAK2H,KAAKyE,WAEd4c,EAAkB7oB,UAAUknC,mBAAqB,SAAUr/B,EAAUpG,EAAGsI,EAAGpI,GACvE9B,KAAK2H,KAAKmE,OACV9L,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQ4Z,OAAOvV,IAC1C9K,KAAKiK,UAAUrI,EAAGsI,EAAGpI,EAASjC,EAASqC,uBAAwB,GAC/DlC,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQ6Z,aAAaxV,IAChD9K,KAAKgL,kBAAkBhD,EAAUlG,EAAUF,EAAGsI,GAC9ClK,KAAK2H,KAAKyE,WAEd4c,EAAkB7oB,UAAUmnC,uBAAyB,SAAUt/B,EAAUpG,EAAGsI,EAAGpI,GAC3E9B,KAAK2H,KAAKmE,OACV9L,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQ4Z,OAAOvV,IAC1C9K,KAAKoK,sBAAsBxI,EAAGsI,GAC9BlK,KAAK2H,KAAKyE,WAEd4c,EAAkB7oB,UAAUkoC,kBAAoB,SAAUrgC,EAAUpG,EAAGsI,EAAGpI,GACtE9B,KAAK2H,KAAKmE,OACV9L,KAAK2H,KAAK4gC,YAAcvoC,KAAKyG,QAAQ4Z,OAAOvV,IAC5C9K,KAAKwK,iBAAiB5I,EAAGsI,EAAGpI,EAASjC,EAASqC,uBAAwB,GACtElC,KAAK2H,KAAKyE,WAEP4c,EAzKa,CA0KtB/T,EAAkB5O,iBACpB1G,EAAQqpB,kBAAoBA,EAC5B,IAAI4e,EAA2B,WAC3B,SAASA,EAAwB5/B,EAAUwgC,GACvCxoC,KAAKwoC,gBAAkBA,EACvBxoC,KAAKsoC,iBAAkB,EACnBtgC,EAASk/B,WACTlnC,KAAKyoC,mBA2Fb,OAxFAhpC,OAAOC,eAAekoC,EAAwBznC,UAAW,WAAY,CACjEgB,IAAK,WAAc,QAASnB,KAAK0oC,oBAAsB1oC,KAAK2oC,iBAC5DzuB,YAAY,EACZE,cAAc,IAElBwtB,EAAwBznC,UAAUqH,QAAU,WACpCxH,KAAK2oC,iBACLt+B,OAAO+1B,cAAcpgC,KAAK2oC,gBAC1B3oC,KAAK2oC,eAAiB,MAEtB3oC,KAAK0oC,qBACLr+B,OAAO+Y,aAAapjB,KAAK0oC,oBACzB1oC,KAAK0oC,mBAAqB,MAE1B1oC,KAAKgd,kBACL3S,OAAO4S,qBAAqBjd,KAAKgd,iBACjChd,KAAKgd,gBAAkB,OAG/B4qB,EAAwBznC,UAAU2nC,sBAAwB,SAAU9/B,GAChE,IAAI4I,EAAQ5Q,KACRA,KAAK+nC,WAGT/nC,KAAK4oC,wBAA0BC,KAAKC,MACpC9oC,KAAKsoC,iBAAkB,EAClBtoC,KAAKgd,kBACNhd,KAAKgd,gBAAkB3S,OAAOoT,uBAAsB,WAChD7M,EAAM43B,kBACN53B,EAAMoM,gBAAkB,WAIpC4qB,EAAwBznC,UAAUsoC,iBAAmB,SAAUM,GAC3D,IAAIn4B,EAAQ5Q,UACQ,IAAhB+oC,IAA0BA,EAAc9B,GACxCjnC,KAAK2oC,gBACLt+B,OAAO+1B,cAAcpgC,KAAK2oC,gBAE9B3oC,KAAK0oC,mBAAqBl0B,YAAW,WACjC,GAAI5D,EAAMg4B,wBAAyB,CAC/B,IAAII,EAAO/B,GAAkB4B,KAAKC,MAAQl4B,EAAMg4B,yBAEhD,GADAh4B,EAAMg4B,wBAA0B,KAC5BI,EAAO,EAEP,YADAp4B,EAAM63B,iBAAiBO,GAI/Bp4B,EAAM03B,iBAAkB,EACxB13B,EAAMoM,gBAAkB3S,OAAOoT,uBAAsB,WACjD7M,EAAM43B,kBACN53B,EAAMoM,gBAAkB,QAE5BpM,EAAM+3B,eAAiBzI,aAAY,WAC/B,GAAItvB,EAAMg4B,wBAAyB,CAC/B,IAAII,EAAO/B,GAAkB4B,KAAKC,MAAQl4B,EAAMg4B,yBAGhD,OAFAh4B,EAAMg4B,wBAA0B,UAChCh4B,EAAM63B,iBAAiBO,GAG3Bp4B,EAAM03B,iBAAmB13B,EAAM03B,gBAC/B13B,EAAMoM,gBAAkB3S,OAAOoT,uBAAsB,WACjD7M,EAAM43B,kBACN53B,EAAMoM,gBAAkB,UAE7BiqB,KACJ8B,IAEPnB,EAAwBznC,UAAUsnC,MAAQ,WACtCznC,KAAKsoC,iBAAkB,EACnBtoC,KAAK2oC,iBACLt+B,OAAO+1B,cAAcpgC,KAAK2oC,gBAC1B3oC,KAAK2oC,eAAiB,MAEtB3oC,KAAK0oC,qBACLr+B,OAAO+Y,aAAapjB,KAAK0oC,oBACzB1oC,KAAK0oC,mBAAqB,MAE1B1oC,KAAKgd,kBACL3S,OAAO4S,qBAAqBjd,KAAKgd,iBACjChd,KAAKgd,gBAAkB,OAG/B4qB,EAAwBznC,UAAUunC,OAAS,SAAU1/B,GACjDhI,KAAK4oC,wBAA0B,KAC/B5oC,KAAKyoC,mBACLzoC,KAAK8nC,sBAAsB9/B,IAExB4/B,EAhGmB,I,oCC7L9BnoC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIyQ,EAAa,EAAQ,QACrBpM,EAAU,EAAQ,QACtB,SAASq+B,EAA+B2G,EAASC,EAAe/b,GAC5D,IAAIroB,EAAYqoB,EAAO3jB,gBAAkBvF,EAAQg/B,wBAC7CkG,EAAahc,EAAO1jB,iBAAmBxF,EAAQg/B,wBAC/CZ,EAAS6G,EAAc,IAAMpkC,EAAW,GAAgBqkC,GACxDlb,EAAMoU,EAAOz6B,WAAW,KAAM,CAAEC,MAAOslB,EAAO3O,oBAClDyP,EAAIrjB,UAAYuiB,EAAO/X,OAAOvK,WAAWC,IACzCmjB,EAAI9jB,SAAS,EAAG,EAAGk4B,EAAOpgC,MAAOogC,EAAOx4B,QACxCokB,EAAIniB,OACJmiB,EAAIrjB,UAAYuiB,EAAO/X,OAAOnJ,WAAWnB,IACzCmjB,EAAIhjB,KAAOm+B,EAAQjc,EAAOzgB,WAAYygB,GACtCc,EAAI9iB,aAAe,MACnB,IAAK,IAAIxK,EAAI,EAAGA,EAAI,IAAKA,IACrBstB,EAAIniB,OACJmiB,EAAI5hB,YACJ4hB,EAAI3hB,KAAK3L,EAAImE,EAAW,EAAGA,EAAWqkC,GACtClb,EAAI1hB,OACJ0hB,EAAI5iB,SAAS+D,OAAOC,aAAa1O,GAAIA,EAAImE,EAAW,GACpDmpB,EAAI7hB,UAER6hB,EAAIniB,OACJmiB,EAAIhjB,KAAOm+B,EAAQjc,EAAOxgB,eAAgBwgB,GAC1C,IAASxsB,EAAI,EAAGA,EAAI,IAAKA,IACrBstB,EAAIniB,OACJmiB,EAAI5hB,YACJ4hB,EAAI3hB,KAAK3L,EAAImE,EAAWqkC,EAAYrkC,EAAWqkC,GAC/Clb,EAAI1hB,OACJ0hB,EAAI5iB,SAAS+D,OAAOC,aAAa1O,GAAIA,EAAImE,EAAWqkC,GACpDlb,EAAI7hB,UAER6hB,EAAI7hB,UACJ6hB,EAAIhjB,KAAOm+B,EAAQjc,EAAOzgB,WAAYygB,GACtC,IAAK,IAAIwV,EAAa,EAAGA,EAAa,GAAIA,IACtC,KAAIz4B,GAAKy4B,EAAa,GAAKwG,EAC3B,IAASxoC,EAAI,EAAGA,EAAI,IAAKA,IACrBstB,EAAIniB,OACJmiB,EAAI5hB,YACJ4hB,EAAI3hB,KAAK3L,EAAImE,EAAWoF,EAAGpF,EAAWqkC,GACtClb,EAAI1hB,OACJ0hB,EAAIrjB,UAAYuiB,EAAO/X,OAAOpJ,KAAK22B,GAAY73B,IAC/CmjB,EAAI5iB,SAAS+D,OAAOC,aAAa1O,GAAIA,EAAImE,EAAWoF,GACpD+jB,EAAI7hB,UAGZ6hB,EAAIhjB,KAAOm+B,EAAQjc,EAAOxgB,eAAgBwgB,GAC1C,IAASwV,EAAa,EAAGA,EAAa,GAAIA,IAEtC,IADIz4B,GAAKy4B,EAAa,EAAI,IAAMwG,EACvBxoC,EAAI,EAAGA,EAAI,IAAKA,IACrBstB,EAAIniB,OACJmiB,EAAI5hB,YACJ4hB,EAAI3hB,KAAK3L,EAAImE,EAAWoF,EAAGpF,EAAWqkC,GACtClb,EAAI1hB,OACJ0hB,EAAIrjB,UAAYuiB,EAAO/X,OAAOpJ,KAAK22B,GAAY73B,IAC/CmjB,EAAI5iB,SAAS+D,OAAOC,aAAa1O,GAAIA,EAAImE,EAAWoF,GACpD+jB,EAAI7hB,UAIZ,GADA6hB,EAAI7hB,YACE,sBAAuB68B,IAAY54B,EAAWkiB,WAAaliB,EAAWmiB,SACxE,OAAO6P,EAEX,IAAIgH,EAAqBpb,EAAIkE,aAAa,EAAG,EAAGkQ,EAAOpgC,MAAOogC,EAAOx4B,QAErE,OADAuoB,EAAWiX,EAAoBlc,EAAO/X,OAAOvK,YACtCo+B,EAAQtW,kBAAkB0W,GAGrC,SAASjX,EAAWF,EAAWoX,GAK3B,IAJA,IAAIhY,GAAU,EACViY,EAAID,EAAM/Z,OAAS,GACnBia,EAAIF,EAAM/Z,OAAS,GAAK,IACxB3f,EAAI05B,EAAM/Z,OAAS,EAAI,IAClBrW,EAAS,EAAGA,EAASgZ,EAAU3kB,KAAK3M,OAAQsY,GAAU,EACvDgZ,EAAU3kB,KAAK2L,KAAYqwB,GAC3BrX,EAAU3kB,KAAK2L,EAAS,KAAOswB,GAC/BtX,EAAU3kB,KAAK2L,EAAS,KAAOtJ,EAC/BsiB,EAAU3kB,KAAK2L,EAAS,GAAK,EAG7BoY,GAAU,EAGlB,OAAOA,EAGX,SAAS8X,EAAQ18B,EAAYygB,GACzB,OAAOzgB,EAAa,IAAMygB,EAAOtgB,SAAWsgB,EAAO7iB,iBAAmB,MAAQ6iB,EAAOrgB,WApBzFnN,EAAQ2iC,+BAAiCA,EAkBzC3iC,EAAQyyB,WAAaA,G,kCCrFrB3yB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI6pC,EAAqB,WACrB,SAASA,EAAkBC,EAAWC,EAAkB5pC,GACpDC,KAAK0pC,UAAYA,EACjB1pC,KAAK2pC,iBAAmBA,EACxB3pC,KAAKD,UAAYA,EACjBC,KAAK4pC,cAAe,EACpB5pC,KAAK6pC,uBAAwB,EAC7B7pC,KAAK8pC,qBAAuB,CAAEthC,MAAO,KAAMC,IAAK,MA2GpD,OAzGAghC,EAAkBtpC,UAAU4pC,iBAAmB,WAC3C/pC,KAAK4pC,cAAe,EACpB5pC,KAAK8pC,qBAAqBthC,MAAQxI,KAAK0pC,UAAU9pC,MAAMgB,OACvDZ,KAAK2pC,iBAAiB1jC,YAAc,GACpCjG,KAAK2pC,iBAAiB/jC,UAAUC,IAAI,WAExC4jC,EAAkBtpC,UAAU6pC,kBAAoB,SAAUze,GACtD,IAAI3a,EAAQ5Q,KACZA,KAAK2pC,iBAAiB1jC,YAAcslB,EAAGhe,KACvCvN,KAAKiqC,4BACLz1B,YAAW,WACP5D,EAAMk5B,qBAAqBrhC,IAAMmI,EAAM84B,UAAU9pC,MAAMgB,SACxD,IAEP6oC,EAAkBtpC,UAAU+pC,eAAiB,WACzClqC,KAAKmqC,sBAAqB,IAE9BV,EAAkBtpC,UAAUiqC,QAAU,SAAU7e,GAC5C,GAAIvrB,KAAK4pC,cAAgB5pC,KAAK6pC,sBAAuB,CACjD,GAAmB,MAAfte,EAAGS,QACH,OAAO,EAEN,GAAmB,KAAfT,EAAGS,SAAiC,KAAfT,EAAGS,SAAiC,KAAfT,EAAGS,QAClD,OAAO,EAEXhsB,KAAKmqC,sBAAqB,GAE9B,OAAmB,MAAf5e,EAAGS,UACHhsB,KAAKqqC,6BACE,IAIfZ,EAAkBtpC,UAAUgqC,qBAAuB,SAAUG,GACzD,IAAI15B,EAAQ5Q,KAIZ,GAHAA,KAAK2pC,iBAAiB/jC,UAAU4Z,OAAO,UACvCxf,KAAK4pC,cAAe,EACpB5pC,KAAKuqC,yBACAD,EAKA,CACD,IAAIE,EAA+B,CAC/BhiC,MAAOxI,KAAK8pC,qBAAqBthC,MACjCC,IAAKzI,KAAK8pC,qBAAqBrhC,KAEnCzI,KAAK6pC,uBAAwB,EAC7Br1B,YAAW,WACP,GAAI5D,EAAMi5B,sBAAuB,CAC7Bj5B,EAAMi5B,uBAAwB,EAC9B,IAAIY,OAAQ,EAERA,EADA75B,EAAMg5B,aACEh5B,EAAM84B,UAAU9pC,MAAM+C,UAAU6nC,EAA6BhiC,MAAOgiC,EAA6B/hC,KAGjGmI,EAAM84B,UAAU9pC,MAAM+C,UAAU6nC,EAA6BhiC,OAEzEoI,EAAM7Q,UAAUM,QAAQoqC,MAE7B,OAvBkB,CACrBzqC,KAAK6pC,uBAAwB,EAC7B,IAAIY,EAAQzqC,KAAK0pC,UAAU9pC,MAAM+C,UAAU3C,KAAK8pC,qBAAqBthC,MAAOxI,KAAK8pC,qBAAqBrhC,KACtGzI,KAAKD,UAAUM,QAAQoqC,KAuB/BhB,EAAkBtpC,UAAUkqC,0BAA4B,WACpD,IAAIz5B,EAAQ5Q,KACR0qC,EAAW1qC,KAAK0pC,UAAU9pC,MAC9B4U,YAAW,WACP,IAAK5D,EAAMg5B,aAAc,CACrB,IAAIe,EAAW/5B,EAAM84B,UAAU9pC,MAC3BgrC,EAAOD,EAASnzB,QAAQkzB,EAAU,IAClCE,EAAKhqC,OAAS,GACdgQ,EAAM7Q,UAAUM,QAAQuqC,MAGjC,IAEPnB,EAAkBtpC,UAAU8pC,0BAA4B,SAAUY,GAC9D,IAAIj6B,EAAQ5Q,KACZ,GAAKA,KAAK4pC,aAAV,CAGA,GAAI5pC,KAAKD,UAAUkB,OAAO6pC,mBAAoB,CAC1C,IAAI3B,EAAa5lC,KAAKqc,KAAK5f,KAAKD,UAAU4f,YAAY9V,OAAS7J,KAAKD,UAAUyL,QAAQoT,YAClFmsB,EAAY/qC,KAAKD,UAAUkB,OAAOiJ,EAAIi/B,EACtC6B,EAAahrC,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAU4f,YAAY1d,MACtEjC,KAAK2pC,iBAAiBnkC,MAAMyb,KAAO+pB,EAAa,KAChDhrC,KAAK2pC,iBAAiBnkC,MAAMwb,IAAM+pB,EAAY,KAC9C/qC,KAAK2pC,iBAAiBnkC,MAAMqE,OAASs/B,EAAa,KAClDnpC,KAAK2pC,iBAAiBnkC,MAAMoZ,WAAauqB,EAAa,KACtD,IAAI8B,EAAwBjrC,KAAK2pC,iBAAiB1U,wBAClDj1B,KAAK0pC,UAAUlkC,MAAMyb,KAAO+pB,EAAa,KACzChrC,KAAK0pC,UAAUlkC,MAAMwb,IAAM+pB,EAAY,KACvC/qC,KAAK0pC,UAAUlkC,MAAMvD,MAAQgpC,EAAsBhpC,MAAQ,KAC3DjC,KAAK0pC,UAAUlkC,MAAMqE,OAASohC,EAAsBphC,OAAS,KAC7D7J,KAAK0pC,UAAUlkC,MAAMoZ,WAAaqsB,EAAsBphC,OAAS,KAEhEghC,GACDr2B,YAAW,WAAc,OAAO5D,EAAMq5B,2BAA0B,KAAU,KAGlFR,EAAkBtpC,UAAUoqC,uBAAyB,WACjDvqC,KAAK0pC,UAAUlkC,MAAMyb,KAAO,GAC5BjhB,KAAK0pC,UAAUlkC,MAAMwb,IAAM,IAExByoB,EAlHa,GAoHxB9pC,EAAQ8pC,kBAAoBA,G,kCCrH5BhqC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIsrC,EAAoB,EAAQ,QAqHhC,SAASC,EAAmBC,GAGxB,IAFA,IAAIzwB,EAAS,EACT/Z,EAASwqC,EAAExqC,OACND,EAAI,EAAGA,EAAIC,IAAUD,EAAG,CAC7B,IAAIuE,EAAOkmC,EAAE97B,WAAW3O,GACxB,GAAI,OAAUuE,GAAQA,GAAQ,MAAQ,CAClC,KAAMvE,GAAKC,EACP,OAAO+Z,EAAShb,EAAQ0rC,QAAQnmC,GAEpC,IAAIomC,EAASF,EAAE97B,WAAW3O,GACtB,OAAU2qC,GAAUA,GAAU,MAC9BpmC,EAAyB,MAAjBA,EAAO,OAAkBomC,EAAS,MAAS,MAGnD3wB,GAAUhb,EAAQ0rC,QAAQC,GAGlC3wB,GAAUhb,EAAQ0rC,QAAQnmC,GAE9B,OAAOyV,EAvIXhb,EAAQ0rC,QAAU,SAAWE,GACzB,IAAIC,EAAgB,CAChB,CAAC,IAAQ,KAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,MAAQ,OAC7C,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAC7C,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAC7C,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,QAE7CC,EAAiB,CACjB,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAClD,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,OAAS,QAClD,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAClD,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAClD,CAAC,OAAS,SAEd,SAASC,EAASC,EAAKp+B,GACnB,IAEIq+B,EAFAnoC,EAAM,EACND,EAAM+J,EAAK3M,OAAS,EAExB,GAAI+qC,EAAMp+B,EAAK,GAAG,IAAMo+B,EAAMp+B,EAAK/J,GAAK,GACpC,OAAO,EAEX,MAAOA,GAAOC,EAEV,GADAmoC,EAAOnoC,EAAMD,GAAQ,EACjBmoC,EAAMp+B,EAAKq+B,GAAK,GAChBnoC,EAAMmoC,EAAM,MAEX,MAAID,EAAMp+B,EAAKq+B,GAAK,IAIrB,OAAO,EAHPpoC,EAAMooC,EAAM,EAMpB,OAAO,EAEX,SAASC,EAAYF,GACjB,OAAID,EAASC,EAAKF,GACP,EAENE,GAAO,QAAWA,GAAO,QAAaA,GAAO,QAAWA,GAAO,OACzD,EAEJ,EAEX,IAAIG,EAAyB,EAAfP,EAAKO,QACfC,EAAQ,IAAIvzB,WAAW,OAC3B0yB,EAAkBv8B,KAAKo9B,EAAO,GAC9BA,EAAM,GAAKR,EAAKS,IAChBd,EAAkBv8B,KAAKo9B,EAAOR,EAAKO,QAAS,EAAG,IAC/CZ,EAAkBv8B,KAAKo9B,EAAOR,EAAKO,QAAS,IAAM,KAClDZ,EAAkBv8B,KAAKo9B,EAAO,EAAG,KAAQ,MACzCA,EAAM,MAAU,EAChBA,EAAM,MAAU,EAChBb,EAAkBv8B,KAAKo9B,EAAO,EAAG,MAAQ,OACzCA,EAAM,OAAU,EAChBb,EAAkBv8B,KAAKo9B,EAAO,EAAG,MAAQ,OACzCb,EAAkBv8B,KAAKo9B,EAAO,EAAG,MAAQ,OACzCb,EAAkBv8B,KAAKo9B,EAAO,EAAG,MAAQ,OACzCb,EAAkBv8B,KAAKo9B,EAAO,EAAG,MAAQ,OACzCb,EAAkBv8B,KAAKo9B,EAAO,EAAG,MAAQ,OACzCb,EAAkBv8B,KAAKo9B,EAAO,EAAG,MAAQ,OACzC,IAAK,IAAIxC,EAAI,EAAGA,EAAIiC,EAAc5qC,SAAU2oC,EACxC2B,EAAkBv8B,KAAKo9B,EAAO,EAAGP,EAAcjC,GAAG,GAAIiC,EAAcjC,GAAG,GAAK,GAEhF,OAAO,SAAU0C,GACb,OAAIA,EAAM,GACW,EAAVH,EAEPG,EAAM,IACC,EAEPA,EAAM,MACCF,EAAME,GAEVJ,EAAYI,IAjHT,CAmHf,CAAED,IAAK,EAAGF,QAAS,IAsBtBnsC,EAAQwrC,mBAAqBA,G,kCC3I7B1rC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQusC,SAAW,GACnBvsC,EAAQwsC,gBAAkBxsC,EAAQusC,SAAS,KAC3CvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,KAETvsC,EAAQusC,SAAS,KAAO,KACxBvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,IAAK,KACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETvsC,EAAQusC,SAAS,KACbvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAEbvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETvsC,EAAQusC,SAAS,KACbvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAEbvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETvsC,EAAQusC,SAAS,KACbvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAEbvsC,EAAQusC,SAAS,KAAO,CACpB,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,M,kCC5JT,IAAIz8B,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIwsC,EAAc,EAAQ,QACtBvsC,EAAW,EAAQ,QACnBwsC,EAAsB,EAAQ,QAC9B1uB,EAAiB,EAAQ,QACzB2uB,EAAa,EAAQ,QACrBC,EAAc,EAAQ,QACtBxiB,EAAoB,EAAQ,QAC5ByiB,EAAiB,EAAQ,QACzBC,EAAa,EAAQ,QACrBC,EAAc,EAAQ,QACtBC,EAAqB,EAAQ,QAC7BC,EAAgB,EAAQ,QACxB1Q,EAAU,EAAQ,QAClB3rB,EAAc,EAAQ,QACtBH,EAAU,EAAQ,QAClB6rB,EAAgB,EAAQ,QACxB4Q,EAAU,EAAQ,QAClBC,EAAiB,EAAQ,QACzBlvB,EAAiB,EAAQ,QACzBmvB,EAAqB,EAAQ,QAC7BC,EAAyB,EAAQ,QACjCzkB,EAAqB,EAAQ,QAC7BpiB,EAAmB,EAAQ,QAC3B8mC,EAAgB,EAAQ,QACxBC,EAAa,EAAQ,QACrB7lC,EAA8B,qBAAXgD,OAA0BA,OAAOhD,SAAW,KAC/D8lC,EAA+B,EAC/BC,EAAmB,IACnBC,EAA2B,CAAC,OAAQ,QACpCC,EAAkB,CAClBzrC,KAAM,GACNqH,KAAM,GACNqkC,YAAY,EACZC,SAAU,QACV7F,aAAa,EACb/iC,YAAa,QACb4pB,UAAWse,EAAetf,mBAC1BigB,UAAW,OACXhiC,4BAA4B,EAC5BC,YAAY,EACZ4hB,sBAAuB,SACvBxgB,WAAY,kCACZD,SAAU,GACVH,WAAY,SACZC,eAAgB,OAChBiS,WAAY,EACZkB,cAAe,EACfkF,WAAY,IACZ0oB,YAAY,EACZC,kBAAkB,EAClBC,OAAO,EACPniB,iBAAiB,EACjB2T,+BAA+B,EAC/ByO,cAAc,EACdC,cAAc,EACdC,gBAAgB,EAChBvvB,mBAAmB,EACnBiI,aAAc,EACdnI,MAAO,KACP0vB,sBAAuB9R,EAAQ5nB,MAC/B25B,aAAc,SACd9oB,2BAA4B,cAE5B4N,EAAY,SAAUpiB,GAEtB,SAASoiB,EAASvnB,QACE,IAAZA,IAAsBA,EAAU,IACpC,IAAIoF,EAAQD,EAAOE,KAAK7Q,OAASA,KAKjC,OAJA4Q,EAAM0kB,QAAU4G,EAChBtrB,EAAMs9B,WAAa,KACnBt9B,EAAMpF,QAAUqhC,EAAQnpC,MAAM8H,GAC9BoF,EAAMu9B,SACCv9B,EAsoCX,OA9oCAnB,EAAUsjB,EAAUpiB,GAUpBoiB,EAAS5yB,UAAUqH,QAAU,WACzBmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAKouC,uBAAyB,KAC9BjoC,EAAiBonB,wBAAwBvtB,MACzCA,KAAKK,QAAU,aACfL,KAAKu0B,MAAQ,aACTv0B,KAAKiS,SAAWjS,KAAKiS,QAAQsC,YAC7BvU,KAAKiS,QAAQsC,WAAW9M,YAAYzH,KAAKiS,UAGjD8gB,EAAS5yB,UAAU8zB,QAAU,WACzBj0B,KAAKwH,WAETurB,EAAS5yB,UAAUguC,OAAS,WACxB,IAAIv9B,EAAQ5Q,KACZP,OAAO4uC,KAAKf,GAAiBvtB,SAAQ,SAAU/b,GAChB,OAAvB4M,EAAMpF,QAAQxH,SAAwCoZ,IAAvBxM,EAAMpF,QAAQxH,KAC7C4M,EAAMpF,QAAQxH,GAAOspC,EAAgBtpC,OAG7ChE,KAAKsuC,QAAUjnC,EAAWA,EAAS+9B,KAAO,KAC1CplC,KAAK6B,KAAO7B,KAAKwL,QAAQ3J,KACzB7B,KAAKkJ,KAAOlJ,KAAKwL,QAAQtC,KACrBlJ,KAAKwL,QAAQnL,SACbL,KAAKqf,GAAG,OAAQrf,KAAKwL,QAAQnL,SAEjCL,KAAKioC,YAAc,EACnBjoC,KAAKkoC,cAAe,EACpBloC,KAAKouC,uBAAyB,KAC9BpuC,KAAKuuC,mBAAoB,EACzBvuC,KAAKwuC,mBAAoB,EACzBxuC,KAAKyuC,YAAa,EAClBzuC,KAAK0uC,YAAa,EAClB1uC,KAAK2uC,gBAAiB,EACtB3uC,KAAKo1B,oBAAqB,EAC1Bp1B,KAAK4uC,QAAU,KACf5uC,KAAK6uC,SAAW,KAChB7uC,KAAK8uC,OAAS,EACd9uC,KAAK+uC,SAAW,CAAC,MACjB/uC,KAAKgvC,QAAUnvC,EAASmkB,aACxBhkB,KAAK0lC,OAAS,GACd1lC,KAAKivC,aAAe,EACpBjvC,KAAKkvC,YAAc,GACnBlvC,KAAKmvC,kBAAmB,EACxBnvC,KAAKovC,oBAAqB,EAC1BpvC,KAAKqvC,gBAAiB,EACtBrvC,KAAKsvC,cAAgB,IAAI9C,EAAe+C,aAAavvC,MACrDA,KAAKmS,SAASnS,KAAKsvC,eACnBtvC,KAAK4S,SAAW5S,KAAK4S,UAAY,KACjC5S,KAAK6a,iBAAmB7a,KAAK6a,kBAAoB,KACjD7a,KAAKof,UAAYpf,KAAKof,WAAa,IAAIstB,EAAY8C,UAAUxvC,MAC7DA,KAAKyvC,kBAAoBzvC,KAAKyvC,mBAAqB,KACnDzvC,KAAK0vC,aAAe1vC,KAAK0vC,cAAgB,IAAI5C,EAAerf,aAAaztB,MACzEA,KAAKq9B,QAAU,IAAI+O,EAAYuD,UAAU3vC,MACrCA,KAAK6a,mBACL7a,KAAK6a,iBAAiBiC,iBACtB9c,KAAK6a,iBAAiB+iB,yBAG9Bn+B,OAAOC,eAAeqzB,EAAS5yB,UAAW,SAAU,CAChDgB,IAAK,WACD,OAAOnB,KAAKq9B,QAAQC,QAExBpjB,YAAY,EACZE,cAAc,IAElB2Y,EAAS5yB,UAAUyvC,UAAY,WAC3B,OAAgC,IAAxB/vC,EAASmkB,aAAyC,IAAfhkB,KAAKgvC,SAEpDjc,EAAS5yB,UAAU0T,MAAQ,WACnB7T,KAAKgzB,UACLhzB,KAAKgzB,SAASnf,SAGtBpU,OAAOC,eAAeqzB,EAAS5yB,UAAW,YAAa,CACnDgB,IAAK,WACD,OAAOkG,EAASwoC,gBAAkB7vC,KAAKgzB,UAAY3rB,EAASyoC,YAEhE51B,YAAY,EACZE,cAAc,IAElB2Y,EAAS5yB,UAAUigB,UAAY,SAAUpc,GACrC,KAAMA,KAAOspC,GACT,MAAM,IAAIyC,MAAM,uBAAyB/rC,EAAM,KAEnD,OAAOhE,KAAKwL,QAAQxH,IAExB+uB,EAAS5yB,UAAUq0B,UAAY,SAAUxwB,EAAKpE,GAC1C,KAAMoE,KAAOspC,GACT,MAAM,IAAIyC,MAAM,uBAAyB/rC,EAAM,KAKnD,IAH+C,IAA3CqpC,EAAyB9xB,QAAQvX,IACjC8pB,QAAQkiB,MAAM,WAAchsC,EAAM,wCAElChE,KAAKwL,QAAQxH,KAASpE,EAA1B,CAGA,OAAQoE,GACJ,IAAK,YACIpE,IACDA,EAAQ,QAEZ,MACJ,IAAK,cACIA,IACDA,EAAQ,SAEZ,MACJ,IAAK,aACIA,IACDA,EAAQ,UAEZ,MACJ,IAAK,iBACIA,IACDA,EAAQ,QAEZ,MACJ,IAAK,aACD,GAAIA,EAAQ,EAER,YADAkuB,QAAQC,KAAK/pB,EAAM,kCAAoCpE,GAG/D,IAAK,eACIA,IACDA,EAAQ,UAEZ,MACJ,IAAK,eACD,GAAIA,EAAQ,EAER,YADAkuB,QAAQC,KAAK/pB,EAAM,kCAAoCpE,GAG3D,MACJ,IAAK,QACD,GAAII,KAAK4S,SAEL,YADA5S,KAAKiwC,UAAUrwC,GAGnB,MACJ,IAAK,aAED,GADAA,EAAQ2D,KAAKE,IAAI7D,EAAOC,EAASokB,iBAC7BrkB,EAAQ,EAER,YADAkuB,QAAQC,KAAK/pB,EAAM,kCAAoCpE,GAG3D,GAAII,KAAKwL,QAAQxH,KAASpE,EAAO,CAC7B,IAAIswC,EAAkBlwC,KAAKkJ,KAAOtJ,EAClC,GAAII,KAAKiB,OAAOC,MAAMN,OAASsvC,EAAiB,CAC5C,IAAItqB,EAAe5lB,KAAKiB,OAAOC,MAAMN,OAASsvC,EAC1CtR,EAAgB5+B,KAAKiB,OAAO0T,MAAQiR,EAAe,EACvD5lB,KAAKiB,OAAOC,MAAM2kB,UAAUD,GAC5B5lB,KAAKiB,OAAO+Z,MAAQzX,KAAKC,IAAIxD,KAAKiB,OAAO+Z,MAAQ4K,EAAc,GAC/D5lB,KAAKiB,OAAO0T,MAAQpR,KAAKC,IAAIxD,KAAKiB,OAAO0T,MAAQiR,EAAc,GAC3DgZ,GACA5+B,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,IAIxC,MAGR,OADAlJ,KAAKwL,QAAQxH,GAAOpE,EACZoE,GACJ,IAAK,aACL,IAAK,WACGhE,KAAK4S,WACL5S,KAAK4S,SAASsO,QACdlhB,KAAK2f,YAAYoV,QAAQ/0B,KAAKwL,UAElC,MACJ,IAAK,6BACL,IAAK,wBACL,IAAK,aACL,IAAK,gBACL,IAAK,aACL,IAAK,aACL,IAAK,iBACGxL,KAAK4S,WACL5S,KAAK4S,SAASsO,QACdlhB,KAAK4S,SAAS4N,SAASxgB,KAAK6B,KAAM7B,KAAKkJ,MACvClJ,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,IAEpC,IAAK,eACGlJ,KAAK4S,WACL5S,KAAKmwC,WAAWnwC,KAAK4S,UACrB5S,KAAK4S,SAASpL,UACdxH,KAAK4S,SAAW,MAEpB5S,KAAKowC,iBACLpwC,KAAK4S,SAAS6N,oBACVzgB,KAAKqwC,QACLrwC,KAAK4S,SAAS+L,SAAS3e,KAAKqwC,QAEhCrwC,KAAK2jB,YAAYohB,YAAY/kC,KAAK4S,UAClC,MACJ,IAAK,aACD5S,KAAKq9B,QAAQh0B,OAAOrJ,KAAK6B,KAAM7B,KAAKkJ,MAChClJ,KAAKswC,UACLtwC,KAAKswC,SAASC,iBAElB,MACJ,IAAK,mBACG3wC,EACKI,KAAKwwC,wBACNxwC,KAAKwwC,sBAAwB,IAAIxD,EAAuBt8B,qBAAqB1Q,OAI7EA,KAAKwwC,wBACLxwC,KAAKwwC,sBAAsBhpC,UAC3BxH,KAAKwwC,sBAAwB,MAGrC,MACJ,IAAK,eACDxwC,KAAKq9B,QAAQ9X,gBACb,MACJ,IAAK,6BACDvlB,KAAKq9B,QAAQoT,OAAOpsB,qBAAqBzkB,GACzCI,KAAKq9B,QAAQqT,IAAIrsB,qBAAqBzkB,GACtCI,KAAKkuC,WAAa,KAClB,MAEJluC,KAAK4S,UACL5S,KAAK4S,SAAS7K,qBAGtBgrB,EAAS5yB,UAAUwwC,iBAAmB,SAAUplB,GACxCvrB,KAAK4wC,WACL5wC,KAAKK,QAAQ0pB,EAAkBkC,GAAGC,IAAM,MAE5ClsB,KAAK6wC,kBAAkBtlB,GACvBvrB,KAAKiS,QAAQrM,UAAUC,IAAI,SAC3B7F,KAAK8wC,aACL9wC,KAAKshB,KAAK,UAEdyR,EAAS5yB,UAAU8yB,KAAO,WACtB,OAAOjzB,KAAKgzB,SAASC,QAEzBF,EAAS5yB,UAAU4wC,gBAAkB,WACjC/wC,KAAKgzB,SAASpzB,MAAQ,GACtBI,KAAKyU,QAAQzU,KAAKiB,OAAOiJ,EAAGlK,KAAKiB,OAAOiJ,GACpClK,KAAK4wC,WACL5wC,KAAKK,QAAQ0pB,EAAkBkC,GAAGC,IAAM,MAE5ClsB,KAAKiS,QAAQrM,UAAU4Z,OAAO,SAC9Bxf,KAAKshB,KAAK,SAEdyR,EAAS5yB,UAAU6wC,YAAc,WAC7B,IAAIpgC,EAAQ5Q,KACZA,KAAKixC,YACLjxC,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,QAAQ,SAAUsrB,GAC1E3sB,EAAMkjB,gBAGXyY,EAAYlX,YAAYkI,EAAO3sB,EAAOA,EAAMiK,sBAEhD,IAAIq2B,EAAsB,SAAU3T,GAAS,OAAOgP,EAAY5W,aAAa4H,EAAO3sB,IACpF5Q,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,QAASke,IAC3ElxC,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,QAASi/B,IACtEhV,EAAQ3J,UACRvyB,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,aAAa,SAAUsrB,GAC/D,IAAjBA,EAAMiC,QACN+M,EAAYrW,kBAAkBqH,EAAO3sB,EAAMoiB,SAAUpiB,EAAMiK,iBAAkBjK,EAAMpF,QAAQwiC,2BAKnGhuC,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,eAAe,SAAUsrB,GACtFgP,EAAYrW,kBAAkBqH,EAAO3sB,EAAMoiB,SAAUpiB,EAAMiK,iBAAkBjK,EAAMpF,QAAQwiC,2BAG/F9R,EAAQ7E,SACRr3B,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,YAAY,SAAUsrB,GAC9D,IAAjBA,EAAMiC,QACN+M,EAAYxW,6BAA6BwH,EAAO3sB,EAAMoiB,eAKtED,EAAS5yB,UAAU8wC,UAAY,WAC3B,IAAIrgC,EAAQ5Q,KACRuW,EAAOvW,KACXA,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,WAAW,SAAUsZ,GAC9ElkB,EAASwoC,gBAAkB7vC,MAG/BuW,EAAK46B,SAAS5lB,MACf,IACHvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,YAAY,SAAUsZ,GAC/ElkB,EAASwoC,gBAAkB7vC,MAG/BuW,EAAK66B,UAAU7lB,MAChB,IACHvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,SAAS,SAAUsZ,GAC3E8lB,EAAwB9lB,IACzB3a,EAAMiD,QAEV0C,EAAK+6B,OAAO/lB,MACb,IACHvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,WAAW,SAAUzH,GAAM,OAAO3a,EAAMugC,SAAS5lB,MAAQ,IAC3HvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,YAAY,SAAUzH,GAAM,OAAO3a,EAAMwgC,UAAU7lB,MAAQ,IAC7HvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,oBAAoB,WAAc,OAAOpiB,EAAM2gC,mBAAmBxH,uBACpI/pC,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,qBAAqB,SAAU3hB,GAAK,OAAOT,EAAM2gC,mBAAmBvH,kBAAkB34B,OACxJrR,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,kBAAkB,WAAc,OAAOpiB,EAAM2gC,mBAAmBrH,qBAClIlqC,KAAKmS,SAASnS,KAAKoS,sBAAsB,WAAW,WAAc,OAAOxB,EAAM2gC,mBAAmBtH,gCAClGjqC,KAAKmS,SAASnS,KAAKoS,sBAAsB,WAAW,SAAU7E,GAAQ,OAAOqD,EAAM4gC,oBAAoBjkC,EAAK/E,MAAO+E,EAAK9E,UAE5HsqB,EAAS5yB,UAAUmzB,KAAO,SAAUC,GAChC,IAAI3iB,EAAQ5Q,KAEZ,GADAA,KAAKsuC,QAAU/a,GAAUvzB,KAAKsuC,SACzBtuC,KAAKsuC,QACN,MAAM,IAAIyB,MAAM,uCAEpB/vC,KAAKyxC,SAAWzxC,KAAKsuC,QAAQtO,cAAc0R,YAC3C1xC,KAAKyE,UAAYzE,KAAKsuC,QAAQtO,cAC9BhgC,KAAKkpB,kBAAoB,IAAIX,EAAmBY,iBAChDnpB,KAAKkpB,kBAAkBE,aAAY,WAAc,OAAOxY,EAAM0Q,KAAK,YAAajX,OAAOC,qBACvFtK,KAAKmS,SAASnS,KAAKkpB,mBACnBlpB,KAAKiS,QAAUjS,KAAKyE,UAAUc,cAAc,OAC5CvF,KAAKiS,QAAQ0/B,IAAM,MACnB3xC,KAAKiS,QAAQrM,UAAUC,IAAI,YAC3B7F,KAAKiS,QAAQrM,UAAUC,IAAI,SAC3B7F,KAAKiS,QAAQD,aAAa,WAAY,KACtChS,KAAKsuC,QAAQpoC,YAAYlG,KAAKiS,SAC9B,IAAIlN,EAAWsC,EAASrC,yBACxBhF,KAAKmgB,iBAAmB9Y,EAAS9B,cAAc,OAC/CvF,KAAKmgB,iBAAiBva,UAAUC,IAAI,kBACpCd,EAASmB,YAAYlG,KAAKmgB,kBAC1BngB,KAAK4xC,oBAAsBvqC,EAAS9B,cAAc,OAClDvF,KAAK4xC,oBAAoBhsC,UAAUC,IAAI,qBACvC7F,KAAKmgB,iBAAiBja,YAAYlG,KAAK4xC,qBACvC5xC,KAAKmf,cAAgB9X,EAAS9B,cAAc,OAC5CvF,KAAKmf,cAAcvZ,UAAUC,IAAI,gBACjC7F,KAAK6xC,iBAAmBxqC,EAAS9B,cAAc,OAC/CvF,KAAK6xC,iBAAiBjsC,UAAUC,IAAI,iBACpC7F,KAAKmf,cAAcjZ,YAAYlG,KAAK6xC,kBACpC9sC,EAASmB,YAAYlG,KAAKmf,eAC1Bnf,KAAKyvC,kBAAoB,IAAI1C,EAAmB9qB,iBAAiBjiB,MACjEA,KAAKmS,SAASnS,KAAKyvC,mBACnBzvC,KAAKmS,SAASnS,KAAKoS,sBAAsB,UAAU,WAAc,OAAOxB,EAAM6+B,kBAAkB3nC,eAChG9H,KAAKof,UAAU0yB,YAAY9xC,KAAKyvC,mBAChCzvC,KAAKgzB,SAAW3rB,EAAS9B,cAAc,YACvCvF,KAAKgzB,SAASptB,UAAUC,IAAI,yBAC5B7F,KAAKgzB,SAAShhB,aAAa,aAAc5B,EAAQsrB,aACjD17B,KAAKgzB,SAAShhB,aAAa,iBAAkB,SAC7ChS,KAAKgzB,SAAShhB,aAAa,cAAe,OAC1ChS,KAAKgzB,SAAShhB,aAAa,iBAAkB,OAC7ChS,KAAKgzB,SAAShhB,aAAa,aAAc,SACzChS,KAAKgzB,SAAS/e,SAAW,EACzBjU,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,SAAS,SAAUzH,GAAM,OAAO3a,EAAM+/B,iBAAiBplB,OACzHvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKgzB,SAAU,QAAQ,WAAc,OAAOpiB,EAAMmgC,sBACrG/wC,KAAK6xC,iBAAiB3rC,YAAYlG,KAAKgzB,UACvChzB,KAAK2pC,iBAAmBtiC,EAAS9B,cAAc,OAC/CvF,KAAK2pC,iBAAiB/jC,UAAUC,IAAI,oBACpC7F,KAAKuxC,mBAAqB,IAAIlF,EAAoB5C,kBAAkBzpC,KAAKgzB,SAAUhzB,KAAK2pC,iBAAkB3pC,MAC1GA,KAAK6xC,iBAAiB3rC,YAAYlG,KAAK2pC,kBACvC3pC,KAAK2f,YAAc,IAAIitB,EAAcjY,YAAYttB,EAAUrH,KAAK6xC,kBAChE7xC,KAAKiS,QAAQ/L,YAAYnB,GACzB/E,KAAKowC,iBACLpwC,KAAKqwC,OAASrwC,KAAKwL,QAAQ8S,MAC3Bte,KAAKwL,QAAQ8S,MAAQ,KACrBte,KAAKswC,SAAW,IAAIhE,EAAWyF,SAAS/xC,KAAMA,KAAKmgB,iBAAkBngB,KAAK4xC,oBAAqB5xC,KAAK2f,aACpG3f,KAAKswC,SAAS3nC,eAAe3I,KAAK4S,SAAS6L,aAAarJ,QACxDpV,KAAKmS,SAASnS,KAAKswC,UACnBtwC,KAAKmS,SAASnS,KAAKoS,sBAAsB,cAAc,WAAc,OAAOxB,EAAMgC,SAASzK,mBAC3FnI,KAAKmS,SAASnS,KAAKoS,sBAAsB,UAAU,WAAc,OAAOxB,EAAMgC,SAAS4N,SAAS5P,EAAM/O,KAAM+O,EAAM1H,UAClHlJ,KAAKmS,SAASnS,KAAKoS,sBAAsB,QAAQ,WAAc,OAAOxB,EAAMgC,SAAS3K,aACrFjI,KAAKmS,SAASnS,KAAKoS,sBAAsB,SAAS,WAAc,OAAOxB,EAAMgC,SAAS1K,cACtFlI,KAAKmS,SAASnS,KAAKoS,sBAAsB,aAAa,WAAc,OAAOxB,EAAMgC,SAAS2N,eAAelW,OAAOC,sBAChHtK,KAAKmS,SAAS5B,EAAYsC,yBAAyBxI,OAAQ,UAAU,WAAc,OAAOuG,EAAMgC,SAAS2N,eAAelW,OAAOC,sBAC/HtK,KAAKmS,SAASnS,KAAK2f,YAAYvN,sBAAsB,mBAAmB,WAAc,OAAOxB,EAAMgC,SAAS6N,wBAC5GzgB,KAAKmS,SAASnS,KAAK4S,SAASR,sBAAsB,UAAU,SAAUyC,GAAc,OAAOjE,EAAM0/B,SAASC,qBAC1GvwC,KAAK6a,iBAAmB,IAAI8xB,EAAmB/P,iBAAiB58B,KAAMA,KAAK2f,aAC3E3f,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKiS,QAAS,aAAa,SAAUZ,GAAK,OAAOT,EAAMiK,iBAAiBwkB,YAAYhuB,OACvIrR,KAAKmS,SAASnS,KAAK6a,iBAAiBzI,sBAAsB,WAAW,SAAU7E,GAAQ,OAAOqD,EAAMgC,SAASrK,mBAAmBgF,EAAK/E,MAAO+E,EAAK9E,IAAK8E,EAAK7E,sBAC3J1I,KAAKmS,SAASnS,KAAK6a,iBAAiBzI,sBAAsB,gBAAgB,SAAU1P,GAChFkO,EAAMoiB,SAASpzB,MAAQ8C,EACvBkO,EAAMoiB,SAASnf,QACfjD,EAAMoiB,SAASsD,aAEnBt2B,KAAKmS,SAASnS,KAAKoS,sBAAsB,UAAU,WAC/CxB,EAAM0/B,SAASC,iBACf3/B,EAAMiK,iBAAiBpG,cAE3BzU,KAAKmS,SAAS5B,EAAYsC,yBAAyB7S,KAAKmgB,iBAAkB,UAAU,WAAc,OAAOvP,EAAMiK,iBAAiBpG,cAChIzU,KAAK2jB,YAAc,IAAIsY,EAAc8C,YAAY/+B,KAAK4S,UAClD5S,KAAKwL,QAAQmiC,mBACb3tC,KAAKwwC,sBAAwB,IAAIxD,EAAuBt8B,qBAAqB1Q,OAEjFA,KAAK2f,YAAYoV,QAAQ/0B,KAAKwL,SAC9BxL,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,GAC5BlJ,KAAKgxC,cACLhxC,KAAKgyC,aAETjf,EAAS5yB,UAAUiwC,eAAiB,WAChC,OAAQpwC,KAAKwL,QAAQyiC,cACjB,IAAK,SACDjuC,KAAK4S,SAAW,IAAI65B,EAAWhkB,SAASzoB,KAAMA,KAAKwL,QAAQ8S,OAC3D,MACJ,IAAK,MACDte,KAAK4S,SAAW,IAAIq6B,EAAc5uB,YAAYre,KAAMA,KAAKwL,QAAQ8S,OACjE,MACJ,QAAS,MAAM,IAAIyxB,MAAM,8BAAiC/vC,KAAKwL,QAAQyiC,aAAe,KAE1FjuC,KAAKmS,SAASnS,KAAK4S,WAEvBmgB,EAAS5yB,UAAU8vC,UAAY,SAAU3xB,GACrCte,KAAKqwC,OAAS/xB,EACd,IAAIlJ,EAASpV,KAAK4S,SAAS+L,SAASL,GAChCte,KAAKswC,UACLtwC,KAAKswC,SAAS3nC,eAAeyM,IAGrC2d,EAAS5yB,UAAU6xC,UAAY,WAC3B,IAAIphC,EAAQ5Q,KACRwP,EAAKxP,KAAKiS,QACVsE,EAAOvW,KACPiyC,EAAU,GACd,SAASC,EAAW3mB,GAChB,IAAIiU,EACAnxB,EAGJ,GAFAmxB,EAAS2S,EAAU5mB,GACnBld,EAAMkI,EAAKoN,YAAY6hB,iBAAiBja,EAAIhV,EAAK4I,cAAe5I,EAAKoJ,YAAapJ,EAAK1U,KAAM0U,EAAKrN,MAC7FmF,EAGL,OADA+jC,EAAU5S,EAAQnxB,GACVkd,EAAG8mB,cAAgB9mB,EAAGjH,MAC1B,IAAK,YACD2tB,EAAUzS,EACV,MACJ,IAAK,UACDyS,EAAU,GACV,MACJ,IAAK,QACD,OAGZ,SAASK,EAAS/mB,GACd,IAAIiU,EAASyS,EACT5jC,EAAMkI,EAAKoN,YAAY6hB,iBAAiBja,EAAIhV,EAAK4I,cAAe5I,EAAKoJ,YAAapJ,EAAK1U,KAAM0U,EAAKrN,MACjGmF,IAELmxB,GAAU,GACV4S,EAAU5S,EAAQnxB,IAEtB,SAASgK,EAAO9K,EAAMgB,GAClB,GAAKgI,EAAKg8B,SASL,CACD,GAAW,OAAPhkC,EAEA,YADAhB,EAAK/M,KAAK,GAGV+N,EAAK,IACLhB,EAAK/M,KAAK+N,IAGNA,EAAK,OACLA,EAAK,MACThB,EAAK/M,KAAK,IAAQ+N,GAAM,GACxBhB,EAAK/M,KAAK,IAAa,GAAL+N,QArBN,CAChB,GAAW,MAAPA,EAEA,YADAhB,EAAK/M,KAAK,GAGV+N,EAAK,MACLA,EAAK,KACThB,EAAK/M,KAAK+N,IAkBlB,SAAS6jC,EAAU5S,EAAQnxB,GACvB,GAAIkI,EAAKi8B,YAAa,CAClBhT,GAAU,EACVnxB,EAAIzM,GAAK,GACTyM,EAAInE,GAAK,GACT,IAAIuoC,EAAS1oB,EAAkBkC,GAAGC,IAAM,MACxC,GAAe,IAAXsT,EACAiT,GAAU,SACT,GAAe,IAAXjT,EACLiT,GAAU,SACT,GAAe,IAAXjT,EACLiT,GAAU,QACT,IAAe,IAAXjT,EACL,OAEAiT,GAAU,IAGd,OAFAA,GAAU,KAAOpkC,EAAIzM,EAAI,IAAMyM,EAAInE,EAAI,WACvCqM,EAAKlW,QAAQoyC,GAGjB,GAAIl8B,EAAKm8B,YAuBL,OAtBAlT,GAAU,EACVnxB,EAAIzM,GAAK,GACTyM,EAAInE,GAAK,GACM,IAAXs1B,EACAA,EAAS,EACO,IAAXA,EACLA,EAAS,EACO,IAAXA,EACLA,EAAS,EACO,IAAXA,IACLA,EAAS,QACbjpB,EAAKlW,QAAQ0pB,EAAkBkC,GAAGC,IAAM,IAClCsT,EACA,KACY,IAAXA,EAAe,EAAI,GACpB,IACAnxB,EAAInE,EACJ,IACAmE,EAAIzM,EACJ,IACAyM,EAAIskC,MAAQ,OAItB,GAAIp8B,EAAKq8B,WAML,OALAvkC,EAAIzM,GAAK,GACTyM,EAAInE,GAAK,GACTmE,EAAIzM,IACJyM,EAAInE,SACJqM,EAAKlW,QAAQ0pB,EAAkBkC,GAAGC,IAAM,IAAMsT,EAAS,IAAMnxB,EAAIzM,EAAI,IAAMyM,EAAInE,EAAI,KAGvF,GAAIqM,EAAKs8B,SAUL,OATAxkC,EAAIzM,GAAK,GACTyM,EAAInE,GAAK,QACTqM,EAAKlW,QAAQ0pB,EAAkBkC,GAAGC,IAAM,OACf,KAAP,EAATsT,IAA6B,EAATA,EAAcA,GAAU,IAC/C,IACAnxB,EAAIzM,EACJ,IACAyM,EAAInE,GACc,KAAP,EAATs1B,GAAoB,IAAM,MAGtC,IAAIjyB,EAAO,GACX8K,EAAO9K,EAAMiyB,GACbnnB,EAAO9K,EAAMc,EAAIzM,GACjByW,EAAO9K,EAAMc,EAAInE,GACjBqM,EAAKlW,QAAQ0pB,EAAkBkC,GAAGC,IAAM,KAAO9c,OAAOC,aAAarB,MAAMoB,OAAQ7B,IAErF,SAAS4kC,EAAU5mB,GACf,IAAIiU,EACAhsB,EACAs/B,EACAC,EACAC,EACJ,OAAQznB,EAAG8mB,cAAgB9mB,EAAGjH,MAC1B,IAAK,YACDkb,EAAuB,OAAdjU,EAAGiU,aAAiCpiB,IAAdmO,EAAGiU,QAC3BjU,EAAGiU,OACS,OAAbjU,EAAG0nB,YAA+B71B,IAAbmO,EAAG0nB,MACpB1nB,EAAG0nB,MAAQ,EACX,KACN/W,EAAQ3G,SACRiK,EAAoB,IAAXA,EAAe,EAAe,IAAXA,EAAe,EAAIA,GAEnD,MACJ,IAAK,UACDA,EAAS,EACT,MACJ,IAAK,iBACDA,EAASjU,EAAGoU,OAAS,EACf,GACA,GACN,MACJ,IAAK,QACDH,EAASjU,EAAG2nB,OAAS,EACf,GACA,GACN,MAaR,OAXA1/B,EAAQ+X,EAAGK,SAAW,EAAI,EAC1BknB,EAAOvnB,EAAGQ,QAAU,EAAI,EACxBgnB,EAAOxnB,EAAGO,QAAU,GAAK,EACzBknB,EAAMx/B,EAAQs/B,EAAOC,EACjBx8B,EAAK48B,WACLH,GAAOD,EAEDx8B,EAAK68B,cACXJ,EAAM,GAEVxT,EAAU,IAAMwT,GAAO,GAAMxT,EACtBA,EAEXx/B,KAAKmS,SAAS5B,EAAYsC,yBAAyBrD,EAAI,aAAa,SAAU+b,GAG1E,GAFAA,EAAGzX,iBACHlD,EAAMiD,QACDjD,EAAMyiC,cAAeziC,EAAMiK,iBAAiBskB,qBAAqB5T,GAAtE,CAIA,GADA2mB,EAAW3mB,GACP3a,EAAMuiC,WAGN,OAFA5nB,EAAG8mB,aAAe,UAClBH,EAAW3mB,GACJ3a,EAAM8a,OAAOH,GAExB,IAAI+nB,EACA1iC,EAAMwiC,cACNE,EAAc,SAAU/V,GACf3sB,EAAMwiC,aAGXd,EAAS/U,IAEb3sB,EAAMnM,UAAU+M,iBAAiB,YAAa8hC,IAElD,IAAIjzC,EAAU,SAAUkrB,GASpB,OARI3a,EAAMwiC,cAAgBxiC,EAAM2iC,UAC5BrB,EAAW3mB,GAEX+nB,IACA1iC,EAAMnM,UAAUgP,oBAAoB,YAAa6/B,GACjDA,EAAc,MAElB1iC,EAAMnM,UAAUgP,oBAAoB,UAAWpT,GACxCuQ,EAAM8a,OAAOH,IAGxB,OADA3a,EAAMnM,UAAU+M,iBAAiB,UAAWnR,GACrCuQ,EAAM8a,OAAOH,QAExBvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyBrD,EAAI,SAAS,SAAU+b,GACtE,GAAK3a,EAAMyiC,YAePziC,EAAM2iC,UAAY3iC,EAAM4hC,aAAe5hC,EAAM8hC,cAEjDR,EAAW3mB,GACXA,EAAGzX,uBAjBC,IAAKlD,EAAM3P,OAAOuyC,cAAe,CAC7B,IAAI1sB,EAASlW,EAAM0/B,SAASmD,iBAAiBloB,GAC7C,GAAe,IAAXzE,EACA,OAIJ,IAFA,IAAI4sB,EAAW3pB,EAAkBkC,GAAGC,KAAOtb,EAAM49B,kBAAoB,IAAM,MAAQjjB,EAAG2nB,OAAS,EAAI,IAAM,KACrG3lC,EAAO,GACF5M,EAAI,EAAGA,EAAI4C,KAAK27B,IAAIpY,GAASnmB,IAClC4M,GAAQmmC,EAEZ9iC,EAAMvQ,QAAQkN,QAS1BvN,KAAKmS,SAAS5B,EAAYsC,yBAAyBrD,EAAI,SAAS,SAAU+b,GACtE,IAAI3a,EAAMyiC,YAGV,OADAziC,EAAM0/B,SAASqD,QAAQpoB,GAChB3a,EAAM8a,OAAOH,OAExBvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyBrD,EAAI,cAAc,SAAU+b,GAC3E,IAAI3a,EAAMyiC,YAGV,OADAziC,EAAM0/B,SAASsD,aAAaroB,GACrB3a,EAAM8a,OAAOH,OAExBvrB,KAAKmS,SAAS5B,EAAYsC,yBAAyBrD,EAAI,aAAa,SAAU+b,GAC1E,IAAI3a,EAAMyiC,YAGV,OADAziC,EAAM0/B,SAASuD,YAAYtoB,GACpB3a,EAAM8a,OAAOH,QAG5BwH,EAAS5yB,UAAUsU,QAAU,SAAUjM,EAAOC,GACtCzI,KAAK4S,UACL5S,KAAK4S,SAASuO,YAAY3Y,EAAOC,IAGzCsqB,EAAS5yB,UAAUqxC,oBAAsB,SAAUhpC,EAAOC,GAClDzI,KAAKof,WACLpf,KAAKof,UAAU00B,YAAYtrC,EAAOC,IAG1CsqB,EAAS5yB,UAAU0wC,kBAAoB,SAAUtlB,GACzCvrB,KAAK6a,kBAAoB7a,KAAK6a,iBAAiBylB,mBAAmB/U,GAClEvrB,KAAKiS,QAAQrM,UAAUC,IAAI,iBAG3B7F,KAAKiS,QAAQrM,UAAU4Z,OAAO,kBAGtCuT,EAAS5yB,UAAU2wC,WAAa,WACvB9wC,KAAKioC,cACNjoC,KAAKioC,YAAc,EACnBjoC,KAAKyU,QAAQzU,KAAKiB,OAAOiJ,EAAGlK,KAAKiB,OAAOiJ,KAGhD6oB,EAAS5yB,UAAU4zC,OAAS,SAAU9mC,GAElC,IAAI6B,OADc,IAAd7B,IAAwBA,GAAY,GAExC,IAAI+mC,EAA2D,YAA5Ch0C,KAAKwL,QAAQ2Z,2BAC5B6uB,GACAllC,EAAU9O,KAAKkuC,WACVp/B,GAAWA,EAAQlO,SAAWZ,KAAK6B,MAAQiN,EAAQ3N,IAAI,GAAGtB,EAAS8B,wBAA0B3B,KAAK4vC,cACnG9gC,EAAU9O,KAAKiB,OAAOyjB,aAAa1kB,KAAK4vC,YAAa3iC,GACrDjN,KAAKkuC,WAAap/B,GAEtBA,EAAQ7B,UAAYA,GAGpB6B,EAAU9O,KAAKiB,OAAOyjB,aAAa1kB,KAAK4vC,YAAa3iC,GAEzD,IAAIgnC,EAASj0C,KAAKiB,OAAO+Z,MAAQhb,KAAKiB,OAAOokB,UACzC6uB,EAAYl0C,KAAKiB,OAAO+Z,MAAQhb,KAAKiB,OAAOqkB,aAChD,GAA8B,IAA1BtlB,KAAKiB,OAAOokB,UAAiB,CAC7B,IAAI8uB,EAAsBn0C,KAAKiB,OAAOC,MAAMkzC,OACxCF,IAAcl0C,KAAKiB,OAAOC,MAAMN,OAAS,EACrCozC,EACIG,EACAn0C,KAAKiB,OAAOC,MAAMmzC,UAAUzlC,SAASE,GAGrC9O,KAAKiB,OAAOC,MAAMV,KAAKsO,EAAQpL,SAInC1D,KAAKiB,OAAOC,MAAMV,KAAKsO,GAI3B9O,KAAKiB,OAAOC,MAAML,OAAOqzC,EAAY,EAAG,EAAG,EAAiBplC,EAAQpL,QAAUoL,GAE7EqlC,EAOGn0C,KAAKqvC,iBACLrvC,KAAKiB,OAAO0T,MAAQpR,KAAKC,IAAIxD,KAAKiB,OAAO0T,MAAQ,EAAG,KAPxD3U,KAAKiB,OAAO+Z,QACPhb,KAAKqvC,gBACNrvC,KAAKiB,OAAO0T,aASnB,CACD,IAAI2/B,EAAqBJ,EAAYD,EAAS,EAC9Cj0C,KAAKiB,OAAOC,MAAMqzC,cAAcN,EAAS,EAAGK,EAAqB,GAAI,GACrEt0C,KAAKiB,OAAOC,MAAMiN,IAAI+lC,EAAW,EAAiBplC,EAAQpL,QAAUoL,GAEnE9O,KAAKqvC,iBACNrvC,KAAKiB,OAAO0T,MAAQ3U,KAAKiB,OAAO+Z,OAEpChb,KAAKw0C,YAAYx0C,KAAKiB,OAAOokB,WAC7BrlB,KAAKw0C,YAAYx0C,KAAKiB,OAAOqkB,cAC7BtlB,KAAKshB,KAAK,SAAUthB,KAAKiB,OAAO0T,QAEpCoe,EAAS5yB,UAAUyT,YAAc,SAAU6gC,EAAMC,GAC7C,GAAID,EAAO,EAAG,CACV,GAA0B,IAAtBz0C,KAAKiB,OAAO0T,MACZ,OAEJ3U,KAAKqvC,gBAAiB,OAEjBoF,EAAOz0C,KAAKiB,OAAO0T,OAAS3U,KAAKiB,OAAO+Z,QAC7Chb,KAAKqvC,gBAAiB,GAE1B,IAAIsF,EAAW30C,KAAKiB,OAAO0T,MAC3B3U,KAAKiB,OAAO0T,MAAQpR,KAAKC,IAAID,KAAKE,IAAIzD,KAAKiB,OAAO0T,MAAQ8/B,EAAMz0C,KAAKiB,OAAO+Z,OAAQ,GAChF25B,IAAa30C,KAAKiB,OAAO0T,QAGxB+/B,GACD10C,KAAKshB,KAAK,SAAUthB,KAAKiB,OAAO0T,OAEpC3U,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,KAEhC6pB,EAAS5yB,UAAU+zB,YAAc,SAAUC,GACvCn0B,KAAK4T,YAAYugB,GAAan0B,KAAKkJ,KAAO,KAE9C6pB,EAAS5yB,UAAUi0B,YAAc,WAC7Bp0B,KAAK4T,aAAa5T,KAAKiB,OAAO0T,QAElCoe,EAAS5yB,UAAUk0B,eAAiB,WAChCr0B,KAAK4T,YAAY5T,KAAKiB,OAAO+Z,MAAQhb,KAAKiB,OAAO0T,QAErDoe,EAAS5yB,UAAUm0B,aAAe,SAAUtzB,GACxC,IAAI4zC,EAAe5zC,EAAOhB,KAAKiB,OAAO0T,MACjB,IAAjBigC,GACA50C,KAAK4T,YAAYghC,IAGzB7hB,EAAS5yB,UAAUo0B,MAAQ,SAAUhnB,GACjC,IAAIqD,EAAQ5Q,KACRA,KAAK60C,aAGJtnC,IAGLvN,KAAKkvC,YAAY1uC,KAAK+M,GAClBvN,KAAKwL,QAAQuiC,iBAAmB/tC,KAAKovC,oBAAsBpvC,KAAKkvC,YAAYtuC,QAAUusC,IACtFntC,KAAKK,QAAQ0pB,EAAkBkC,GAAGuM,KAClCx4B,KAAKovC,oBAAqB,IAEzBpvC,KAAKmvC,kBAAoBnvC,KAAKkvC,YAAYtuC,OAAS,IACpDZ,KAAKmvC,kBAAmB,EACxB36B,YAAW,WACP5D,EAAMkkC,oBAIlB/hB,EAAS5yB,UAAU20C,YAAc,WAC7B,IAAIlkC,EAAQ5Q,KACRA,KAAK60C,cACL70C,KAAKkvC,YAAc,IAEvB,IAAI6F,EAAa/0C,KAAKkvC,YAAYruC,OAAO,EAAGusC,GAC5C,MAAO2H,EAAWn0C,OAAS,EAAG,CAC1B,IAAI2M,EAAOwnC,EAAWvhC,QAClBxT,KAAKovC,oBAA4C,IAAtB2F,EAAWn0C,QAA4C,IAA5BZ,KAAKkvC,YAAYtuC,SACvEZ,KAAKK,QAAQ0pB,EAAkBkC,GAAGqM,KAClCt4B,KAAKovC,oBAAqB,GAE9BpvC,KAAKg1C,cAAgBh1C,KAAKiB,OAAOiJ,EACjClK,KAAKi1C,YAAcj1C,KAAKiB,OAAOiJ,EAC/BlK,KAAKsvC,cAAc4F,MAAM3nC,GACzBvN,KAAKw0C,YAAYx0C,KAAKiB,OAAOiJ,GAC7BlK,KAAKyU,QAAQzU,KAAKg1C,cAAeh1C,KAAKi1C,aAEtCj1C,KAAKkvC,YAAYtuC,OAAS,EAC1B4T,YAAW,WAAc,OAAO5D,EAAMkkC,gBAAkB,GAGxD90C,KAAKmvC,kBAAmB,GAGhCpc,EAAS5yB,UAAUkzB,QAAU,SAAU9lB,GACnCvN,KAAKu0B,MAAMhnB,EAAO,SAEtBwlB,EAAS5yB,UAAUqzB,4BAA8B,SAAUC,GACvDzzB,KAAKouC,uBAAyB3a,GAElCV,EAAS5yB,UAAUuzB,oBAAsB,SAAU5X,EAAOzb,EAASmL,GAC/D,IAAIooB,EAAY5zB,KAAKof,UAAUsU,oBAAoB5X,EAAOzb,EAASmL,GAEnE,OADAxL,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,GACrB0qB,GAEXb,EAAS5yB,UAAUwzB,sBAAwB,SAAUC,GAC7C5zB,KAAKof,UAAUuU,sBAAsBC,IACrC5zB,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,IAGpC6pB,EAAS5yB,UAAUC,wBAA0B,SAAUC,GACnD,IAAIK,EAAWV,KAAK4S,SAASxS,wBAAwBC,GAErD,OADAL,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,GACrBxI,GAEXqyB,EAAS5yB,UAAUM,0BAA4B,SAAUC,GACjDV,KAAK4S,SAASnS,0BAA0BC,IACxCV,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,IAGpCzJ,OAAOC,eAAeqzB,EAAS5yB,UAAW,UAAW,CACjDgB,IAAK,WACD,OAAOnB,KAAKiB,OAAOmjB,SAEvBlK,YAAY,EACZE,cAAc,IAElB2Y,EAAS5yB,UAAUwmB,UAAY,SAAUkN,GACrC,GAAI7zB,KAAKiB,SAAWjB,KAAKq9B,QAAQoT,OAGjC,OAAOzwC,KAAKiB,OAAO0lB,UAAU3mB,KAAKiB,OAAO+Z,MAAQhb,KAAKiB,OAAOiJ,EAAI2pB,IAErEd,EAAS5yB,UAAU2zB,aAAe,WAC9B,QAAO9zB,KAAK6a,kBAAmB7a,KAAK6a,iBAAiBiZ,cAEzDf,EAAS5yB,UAAU4a,aAAe,WAC9B,OAAO/a,KAAK6a,iBAAmB7a,KAAK6a,iBAAiB6a,cAAgB,IAEzE3C,EAAS5yB,UAAU2c,eAAiB,WAC5B9c,KAAK6a,kBACL7a,KAAK6a,iBAAiBiC,kBAG9BiW,EAAS5yB,UAAU4zB,UAAY,WACvB/zB,KAAK6a,kBACL7a,KAAK6a,iBAAiBkZ,aAG9BhB,EAAS5yB,UAAU6zB,YAAc,SAAUxrB,EAAOC,GAC1CzI,KAAK6a,kBACL7a,KAAK6a,iBAAiBmZ,YAAYxrB,EAAOC,IAGjDsqB,EAAS5yB,UAAUgxC,SAAW,SAAU5T,GACpC,GAAIv9B,KAAKouC,yBAAiE,IAAvCpuC,KAAKouC,uBAAuB7Q,GAC3D,OAAO,EAEX,IAAKv9B,KAAKuxC,mBAAmBnH,QAAQ7M,GAIjC,OAHIv9B,KAAKiB,OAAO+Z,QAAUhb,KAAKiB,OAAO0T,OAClC3U,KAAKq0B,kBAEF,EAEX,IAAI1Z,EAASuyB,EAAW5hB,sBAAsBiS,EAAOv9B,KAAKwuC,kBAAmBxuC,KAAKs1B,QAAQhhB,MAAOtU,KAAKwL,QAAQigB,iBAE9G,GADAzrB,KAAK6wC,kBAAkBtT,GACH,IAAhB5iB,EAAO2J,MAA8B,IAAhB3J,EAAO2J,KAAY,CACxC,IAAI6wB,EAAcn1C,KAAKkJ,KAAO,EAE9B,OADAlJ,KAAK4T,YAA4B,IAAhB+G,EAAO2J,MAAc6wB,EAAcA,GAC7Cn1C,KAAK0rB,OAAO6R,GAAO,GAK9B,OAHoB,IAAhB5iB,EAAO2J,MACPtkB,KAAK+zB,cAEL/zB,KAAKo1C,mBAAmBp1C,KAAKs1B,QAASiI,KAGtC5iB,EAAO+Q,QACP1rB,KAAK0rB,OAAO6R,GAAO,IAElB5iB,EAAO3W,MAGZhE,KAAKshB,KAAK,UAAWic,GACrBv9B,KAAKshB,KAAK,MAAO3G,EAAO3W,IAAKu5B,GAC7Bv9B,KAAK8wC,aACL9wC,KAAKK,QAAQsa,EAAO3W,KACbhE,KAAK0rB,OAAO6R,GAAO,MAE9BxK,EAAS5yB,UAAUi1C,mBAAqB,SAAU9f,EAAS/J,GACvD,IAAI8pB,EAAiB/f,EAAQhhB,QAAUtU,KAAKwL,QAAQigB,iBAAmBF,EAAGM,SAAWN,EAAGO,UAAYP,EAAGQ,SAClGuJ,EAAQ8B,aAAe7L,EAAGM,QAAUN,EAAGO,UAAYP,EAAGQ,QAC3D,MAAgB,aAAZR,EAAGjH,KACI+wB,EAEJA,KAAmB9pB,EAAGS,SAAWT,EAAGS,QAAU,KAEzD+G,EAAS5yB,UAAUm1C,UAAY,SAAU9L,GACrCxpC,KAAK8uC,OAAStF,EACdxpC,KAAK4uC,QAAU5uC,KAAK+uC,SAASvF,IAEjCzW,EAAS5yB,UAAUo1C,YAAc,SAAU/L,EAAGoF,GAC1C5uC,KAAK+uC,SAASvF,GAAKoF,EACf5uC,KAAK8uC,SAAWtF,IAChBxpC,KAAK4uC,QAAUA,IAGvB7b,EAAS5yB,UAAUmxC,OAAS,SAAU/lB,GAClCvrB,KAAK6wC,kBAAkBtlB,IAE3BwH,EAAS5yB,UAAUixC,UAAY,SAAU7lB,GACrC,IAAIvnB,EACJ,GAAIhE,KAAKouC,yBAA8D,IAApCpuC,KAAKouC,uBAAuB7iB,GAC3D,OAAO,EAGX,GADAvrB,KAAK0rB,OAAOH,GACRA,EAAGiqB,SACHxxC,EAAMunB,EAAGiqB,cAER,GAAiB,OAAbjqB,EAAG0nB,YAA+B71B,IAAbmO,EAAG0nB,MAC7BjvC,EAAMunB,EAAGS,YAER,IAAiB,IAAbT,EAAG0nB,OAA+B,IAAhB1nB,EAAGiqB,SAI1B,OAAO,EAHPxxC,EAAMunB,EAAG0nB,MAKb,SAAKjvC,IAASunB,EAAGM,QAAUN,EAAGO,SAAWP,EAAGQ,WAAa/rB,KAAKo1C,mBAAmBp1C,KAAKs1B,QAAS/J,MAG/FvnB,EAAMoL,OAAOC,aAAarL,GAC1BhE,KAAKshB,KAAK,WAAYtd,EAAKunB,GAC3BvrB,KAAKshB,KAAK,MAAOtd,EAAKunB,GACtBvrB,KAAK8wC,aACL9wC,KAAKK,QAAQ2D,IACN,IAEX+uB,EAAS5yB,UAAUs1C,KAAO,WACtB,IAAI7kC,EAAQ5Q,KACZA,KAAKshB,KAAK,QACNthB,KAAK01C,cACL11C,KAAK0vC,aAAa1hB,gBAElBhuB,KAAK21C,gBACL31C,KAAKiS,QAAQrM,UAAUC,IAAI,sBAC3Bud,aAAapjB,KAAK41C,kBAClB51C,KAAK41C,iBAAmBvrC,OAAOmK,YAAW,WACtC5D,EAAMqB,QAAQrM,UAAU4Z,OAAO,wBAChC,OAGXuT,EAAS5yB,UAAU01C,IAAM,SAAUnzC,EAAM6K,GAChCvN,KAAKwL,QAAQoiC,OAEb5tC,KAAKyxC,SAAS3jB,SAAY9tB,KAAKyxC,SAAS3jB,QAAQ+nB,KAErD71C,KAAKyxC,SAAS3jB,QAAQ+nB,IAAInzC,EAAM6K,IAEpCwlB,EAAS5yB,UAAU6vC,MAAQ,SAAUttC,EAAM6K,GAClCvN,KAAKwL,QAAQoiC,OAEb5tC,KAAKyxC,SAAS3jB,SAAY9tB,KAAKyxC,SAAS3jB,QAAQkiB,OAErDhwC,KAAKyxC,SAAS3jB,QAAQkiB,MAAMttC,EAAM6K,IAEtCwlB,EAAS5yB,UAAUkJ,OAAS,SAAUzH,EAAGsI,GACjC4rC,MAAMl0C,IAAMk0C,MAAM5rC,KAGlBtI,IAAM5B,KAAK6B,MAAQqI,IAAMlK,KAAKkJ,MAM9BtH,EAAI,IACJA,EAAI,GACJsI,EAAI,IACJA,EAAI,GACRlK,KAAKq9B,QAAQh0B,OAAOzH,EAAGsI,GACvBlK,KAAK6B,KAAOD,EACZ5B,KAAKkJ,KAAOgB,EACZlK,KAAKq9B,QAAQ9X,cAAcvlB,KAAK6B,MAC5B7B,KAAK2f,aACL3f,KAAK2f,YAAYoV,QAAQ/0B,KAAKwL,SAElCxL,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,GAC5BlJ,KAAKshB,KAAK,SAAU,CAAEzf,KAAMD,EAAGsH,KAAMgB,MAjB7BlK,KAAK2f,aAAiB3f,KAAK2f,YAAY1d,OAAUjC,KAAK2f,YAAY9V,QAClE7J,KAAK2f,YAAYoV,QAAQ/0B,KAAKwL,WAkB1CunB,EAAS5yB,UAAUq0C,YAAc,SAAUtqC,GACnCA,EAAIlK,KAAKg1C,gBACTh1C,KAAKg1C,cAAgB9qC,GACrBA,EAAIlK,KAAKi1C,cACTj1C,KAAKi1C,YAAc/qC,IAE3B6oB,EAAS5yB,UAAU41C,SAAW,WAC1B/1C,KAAKg1C,cAAgB,EACrBh1C,KAAKi1C,YAAcj1C,KAAKkJ,KAAO,GAEnC6pB,EAAS5yB,UAAU+gB,MAAQ,WACvB,GAA0B,IAAtBlhB,KAAKiB,OAAO+Z,OAAiC,IAAlBhb,KAAKiB,OAAOiJ,EAA3C,CAGAlK,KAAKiB,OAAOC,MAAMiN,IAAI,EAAGnO,KAAKiB,OAAOC,MAAMC,IAAInB,KAAKiB,OAAO+Z,MAAQhb,KAAKiB,OAAOiJ,IAC/ElK,KAAKiB,OAAOC,MAAMN,OAAS,EAC3BZ,KAAKiB,OAAO0T,MAAQ,EACpB3U,KAAKiB,OAAO+Z,MAAQ,EACpBhb,KAAKiB,OAAOiJ,EAAI,EAChB,IAAK,IAAIvJ,EAAI,EAAGA,EAAIX,KAAKkJ,KAAMvI,IAC3BX,KAAKiB,OAAOC,MAAMV,KAAKR,KAAKiB,OAAOyjB,aAAa7kB,EAASmkB,eAE7DhkB,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,GAC5BlJ,KAAKshB,KAAK,SAAUthB,KAAKiB,OAAO0T,SAEpCoe,EAAS5yB,UAAUoO,GAAK,SAAUynC,GAC9B,OAAIA,EACO,CAACh2C,KAAK4vC,YAAa/vC,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,gBAEnF,CAACvF,EAASmkB,aAAcnkB,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBAE/F2tB,EAAS5yB,UAAU81C,GAAK,SAAUx7B,GAC9B,OAAsD,KAA9Cza,KAAKwL,QAAQgiC,SAAW,IAAIjyB,QAAQd,IAEhDsY,EAAS5yB,UAAUE,QAAU,SAAUkN,GAC/BvN,KAAKwL,QAAQsiC,eAGb9tC,KAAK6a,kBAAoB7a,KAAK6a,iBAAiBiZ,cAC/C9zB,KAAK6a,iBAAiBiC,iBAEtB9c,KAAKiB,OAAO+Z,QAAUhb,KAAKiB,OAAO0T,OAClC3U,KAAKq0B,iBAETr0B,KAAKshB,KAAK,OAAQ/T,KAEtBwlB,EAAS5yB,UAAU+1C,YAAc,SAAUC,GACvCn2C,KAAKshB,KAAK,QAAS60B,IAEvBpjB,EAAS5yB,UAAU+N,MAAQ,WACvBlO,KAAKiB,OAAOiJ,IACRlK,KAAKiB,OAAOiJ,EAAIlK,KAAKiB,OAAOqkB,eAC5BtlB,KAAKiB,OAAOiJ,IACZlK,KAAK+zC,UAEL/zC,KAAKiB,OAAOW,GAAK5B,KAAK6B,MACtB7B,KAAKiB,OAAOW,KAGpBmxB,EAAS5yB,UAAUi2C,aAAe,WAC9B,GAAIp2C,KAAKiB,OAAOiJ,IAAMlK,KAAKiB,OAAOokB,UAAW,CACzC,IAAIivB,EAAqBt0C,KAAKiB,OAAOqkB,aAAetlB,KAAKiB,OAAOokB,UAChErlB,KAAKiB,OAAOC,MAAMqzC,cAAcv0C,KAAKiB,OAAOiJ,EAAIlK,KAAKiB,OAAO+Z,MAAOs5B,EAAoB,GACvFt0C,KAAKiB,OAAOC,MAAMiN,IAAInO,KAAKiB,OAAOiJ,EAAIlK,KAAKiB,OAAO+Z,MAAOhb,KAAKiB,OAAOyjB,aAAa1kB,KAAK4vC,cACvF5vC,KAAKw0C,YAAYx0C,KAAKiB,OAAOokB,WAC7BrlB,KAAKw0C,YAAYx0C,KAAKiB,OAAOqkB,mBAG7BtlB,KAAKiB,OAAOiJ,KAGpB6oB,EAAS5yB,UAAUoV,MAAQ,WACvBvV,KAAKwL,QAAQtC,KAAOlJ,KAAKkJ,KACzBlJ,KAAKwL,QAAQ3J,KAAO7B,KAAK6B,KACzB,IAAI4xB,EAAwBzzB,KAAKouC,uBAC7BiI,EAAer2C,KAAKsvC,cACpBrH,EAAcjoC,KAAKioC,YACvBjoC,KAAKmuC,SACLnuC,KAAKouC,uBAAyB3a,EAC9BzzB,KAAKsvC,cAAgB+G,EACrBr2C,KAAKioC,YAAcA,EACnBjoC,KAAKyU,QAAQ,EAAGzU,KAAKkJ,KAAO,GACxBlJ,KAAKswC,UACLtwC,KAAKswC,SAASC,kBAGtBxd,EAAS5yB,UAAUm2C,OAAS,WACxBt2C,KAAKiB,OAAOslB,KAAKvmB,KAAKiB,OAAOW,IAAK,GAEtCmxB,EAAS5yB,UAAUurB,OAAS,SAAUH,EAAIgrB,GACtC,GAAKv2C,KAAKwL,QAAQqiC,cAAiB0I,EAKnC,OAFAhrB,EAAGzX,iBACHyX,EAAGqK,mBACI,GAEX7C,EAAS5yB,UAAUq2C,WAAa,SAAUC,EAAIC,EAAIC,GAC9C,IAAIC,EAAQH,GAAM,GAAOC,GAAM,EAAKC,EACpC,GAA8B,OAA1BE,EAAgBD,SAA4Cx5B,IAA1By5B,EAAgBD,GAClD,OAAOC,EAAgBD,GAU3B,IARA,IAGIz/B,EACA2/B,EACAC,EACAC,EACApM,EAPAqM,EAAQhT,IACRiT,GAAM,EACNv2C,EAAI,EAMDA,EAAIid,EAAeiU,oBAAoBjxB,OAAQD,IAAK,CAMvD,GALAwW,EAAIyG,EAAeiU,oBAAoBlxB,GAAG4uB,KAC1CunB,EAAK3/B,IAAM,GACX4/B,EAAK5/B,IAAM,GAAK,IAChB6/B,EAAK7/B,IAAM,EAAI,IACfyzB,EAAOuM,EAAmBV,EAAIC,EAAIC,EAAIG,EAAIC,EAAIC,GACjC,IAATpM,EAAY,CACZsM,EAAKv2C,EACL,MAEAiqC,EAAOqM,IACPA,EAAQrM,EACRsM,EAAKv2C,GAGb,OAAOk2C,EAAgBD,GAAQM,GAEnCnkB,EAAS5yB,UAAUw1C,YAAc,WAC7B,OAAO,GAEX5iB,EAAS5yB,UAAUu1C,WAAa,WAC5B,MAAkC,UAA3B11C,KAAKwL,QAAQiiC,WAEjB1a,EA/oCI,CAgpCbpV,EAAeoE,cAEjB,SAASsvB,EAAwB9lB,GAC7B,OAAsB,KAAfA,EAAGS,SACS,KAAfT,EAAGS,SACY,KAAfT,EAAGS,QAJXrsB,EAAQozB,SAAWA,EAMnB,IAAI8jB,EAAkB,GACtB,SAASM,EAAmBV,EAAIC,EAAIC,EAAIG,EAAIC,EAAIC,GAC5C,OAAOzzC,KAAK6zC,IAAI,IAAMX,EAAKK,GAAK,GAC1BvzC,KAAK6zC,IAAI,IAAMV,EAAKK,GAAK,GACzBxzC,KAAK6zC,IAAI,IAAMT,EAAKK,GAAK,K,kCCxuCnCv3C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAImqB,EAAoB,EAAQ,QAC5B4W,EAAmB,WACnB,SAASA,EAAgB0W,EAAat3C,GAClC,IAAI4N,EACJ3N,KAAKq3C,YAAcA,EACnBr3C,KAAKD,UAAYA,EACjBC,KAAKs3C,OAASt3C,KAAKD,UAAUkB,OAAOC,MACpClB,KAAKu3C,UAAYv3C,KAAKD,UAAUkB,OAAOW,EACvC5B,KAAKw3C,UAAYx3C,KAAKD,UAAUkB,OAAOiJ,EACvC,IAAIutC,EAAcz3C,KAAKD,UAAU4jB,YAAYC,UAAU5jB,KAAKq3C,YAAar3C,KAAKD,UAAUkS,QAASjS,KAAKD,UAAU4f,YAAa3f,KAAKD,UAAU8B,KAAM7B,KAAKD,UAAUmJ,MAAM,GACnKuuC,IACA9pC,EAAK8pC,EAAYrZ,KAAI,SAAUsZ,GAC3B,OAAOA,EAAa,KACpB13C,KAAK23C,QAAUhqC,EAAG,GAAI3N,KAAK43C,QAAUjqC,EAAG,IA+GpD,OA5GAgzB,EAAgBxgC,UAAUygC,KAAO,WACzB5gC,KAAKq3C,YAAYxrB,aAA2BzO,IAAjBpd,KAAK23C,cAA0Cv6B,IAAjBpd,KAAK43C,SAC9D53C,KAAKD,UAAUM,QAAQL,KAAK63C,oBAGpClX,EAAgBxgC,UAAU03C,gBAAkB,WACxC,OAAK73C,KAAKD,UAAUkB,OAAOuyC,cAGpBxzC,KAAK83C,wBAFD93C,KAAK+3C,oBAAsB/3C,KAAKg4C,sBAAwBh4C,KAAKi4C,uBAI5EtX,EAAgBxgC,UAAU43C,kBAAoB,WAC1C,OAA0C,IAAtC/3C,KAAKg4C,sBAAsBp3C,OACpB,GAEJs3C,EAAOl4C,KAAKm4C,YAAYn4C,KAAKu3C,UAAWv3C,KAAKw3C,UAAWx3C,KAAKu3C,UAAWv3C,KAAKw3C,UAAYx3C,KAAKo4C,mBAAmBp4C,KAAKw3C,YAAY,GAAO52C,OAAQZ,KAAKq4C,UAAU,OAE3K1X,EAAgBxgC,UAAU63C,oBAAsB,WAC5C,IAAI3vC,EAAWrI,KAAKw3C,UAAYx3C,KAAKo4C,mBAAmBp4C,KAAKw3C,WACzDlvC,EAAStI,KAAK43C,QAAU53C,KAAKo4C,mBAAmBp4C,KAAK43C,SACrDU,EAAa/0C,KAAK27B,IAAI72B,EAAWC,GAAUtI,KAAKu4C,oBACpD,OAAOL,EAAOI,EAAYt4C,KAAKq4C,UAAUr4C,KAAKw4C,wBAElD7X,EAAgBxgC,UAAU83C,oBAAsB,WAC5C,IAAI5vC,EAEAA,EADArI,KAAKg4C,sBAAsBp3C,OAAS,EACzBZ,KAAK43C,QAAU53C,KAAKo4C,mBAAmBp4C,KAAK43C,SAG5C53C,KAAKw3C,UAEpB,IAAIlvC,EAAStI,KAAK43C,QACda,EAAYz4C,KAAK04C,uBACrB,OAAOR,EAAOl4C,KAAKm4C,YAAYn4C,KAAKu3C,UAAWlvC,EAAUrI,KAAK23C,QAASrvC,EAAsB,MAAdmwC,GAAmB73C,OAAQZ,KAAKq4C,UAAUI,KAE7H9X,EAAgBxgC,UAAU23C,sBAAwB,WAC9C,IAAIW,EAAYz4C,KAAK04C,uBACrB,OAAOR,EAAO30C,KAAK27B,IAAIl/B,KAAKu3C,UAAYv3C,KAAK23C,SAAU33C,KAAKq4C,UAAUI,KAE1E9X,EAAgBxgC,UAAUo4C,kBAAoB,WAI1C,IAHA,IAAII,EAAc,EACdtwC,EAAWrI,KAAKw3C,UAAYx3C,KAAKo4C,mBAAmBp4C,KAAKw3C,WACzDlvC,EAAStI,KAAK43C,QAAU53C,KAAKo4C,mBAAmBp4C,KAAK43C,SAChDj3C,EAAI,EAAGA,EAAI4C,KAAK27B,IAAI72B,EAAWC,GAAS3H,IAAK,CAClD,IAAI83C,EAA0C,MAA9Bz4C,KAAKw4C,sBAAgC,EAAI,EACrDx4C,KAAKs3C,OAAOn2C,IAAIkH,EAAYowC,EAAY93C,GAAIsM,WAC5C0rC,IAGR,OAAOA,GAEXhY,EAAgBxgC,UAAUi4C,mBAAqB,SAAUQ,GACrD,IAAI73B,EAAW,EACX83B,EAAY74C,KAAKs3C,OAAOn2C,IAAIy3C,GAAY3rC,UAC5C,MAAO4rC,GAAaD,GAAc,GAAKA,EAAa54C,KAAKD,UAAUmJ,KAC/D6X,IACA63B,IACAC,EAAY74C,KAAKs3C,OAAOn2C,IAAIy3C,GAAY3rC,UAE5C,OAAO8T,GAEX4f,EAAgBxgC,UAAUu4C,qBAAuB,WAC7C,IAAIrwC,EAOJ,OALIA,EADArI,KAAKg4C,sBAAsBp3C,OAAS,EACzBZ,KAAK43C,QAAU53C,KAAKo4C,mBAAmBp4C,KAAK43C,SAG5C53C,KAAKw3C,UAEfx3C,KAAKu3C,UAAYv3C,KAAK23C,SACvBtvC,GAAYrI,KAAK43C,SAChB53C,KAAKu3C,WAAav3C,KAAK23C,SACpBtvC,EAAWrI,KAAK43C,QACb,IAEJ,KAEXjX,EAAgBxgC,UAAUq4C,mBAAqB,WAC3C,OAAIx4C,KAAKw3C,UAAYx3C,KAAK43C,QACf,IAEJ,KAEXjX,EAAgBxgC,UAAUg4C,YAAc,SAAU11C,EAAU4F,EAAU2N,EAAQ1N,EAAQwwC,GAClF,IAAIC,EAAat2C,EACbm2C,EAAavwC,EACb2wC,EAAY,GAChB,MAAOD,IAAe/iC,GAAU4iC,IAAetwC,EAC3CywC,GAAcD,EAAU,GAAK,EACzBA,GAAWC,EAAa/4C,KAAKD,UAAU8B,KAAO,GAC9Cm3C,GAAah5C,KAAKD,UAAUkB,OAAOK,4BAA4Bs3C,GAAY,EAAOn2C,EAAUs2C,GAC5FA,EAAa,EACbt2C,EAAW,EACXm2C,MAEME,GAAWC,EAAa,IAC9BC,GAAah5C,KAAKD,UAAUkB,OAAOK,4BAA4Bs3C,GAAY,EAAO,EAAGn2C,EAAW,GAChGs2C,EAAa/4C,KAAKD,UAAU8B,KAAO,EACnCY,EAAWs2C,EACXH,KAGR,OAAOI,EAAYh5C,KAAKD,UAAUkB,OAAOK,4BAA4Bs3C,GAAY,EAAOn2C,EAAUs2C,IAEtGpY,EAAgBxgC,UAAUk4C,UAAY,SAAUI,GAC5C,IAAIzF,EAAMhzC,KAAKD,UAAUyuC,kBAAoB,IAAM,IACnD,OAAOzkB,EAAkBkC,GAAGC,IAAM8mB,EAAMyF,GAErC9X,EA3HW,GA8HtB,SAASuX,EAAOe,EAAOC,GACnBD,EAAQ11C,KAAK6Y,MAAM68B,GAEnB,IADA,IAAIE,EAAM,GACDx4C,EAAI,EAAGA,EAAIs4C,EAAOt4C,IACvBw4C,GAAOD,EAEX,OAAOC,EAPXx5C,EAAQghC,gBAAkBA,G,kCC/H1B,IAAIlxB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI2Q,EAAc,EAAQ,QAC1B,SAASg5B,EAAE6P,EAAKC,GACZ,IAAIliC,EAAIkiC,EAAOD,EACXpiB,EAAM,IAAIlzB,MAAMqT,GACpB,MAAOA,IACH6f,EAAI7f,KAAOkiC,EAEf,OAAOriB,EAEX,IAAIsiB,EAAmB,WACnB,SAASA,EAAgB14C,GACrBZ,KAAK+rC,MAA+B,qBAAfvzB,WACf,IAAI1U,MAAMlD,GACV,IAAI4X,WAAW5X,GAUzB,OARA04C,EAAgBn5C,UAAU0F,IAAM,SAAUX,EAAMq0C,EAAOC,EAAQzxB,GAC3D/nB,KAAK+rC,MAAMwN,GAAS,EAAIr0C,IAAmB,EAATs0C,IAAe,QAAgBp8B,IAAT2K,EAAsBwxB,EAAQxxB,IAE1FuxB,EAAgBn5C,UAAUs5C,QAAU,SAAUC,EAAOH,EAAOC,EAAQzxB,GAChE,IAAK,IAAIpnB,EAAI,EAAGA,EAAI+4C,EAAM94C,OAAQD,IAC9BX,KAAK6F,IAAI6zC,EAAM/4C,GAAI44C,EAAOC,EAAQzxB,IAGnCuxB,EAdW,GAgBtB35C,EAAQ25C,gBAAkBA,EAC1B,IAAIK,EAAapQ,EAAE,GAAM,KACrBqQ,EAAcrQ,EAAE,EAAM,IAC1BqQ,EAAYp5C,KAAK,IACjBo5C,EAAYp5C,KAAKwN,MAAM4rC,EAAarQ,EAAE,GAAM,KAC5C,IAAIsQ,EAAqB,GACzBl6C,EAAQm6C,uBAAyB,WAC7B,IAEIP,EAFAxN,EAAQ,IAAIuN,EAAgB,MAC5BS,EAASxQ,EAAE,EAAG,IAElB,IAAKgQ,KAASQ,EACV,IAAK,IAAI70C,EAAO,EAAGA,EAAO,MAAOA,EAC7B6mC,EAAMlmC,IAAIX,EAAMq0C,EAAO,EAAG,GAIlC,IAAKA,KADLxN,EAAM0N,QAAQE,EAAY,EAAG,EAAG,GAClBI,EACVhO,EAAM0N,QAAQ,CAAC,GAAM,GAAM,IAAM,KAAOF,EAAO,EAAG,GAClDxN,EAAM0N,QAAQlQ,EAAE,IAAM,KAAOgQ,EAAO,EAAG,GACvCxN,EAAM0N,QAAQlQ,EAAE,IAAM,KAAOgQ,EAAO,EAAG,GACvCxN,EAAMlmC,IAAI,IAAM0zC,EAAO,EAAG,GAC1BxN,EAAMlmC,IAAI,GAAM0zC,EAAO,GAAI,GAC3BxN,EAAMlmC,IAAI,IAAM0zC,EAAO,EAAG,GAC1BxN,EAAM0N,QAAQ,CAAC,IAAM,IAAM,KAAOF,EAAO,EAAG,GAC5CxN,EAAMlmC,IAAI,IAAM0zC,EAAO,GAAI,GAC3BxN,EAAMlmC,IAAI,IAAM0zC,EAAO,GAAI,GAgF/B,OA9EAxN,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAMlmC,IAAI,GAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQE,EAAY,EAAG,EAAG,GAChC5N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQ,CAAC,IAAM,GAAM,GAAM,GAAM,GAAO,EAAG,EAAG,GACpD1N,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQ,CAAC,GAAM,GAAM,IAAO,EAAG,EAAG,GACxC1N,EAAM0N,QAAQE,EAAY,EAAG,EAAG,GAChC5N,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAMlmC,IAAI,GAAM,EAAG,GAAI,GACvBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAMlmC,IAAI,GAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQ,CAAC,GAAM,GAAM,GAAM,IAAO,EAAG,EAAG,GAC9C1N,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAMlmC,IAAI,GAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQ,CAAC,GAAM,GAAM,GAAM,GAAM,IAAO,EAAG,EAAG,GACpD1N,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCwC,EAAMlmC,IAAI,GAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,EAAG,GAAI,GACpCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,GAAI,GACpCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,GAAI,GACpCwC,EAAM0N,QAAQ,CAAC,GAAM,GAAM,IAAO,EAAG,GAAI,GACzC1N,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,EAAG,GAAI,GACpCwC,EAAMlmC,IAAI,GAAM,EAAG,GAAI,GACvBkmC,EAAM0N,QAAQG,EAAa,EAAG,EAAG,GACjC7N,EAAMlmC,IAAI,IAAM,EAAG,EAAG,GACtBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,IACnCwC,EAAMlmC,IAAI,GAAM,EAAG,EAAG,IACtBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,EAAG,EAAG,IACnCwC,EAAMlmC,IAAI,GAAM,EAAG,EAAG,IACtBkmC,EAAM0N,QAAQ,CAAC,GAAM,GAAM,GAAM,IAAO,EAAG,EAAG,IAC9C1N,EAAM0N,QAAQG,EAAa,GAAI,EAAG,IAClC7N,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,GAAI,EAAG,IACpCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCwC,EAAM0N,QAAQG,EAAa,GAAI,EAAG,IAClC7N,EAAMlmC,IAAI,IAAM,GAAI,EAAG,IACvBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCwC,EAAMlmC,IAAI,GAAM,GAAI,EAAG,IACvBkmC,EAAM0N,QAAQ,CAAC,GAAM,GAAM,GAAM,GAAM,IAAO,GAAI,EAAG,IACrD1N,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCwC,EAAM0N,QAAQG,EAAa,GAAI,EAAG,IAClC7N,EAAMlmC,IAAI,IAAM,GAAI,EAAG,IACvBkmC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCwC,EAAM0N,QAAQlQ,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCwC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,GAAI,GAAI,IACrCwC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,GAAI,GAAI,IACrCwC,EAAM0N,QAAQlQ,EAAE,GAAM,KAAO,EAAG,GAAI,IACpCwC,EAAM0N,QAAQG,EAAa,GAAI,GAAI,IACnC7N,EAAM0N,QAAQE,EAAY,GAAI,GAAI,IAClC5N,EAAMlmC,IAAI,IAAM,GAAI,EAAG,IACvBkmC,EAAM0N,QAAQ,CAAC,GAAM,KAAO,GAAI,GAAI,GAC7B1N,EAnGsB,GAqGjC,IAAIiO,EAAY,WACZ,SAASA,KAKT,OAHAA,EAAS75C,UAAU85C,KAAO,SAAUC,EAASxU,EAAQyU,KACrDH,EAAS75C,UAAUi6C,IAAM,SAAU7sC,EAAM/E,EAAOC,KAChDuxC,EAAS75C,UAAUk6C,OAAS,aACrBL,EANI,GAQXM,EAAwB,SAAU3pC,GAElC,SAAS2pC,EAAqBC,QACN,IAAhBA,IAA0BA,EAAc56C,EAAQm6C,wBACpD,IAAIlpC,EAAQD,EAAOE,KAAK7Q,OAASA,KAuBjC,OAtBA4Q,EAAM2pC,YAAcA,EACpB3pC,EAAM4pC,aAAe,EACrB5pC,EAAM6pC,aAAe7pC,EAAM4pC,aAC3B5pC,EAAM8pC,KAAO,GACb9pC,EAAM+pC,QAAU,CAAC,GACjB/pC,EAAMgqC,SAAW,GACjBhqC,EAAMiqC,gBAAkB,SAAUttC,EAAM/E,EAAOC,KAC/CmI,EAAMkqC,kBAAoB,SAAU51C,KACpC0L,EAAMmqC,cAAgB,SAAUb,EAASxU,EAAQyU,KACjDvpC,EAAMoqC,cAAgB,SAAUd,EAASC,KACzCvpC,EAAMqqC,cAAgB,SAAUC,EAAY3tC,KAC5CqD,EAAMuqC,cAAgB,IAAInB,EAC1BppC,EAAMwqC,gBAAkB,SAAU7B,GAAS,OAAOA,GAClD3oC,EAAMyqC,cAAgBzqC,EAAMiqC,gBAC5BjqC,EAAM0qC,iBAAmB77C,OAAO0Q,OAAO,MACvCS,EAAM2qC,aAAe97C,OAAO0Q,OAAO,MACnCS,EAAM4qC,aAAe/7C,OAAO0Q,OAAO,MACnCS,EAAM6qC,aAAeh8C,OAAO0Q,OAAO,MACnCS,EAAM8qC,aAAej8C,OAAO0Q,OAAO,MACnCS,EAAM+qC,kBAAoB,KAC1B/qC,EAAMgrC,cAAgBhrC,EAAMwqC,gBAC5BxqC,EAAMirC,cAAc,MAAM,eACnBjrC,EAkSX,OA5TAnB,EAAU6qC,EAAsB3pC,GA4BhC2pC,EAAqBn6C,UAAUqH,QAAU,WACrCxH,KAAK66C,gBAAkB,KACvB76C,KAAK86C,kBAAoB,KACzB96C,KAAK+6C,cAAgB,KACrB/6C,KAAKg7C,cAAgB,KACrBh7C,KAAKi7C,cAAgB,KACrBj7C,KAAKm7C,cAAgB,KACrBn7C,KAAKo7C,gBAAkB,KACvBp7C,KAAKq7C,cAAgB,KACrBr7C,KAAKs7C,iBAAmB,KACxBt7C,KAAKu7C,aAAe,KACpBv7C,KAAKw7C,aAAe,KACpBx7C,KAAKy7C,aAAe,KACpBz7C,KAAK07C,aAAe,KACpB17C,KAAK27C,kBAAoB,KACzB37C,KAAK47C,cAAgB,MAEzBtB,EAAqBn6C,UAAU27C,gBAAkB,SAAUhY,GACvD9jC,KAAKq7C,cAAgBvX,GAEzBwW,EAAqBn6C,UAAU47C,kBAAoB,WAC/C/7C,KAAKq7C,cAAgBr7C,KAAK66C,iBAE9BP,EAAqBn6C,UAAU67C,kBAAoB,SAAU7B,EAAMrW,GAC/D9jC,KAAKs7C,iBAAiBnB,EAAK7qC,WAAW,IAAMw0B,GAEhDwW,EAAqBn6C,UAAU87C,oBAAsB,SAAU9B,GACvDn6C,KAAKs7C,iBAAiBnB,EAAK7qC,WAAW,YAC/BtP,KAAKs7C,iBAAiBnB,EAAK7qC,WAAW,KAErDgrC,EAAqBn6C,UAAU+7C,0BAA4B,SAAUpY,GACjE9jC,KAAK86C,kBAAoBhX,GAE7BwW,EAAqBn6C,UAAUg8C,cAAgB,SAAUhC,EAAMrW,GAC3D9jC,KAAKu7C,aAAapB,EAAK7qC,WAAW,IAAMw0B,GAE5CwW,EAAqBn6C,UAAUi8C,gBAAkB,SAAUjC,GACnDn6C,KAAKu7C,aAAapB,EAAK7qC,WAAW,YAC3BtP,KAAKu7C,aAAapB,EAAK7qC,WAAW,KAEjDgrC,EAAqBn6C,UAAUk8C,sBAAwB,SAAUvY,GAC7D9jC,KAAK+6C,cAAgBjX,GAEzBwW,EAAqBn6C,UAAU07C,cAAgB,SAAUS,EAAgBxY,GACrE9jC,KAAKw7C,aAAac,GAAkBxY,GAExCwW,EAAqBn6C,UAAUo8C,gBAAkB,SAAUD,GACnDt8C,KAAKw7C,aAAac,WACXt8C,KAAKw7C,aAAac,IAEjChC,EAAqBn6C,UAAUq8C,sBAAwB,SAAU1Y,GAC7D9jC,KAAKg7C,cAAgBlX,GAEzBwW,EAAqBn6C,UAAUs8C,cAAgB,SAAUC,EAAO5Y,GAC5D9jC,KAAKy7C,aAAaiB,GAAS5Y,GAE/BwW,EAAqBn6C,UAAUw8C,gBAAkB,SAAUD,GACnD18C,KAAKy7C,aAAaiB,WACX18C,KAAKy7C,aAAaiB,IAEjCpC,EAAqBn6C,UAAUy8C,sBAAwB,SAAU9Y,GAC7D9jC,KAAKi7C,cAAgBnX,GAEzBwW,EAAqBn6C,UAAU08C,cAAgB,SAAUP,EAAgBj8C,GACrEL,KAAK07C,aAAaY,GAAkBj8C,GAExCi6C,EAAqBn6C,UAAU28C,gBAAkB,SAAUR,GACnDt8C,KAAK07C,aAAaY,WACXt8C,KAAK07C,aAAaY,IAEjChC,EAAqBn6C,UAAU48C,sBAAwB,SAAU18C,GAC7DL,KAAKm7C,cAAgB96C,GAEzBi6C,EAAqBn6C,UAAU68C,gBAAkB,SAAUlZ,GACvD9jC,KAAK47C,cAAgB9X,GAEzBwW,EAAqBn6C,UAAU88C,kBAAoB,WAC/Cj9C,KAAK47C,cAAgB57C,KAAKo7C,iBAE9Bd,EAAqBn6C,UAAUoV,MAAQ,WACnCvV,KAAKy6C,aAAez6C,KAAKw6C,aACzBx6C,KAAK06C,KAAO,GACZ16C,KAAK26C,QAAU,CAAC,GAChB36C,KAAK46C,SAAW,GAChB56C,KAAK27C,kBAAoB,MAE7BrB,EAAqBn6C,UAAU+0C,MAAQ,SAAU3nC,GAc7C,IAbA,IAAIrI,EAAO,EACPg4C,EAAa,EACblN,GAAQ,EACRyK,EAAez6C,KAAKy6C,aACpB0C,GAAS,EACTC,GAAO,EACPC,EAAMr9C,KAAK06C,KACXR,EAAUl6C,KAAK46C,SACflV,EAAS1lC,KAAK26C,QACd5O,EAAQ/rC,KAAKu6C,YAAYxO,MACzBuR,EAAat9C,KAAK27C,kBAClB7X,EAAW,KACX9sB,EAAIzJ,EAAK3M,OACJD,EAAI,EAAGA,EAAIqW,IAAKrW,EAErB,GADAuE,EAAOqI,EAAK+B,WAAW3O,GACF,IAAjB85C,GAAsBv1C,EAAO,IAAQA,EAAO,IAAhD,CACIi4C,GAAUA,EAASA,EAAQx8C,EAC3B,GACIA,UACGA,EAAIqW,GAAKzJ,EAAK+B,WAAW3O,GAAK,IAAQ4M,EAAK+B,WAAW3O,GAAK,KAClEA,SAGJ,GAAqB,IAAjB85C,GAAuBv1C,EAAO,IAAQA,EAAO,GAC7CwgC,EAAOA,EAAO9kC,OAAS,GAAiC,GAA5B8kC,EAAOA,EAAO9kC,OAAS,GAAUsE,EAAO,OADxE,CAKA,OADAg4C,EAAch4C,EAAO,IAAS6mC,EAAM0O,GAAgB,EAAIv1C,GAAS20C,EACzDqD,GAAc,GAClB,KAAK,EACDC,GAAUA,EAASA,EAAQx8C,EAC3B,MACJ,KAAK,GACIw8C,IACDn9C,KAAKq7C,cAAc9tC,EAAM4vC,EAAOx8C,GAChCw8C,GAAS,GAEbrZ,EAAW9jC,KAAKs7C,iBAAiBp2C,GAC7B4+B,EACAA,IAEA9jC,KAAK86C,kBAAkB51C,GAC3B,MACJ,KAAK,GACIi4C,GACDn9C,KAAKq7C,cAAc9tC,EAAM4vC,EAAOx8C,GAChCw8C,GAAS,IAEHC,IACNE,EAAWlD,IAAI7sC,EAAM6vC,EAAKz8C,GAC1By8C,GAAO,GAEX,MACJ,KAAK,EACD,GAAIl4C,EAAO,IACP,OAAQu1C,GACJ,KAAK,EACD0C,GAAUA,EAASA,EAAQx8C,EAC3B,MACJ,KAAK,EACD08C,GAAOjuC,OAAOC,aAAanK,GAC3Bg4C,GAAc,EACd,MACJ,KAAK,EACDA,GAAc,EACd,MACJ,KAAK,GACDA,GAAc,GACd,MACJ,KAAK,GACDE,GAAQA,EAAOA,EAAMz8C,EACrBu8C,GAAc,GACd,MACJ,QACIlN,GAAQ,OAIhBA,GAAQ,EAEZ,GAAIA,EAAO,CACP,IAAIuN,EAASv9C,KAAK47C,cAAc,CAC5B9oC,SAAUnS,EACVuE,KAAMA,EACNu1C,aAAcA,EACd0C,MAAOA,EACPC,IAAKA,EACLC,IAAKA,EACLnD,QAASA,EACTxU,OAAQA,EACR8X,OAAO,IAEX,GAAID,EAAOC,MACP,OACJxN,GAAQ,EAEZ,MACJ,KAAK,EACDlM,EAAW9jC,KAAKu7C,aAAar2C,GACzB4+B,EACAA,EAAS4B,EAAQwU,GAEjBl6C,KAAK+6C,cAAcb,EAASxU,EAAQxgC,GACxC,MACJ,KAAK,EACY,KAATA,EACAwgC,EAAOllC,KAAK,GAEZklC,EAAOA,EAAO9kC,OAAS,GAAiC,GAA5B8kC,EAAOA,EAAO9kC,OAAS,GAAUsE,EAAO,GACxE,MACJ,KAAK,EACDg1C,GAAW9qC,OAAOC,aAAanK,GAC/B,MACJ,KAAK,GACD4+B,EAAW9jC,KAAKw7C,aAAatB,EAAU9qC,OAAOC,aAAanK,IACvD4+B,EACAA,EAASoW,EAASh1C,GAElBlF,KAAKg7C,cAAcd,EAASh1C,GAChC,MACJ,KAAK,IACIi4C,IACDn9C,KAAKq7C,cAAc9tC,EAAM4vC,EAAOx8C,GAChCw8C,GAAS,GAEbE,EAAM,GACN3X,EAAS,CAAC,GACVwU,EAAU,GACVkD,GAAO,EACP,MACJ,KAAK,GACDE,EAAat9C,KAAK07C,aAAaxB,EAAU9qC,OAAOC,aAAanK,IACxDo4C,IACDA,EAAat9C,KAAKm7C,eACtBmC,EAAWrD,KAAKC,EAASxU,EAAQxgC,GACjC,MACJ,KAAK,GACDk4C,GAAQA,EAAOA,EAAMz8C,EACrB,MACJ,KAAK,GACG28C,KACKF,GACDE,EAAWlD,IAAI7sC,EAAM6vC,EAAKz8C,GAC9B28C,EAAWjD,SACXiD,EAAa,MAEJ,KAATp4C,IACAg4C,GAAc,GAClBG,EAAM,GACN3X,EAAS,CAAC,GACVwU,EAAU,GACVkD,GAAO,EACP,MACJ,KAAK,GACID,IACDn9C,KAAKq7C,cAAc9tC,EAAM4vC,EAAOx8C,GAChCw8C,GAAS,GAEbE,EAAM,GACN,MACJ,KAAK,EACDA,GAAO9vC,EAAK0J,OAAOtW,GACnB,MACJ,KAAK,EACD,GAAI08C,GAAgB,KAATn4C,GAA0B,KAATA,EAAe,CACvC,IAAI0sB,EAAMyrB,EAAI9hC,QAAQ,KACtB,IAAa,IAATqW,EACA5xB,KAAKi7C,eAAe,EAAGoC,OAEtB,CACD,IAAInC,EAAauC,SAASJ,EAAI16C,UAAU,EAAGivB,IACvC5J,EAAUq1B,EAAI16C,UAAUivB,EAAM,GAClCkS,EAAW9jC,KAAKy7C,aAAaP,GACzBpX,EACAA,EAAS9b,GAEThoB,KAAKi7C,cAAcC,EAAYlzB,IAG9B,KAAT9iB,IACAg4C,GAAc,GAClBG,EAAM,GACN3X,EAAS,CAAC,GACVwU,EAAU,GACVkD,GAAO,EACP,MAER3C,EAA4B,GAAbyC,EAEE,IAAjBzC,IAAuB0C,EACvBn9C,KAAKq7C,cAAc9tC,EAAM4vC,EAAO5vC,EAAK3M,QAEf,KAAjB65C,IAAwB2C,GAAOE,GACpCA,EAAWlD,IAAI7sC,EAAM6vC,EAAK7vC,EAAK3M,QAEnCZ,KAAK06C,KAAO2C,EACZr9C,KAAK46C,SAAWV,EAChBl6C,KAAK26C,QAAUjV,EACf1lC,KAAK27C,kBAAoB2B,EACzBt9C,KAAKy6C,aAAeA,GAEjBH,EA7TgB,CA8TzB/pC,EAAYyE,YACdrV,EAAQ26C,qBAAuBA,G,kCCzd/B76C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI89C,EAAU,WACV,SAASA,EAAOltB,GACZxwB,KAAKwwB,SAAWA,EAChBxwB,KAAK29C,KAAO,GACZ39C,KAAK49C,MAAQ,KACb59C,KAAK69C,MAAQ,KACb79C,KAAK89C,UAAY,GACjB99C,KAAKgxB,KAAO,EAgGhB,OA9FA0sB,EAAOv9C,UAAU49C,YAAc,SAAU91B,GACrC,IAAI+1B,EAAO/1B,EAAK+1B,KACZj2B,EAAOE,EAAKF,KACZE,IAASjoB,KAAK49C,QACd59C,KAAK49C,MAAQ71B,GAEbE,IAASjoB,KAAK69C,QACd79C,KAAK69C,MAAQG,GAEJ,OAATA,IACAA,EAAKj2B,KAAOA,GAEH,OAATA,IACAA,EAAKi2B,KAAOA,IAGpBN,EAAOv9C,UAAU89C,YAAc,SAAUh2B,GACrC,IAAIi2B,EAAOl+C,KAAK69C,MACH,OAATK,IACAA,EAAKn2B,KAAOE,GAEhBA,EAAK+1B,KAAOE,EACZj2B,EAAKF,KAAO,KACZ/nB,KAAK69C,MAAQ51B,EACM,OAAfjoB,KAAK49C,QACL59C,KAAK49C,MAAQ31B,IAGrBy1B,EAAOv9C,UAAUuwB,SAAW,SAAUuoB,GAElC,IADA,IAAIkF,EAAWn+C,KAAK89C,UACXn9C,EAAI,EAAGA,EAAIs4C,EAAOt4C,IACvBw9C,EAAS39C,KAAK,CACVw9C,KAAM,KACNj2B,KAAM,KACN/jB,IAAK,KACLpE,MAAO,QAInB89C,EAAOv9C,UAAUgB,IAAM,SAAU6C,GAC7B,IAAIikB,EAAOjoB,KAAK29C,KAAK35C,GACrB,YAAaoZ,IAAT6K,GACAjoB,KAAK+9C,YAAY91B,GACjBjoB,KAAKi+C,YAAYh2B,GACVA,EAAKroB,OAET,MAEX89C,EAAOv9C,UAAUi+C,UAAY,SAAUp6C,GACnC,IAAIikB,EAAOjoB,KAAK29C,KAAK35C,GACrB,YAAaoZ,IAAT6K,EACOA,EAAKroB,MAET,MAEX89C,EAAOv9C,UAAU8wB,KAAO,WACpB,IAAIotB,EAAOr+C,KAAK49C,MAChB,OAAgB,OAATS,EAAgB,KAAOA,EAAKz+C,OAEvC89C,EAAOv9C,UAAUgO,IAAM,SAAUnK,EAAKpE,GAClC,IAAIqoB,EAAOjoB,KAAK29C,KAAK35C,GACrB,QAAaoZ,IAAT6K,EACAA,EAAOjoB,KAAK29C,KAAK35C,GACjBhE,KAAK+9C,YAAY91B,GACjBA,EAAKroB,MAAQA,OAEZ,GAAII,KAAKgxB,MAAQhxB,KAAKwwB,SACvBvI,EAAOjoB,KAAK49C,MACZ59C,KAAK+9C,YAAY91B,UACVjoB,KAAK29C,KAAK11B,EAAKjkB,KACtBikB,EAAKjkB,IAAMA,EACXikB,EAAKroB,MAAQA,EACbI,KAAK29C,KAAK35C,GAAOikB,MAEhB,CACD,IAAIk2B,EAAWn+C,KAAK89C,UAChBK,EAASv9C,OAAS,GAClBqnB,EAAOk2B,EAAS3wC,MAChBya,EAAKjkB,IAAMA,EACXikB,EAAKroB,MAAQA,GAGbqoB,EAAO,CACH+1B,KAAM,KACNj2B,KAAM,KACN/jB,IAAKA,EACLpE,MAAOA,GAGfI,KAAK29C,KAAK35C,GAAOikB,EACjBjoB,KAAKgxB,OAEThxB,KAAKi+C,YAAYh2B,IAEdy1B,EAvGE,GAyGb/9C,EAAQitB,QAAU8wB,G,kCC1GlB,IAAIjuC,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAImtC,EAAqB,EAAQ,QAC7BpvB,EAAiB,EAAQ,QACzB9d,EAAW,EAAQ,QACnBy+C,EAAc,EAAQ,QACtB9O,EAAa,SAAU7+B,GAEvB,SAAS6+B,EAAUzvC,GACf,IAAI6Q,EAAQD,EAAOE,KAAK7Q,OAASA,KAQjC,OAPA4Q,EAAM7Q,UAAYA,EAClB6Q,EAAM2tC,cAAgB,GACtB3tC,EAAM4tC,mBAAqB,EAC3B5tC,EAAM6tC,eAAiB,CACnBj2C,MAAO,KACPC,IAAK,MAEFmI,EA2KX,OArLAnB,EAAU+/B,EAAW7+B,GAYrB6+B,EAAUrvC,UAAU2xC,YAAc,SAAU4M,GACxC1+C,KAAKyvC,kBAAoBiP,GAE7BlP,EAAUrvC,UAAU2zC,YAAc,SAAUtrC,EAAOC,GAC/C,IAAImI,EAAQ5Q,KACPA,KAAKyvC,oBAGwB,OAA9BzvC,KAAKy+C,eAAej2C,OACpBxI,KAAKy+C,eAAej2C,MAAQA,EAC5BxI,KAAKy+C,eAAeh2C,IAAMA,IAG1BzI,KAAKy+C,eAAej2C,MAAQjF,KAAKE,IAAIzD,KAAKy+C,eAAej2C,MAAOA,GAChExI,KAAKy+C,eAAeh2C,IAAMlF,KAAKC,IAAIxD,KAAKy+C,eAAeh2C,IAAKA,IAEhEzI,KAAKyvC,kBAAkB3nC,SAASU,EAAOC,GACnCzI,KAAK2+C,gBACLv7B,aAAapjB,KAAK2+C,gBAEtB3+C,KAAK2+C,eAAiBnqC,YAAW,WAAc,OAAO5D,EAAMguC,iBAAmBpP,EAAUqP,uBAE7FrP,EAAUrvC,UAAUy+C,aAAe,WAC/B5+C,KAAK2+C,eAAiB,KACtB,IAAI19C,EAASjB,KAAKD,UAAUkB,OACxB69C,EAAwB79C,EAAO0T,MAAQ3U,KAAKy+C,eAAej2C,MAC/D,KAAIs2C,GAAyB79C,EAAOC,MAAMN,QAA1C,CAGA,IAAIm+C,EAAsB99C,EAAO0T,MAAQpR,KAAKE,IAAIzD,KAAKy+C,eAAeh2C,IAAKzI,KAAKD,UAAUmJ,MAAQ,EAC9F81C,EAAoBz7C,KAAKqc,KAAK4vB,EAAUyP,oBAAsBj/C,KAAKD,UAAU8B,MAC7EmlB,EAAWhnB,KAAKD,UAAUkB,OAAO+lB,UAAS,EAAO83B,EAAuBC,EAAqBC,EAAmBA,GACpH,MAAOh4B,EAASc,UAEZ,IADA,IAAItlB,EAAWwkB,EAASe,OACfpnB,EAAI,EAAGA,EAAIX,KAAKu+C,cAAc39C,OAAQD,IAC3CX,KAAKk/C,cAAc18C,EAASc,MAAM+iB,MAAO7jB,EAASwlB,QAAShoB,KAAKu+C,cAAc59C,IAGtFX,KAAKy+C,eAAej2C,MAAQ,KAC5BxI,KAAKy+C,eAAeh2C,IAAM,OAE9B+mC,EAAUrvC,UAAUuzB,oBAAsB,SAAU5X,EAAOzb,EAASmL,GAEhE,QADgB,IAAZA,IAAsBA,EAAU,KAC/BnL,EACD,MAAM,IAAI0vC,MAAM,2BAEpB,IAAIoP,EAAU,CACV5+C,GAAIP,KAAKw+C,qBACT1iC,MAAOA,EACPzb,QAASA,EACT2mC,WAAYx7B,EAAQw7B,WACpBoY,mBAAoB5zC,EAAQ4zC,mBAC5BC,qBAAsB7zC,EAAQ+X,gBAC9B+7B,mBAAoB9zC,EAAQuX,cAC5BS,iBAAkBhY,EAAQgY,iBAC1B+7B,SAAU/zC,EAAQ+zC,UAAY,GAGlC,OADAv/C,KAAKw/C,sBAAsBL,GACpBA,EAAQ5+C,IAEnBivC,EAAUrvC,UAAUq/C,sBAAwB,SAAUL,GAClD,GAAkC,IAA9Bn/C,KAAKu+C,cAAc39C,OAAvB,CAIA,IAAK,IAAID,EAAIX,KAAKu+C,cAAc39C,OAAS,EAAGD,GAAK,EAAGA,IAChD,GAAIw+C,EAAQI,UAAYv/C,KAAKu+C,cAAc59C,GAAG4+C,SAE1C,YADAv/C,KAAKu+C,cAAc19C,OAAOF,EAAI,EAAG,EAAGw+C,GAI5Cn/C,KAAKu+C,cAAc19C,OAAO,EAAG,EAAGs+C,QAT5Bn/C,KAAKu+C,cAAc/9C,KAAK2+C,IAWhC3P,EAAUrvC,UAAUwzB,sBAAwB,SAAUC,GAClD,IAAK,IAAIjzB,EAAI,EAAGA,EAAIX,KAAKu+C,cAAc39C,OAAQD,IAC3C,GAAIX,KAAKu+C,cAAc59C,GAAGJ,KAAOqzB,EAE7B,OADA5zB,KAAKu+C,cAAc19C,OAAOF,EAAG,IACtB,EAGf,OAAO,GAEX6uC,EAAUrvC,UAAU++C,cAAgB,SAAUO,EAAU/8C,EAAMy8C,GAC1D,IAEIpnC,EAFAnH,EAAQ5Q,KACR0/C,EAAM,IAAI1jC,OAAOmjC,EAAQrjC,MAAM6jC,OAAQR,EAAQrjC,MAAMrW,MAAQ,KAE7DwgB,GAAe,EACf25B,EAAU,WACV,IAAI9Y,EAAM/uB,EAAoC,kBAAvBonC,EAAQnY,WAA0B,EAAImY,EAAQnY,YACrE,IAAKF,EAAK,CACN,GAAI+Y,EAAO9/C,UAAU6tC,MAEjB,MADA9f,QAAQ+nB,IAAI,CAAE99B,MAAOA,EAAOonC,QAASA,IAC/B,IAAIpP,MAAM,gDAEpB,MAAO,QAEX9pB,EAAcvjB,EAAK6Y,QAAQurB,EAAK7gB,EAAc,GAC9Cy5B,EAAIvjC,UAAY8J,EAAc6gB,EAAIlmC,OAClC,IAGI+E,EAHAm6C,EAAcD,EAAO9/C,UAAUkB,OAAO+kB,yBAAyBy5B,EAAUx5B,GACzEjlB,EAAO6+C,EAAO9/C,UAAUkB,OAAOC,MAAMC,IAAI2+C,EAAY,IACrDz6C,EAAOrE,EAAKG,IAAI2+C,EAAY,IAEhC,GAAIz6C,EAAM,CACN,IAAIlD,EAAOkD,EAAKxF,EAAS8B,sBACzBgE,EAAMxD,GAAQ,EAAK,IAEnBg9C,EAAQC,mBACRD,EAAQC,mBAAmBtY,GAAK,SAAUiZ,GAClCnvC,EAAM+tC,gBAGNoB,GACAnvC,EAAMovC,SAASF,EAAY,GAAIA,EAAY,GAAKlvC,EAAM7Q,UAAUkB,OAAO0T,MAAOmyB,EAAKqY,EAASx5C,MAKpGk6C,EAAOG,SAASF,EAAY,GAAIA,EAAY,GAAKD,EAAO9/C,UAAUkB,OAAO0T,MAAOmyB,EAAKqY,EAASx5C,IAGlGk6C,EAAS7/C,KACb,MAAoC,QAA5B+X,EAAQ2nC,EAAIxjC,KAAKxZ,IAAiB,CACtC,IAAIu9C,EAAUL,IACd,GAAgB,UAAZK,EACA,QAGZzQ,EAAUrvC,UAAU6/C,SAAW,SAAUp+C,EAAGsI,EAAG48B,EAAKqY,EAASx5C,GACzD,IAAIiL,EAAQ5Q,KACRiC,EAAQq8C,EAAYnT,mBAAmBrE,GACvCtlB,EAAK5f,EAAI5B,KAAKD,UAAU8B,KACxB6f,EAAKxX,EAAI3G,KAAK6Y,MAAMxa,EAAI5B,KAAKD,UAAU8B,MACvC4f,GAAMD,EAAKvf,GAASjC,KAAKD,UAAU8B,KACnC8f,EAAKD,EAAKne,KAAK6Y,OAAOoF,EAAKvf,GAASjC,KAAKD,UAAU8B,MAC5C,IAAP4f,IACAA,EAAKzhB,KAAKD,UAAU8B,KACpB8f,KAEJ3hB,KAAKyvC,kBAAkB5pC,IAAI,IAAIknC,EAAmBlpB,UAAUrC,EAAK,EAAGE,EAAK,EAAGD,EAAK,EAAGE,EAAK,GAAG,SAAUtQ,GAClG,GAAI8tC,EAAQ9+C,QACR,OAAO8+C,EAAQ9+C,QAAQgR,EAAGy1B,GAE9Bz8B,OAAOipB,KAAKwT,EAAK,aAClB,SAAUz1B,GACTT,EAAM0Q,KAAK,YAAa1Q,EAAMsvC,sBAAsB1+B,EAAIE,EAAID,EAAIE,EAAIhc,IACpEiL,EAAM7Q,UAAUkS,QAAQrM,UAAUC,IAAI,2BACvC,SAAUwL,GACTT,EAAM0Q,KAAK,cAAe1Q,EAAMsvC,sBAAsB1+B,EAAIE,EAAID,EAAIE,EAAIhc,IAClEw5C,EAAQE,sBACRF,EAAQE,qBAAqBhuC,EAAGy1B,MAErC,WACCl2B,EAAM0Q,KAAK,YAAa1Q,EAAMsvC,sBAAsB1+B,EAAIE,EAAID,EAAIE,EAAIhc,IACpEiL,EAAM7Q,UAAUkS,QAAQrM,UAAU4Z,OAAO,wBACrC2/B,EAAQG,oBACRH,EAAQG,wBAEb,SAAUjuC,GACT,OAAI8tC,EAAQ37B,kBACD27B,EAAQ37B,iBAAiBnS,EAAGy1B,QAK/C0I,EAAUrvC,UAAU+/C,sBAAwB,SAAU1+B,EAAIE,EAAID,EAAIE,EAAIhc,GAClE,MAAO,CAAE6b,GAAIA,EAAIE,GAAIA,EAAID,GAAIA,EAAIE,GAAIA,EAAI9f,KAAM7B,KAAKD,UAAU8B,KAAM8D,GAAIA,IAE5E6pC,EAAUqP,oBAAsB,IAChCrP,EAAUyP,oBAAsB,IACzBzP,EAtLK,CAuLd7xB,EAAeoE,cACjBpiB,EAAQ6vC,UAAYA,G,kCC3MpB,W,kCCEA,SAAS2Q,EAAgB1lC,GACrB,IAAKA,EAAKxI,QAAQ2iB,cACd,OAAO,KAEX,IAAIwrB,EAAqB/1C,OAAOg2C,iBAAiB5lC,EAAKxI,QAAQ2iB,eAC1D0rB,EAAsB7C,SAAS2C,EAAmBG,iBAAiB,WACnEC,EAAqBj9C,KAAKC,IAAI,EAAGi6C,SAAS2C,EAAmBG,iBAAiB,WAC9EE,EAAep2C,OAAOg2C,iBAAiB5lC,EAAKxI,SAC5CyuC,EAAiB,CACjB1/B,IAAKy8B,SAASgD,EAAaF,iBAAiB,gBAC5CI,OAAQlD,SAASgD,EAAaF,iBAAiB,mBAC/CK,MAAOnD,SAASgD,EAAaF,iBAAiB,kBAC9Ct/B,KAAMw8B,SAASgD,EAAaF,iBAAiB,kBAE7CM,EAAoBH,EAAe1/B,IAAM0/B,EAAeC,OACxDG,EAAoBJ,EAAeE,MAAQF,EAAez/B,KAC1D8/B,EAAkBT,EAAsBO,EACxCG,EAAiBR,EAAqBM,EAAoBrmC,EAAKG,MAAM01B,SAAS2Q,eAC9EjsB,EAAW,CACXnzB,KAAM0B,KAAK6Y,MAAM4kC,EAAiBvmC,EAAKG,MAAMhI,SAASiC,WAAWkK,iBACjE7V,KAAM3F,KAAK6Y,MAAM2kC,EAAkBtmC,EAAKG,MAAMhI,SAASiC,WAAWC,mBAEtE,OAAOkgB,EAGX,SAASksB,EAAIzmC,GACT,IAAIua,EAAWmrB,EAAgB1lC,GAC3Bua,IACIva,EAAKvR,OAAS8rB,EAAS9rB,MAAQuR,EAAK5Y,OAASmzB,EAASnzB,OACtD4Y,EAAKG,MAAMhI,SAASsO,QACpBzG,EAAKpR,OAAO2rB,EAASnzB,KAAMmzB,EAAS9rB,QAKhD,SAAS8E,EAAM0oB,GACXA,EAAoBv2B,UAAUggD,gBAAkB,WAC5C,OAAOA,EAAgBngD,OAE3B02B,EAAoBv2B,UAAU+gD,IAAM,WAChCA,EAAIlhD,OAzCZP,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAyBtDD,EAAQwgD,gBAAkBA,EAU1BxgD,EAAQuhD,IAAMA,EASdvhD,EAAQqO,MAAQA,G,yCC7ChB,IAAImzC,EAAS,WAAa,IAAIC,EAAIphD,KAASqhD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAAS,UAAU,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,WAAa,GAAG,YAAcL,EAAIM,GAAG,4BAA4BriC,GAAG,CAAC,OAAS+hC,EAAIO,mBAAmBC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,aAAaD,KAAUE,MAAM,CAACniD,MAAOwhD,EAAa,UAAEtd,SAAS,SAAUke,GAAMZ,EAAIa,UAAUD,GAAKE,WAAW,cAAcd,EAAIe,GAAIf,EAAc,YAAE,SAASgB,GAAM,OAAOb,EAAG,YAAY,CAACv9C,IAAIo+C,EAAKX,MAAM,CAAC,MAAQW,EAAK,MAAQA,QAAU,GAAGhB,EAAIiB,GAAG,KAAKd,EAAG,YAAY,CAACE,MAAM,CAAC,YAAcL,EAAIM,GAAG,4BAA4B,WAAa,GAAG,SAAW,IAAIriC,GAAG,CAAC,OAAS+hC,EAAIkB,oBAAoBP,MAAM,CAACniD,MAAOwhD,EAAc,WAAEtd,SAAS,SAAUke,GAAMZ,EAAImB,WAAWP,GAAKE,WAAW,eAAe,CAACX,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQL,EAAIM,GAAG,aAAa,MAAQ,SAASN,EAAIe,GAAIf,EAAe,aAAE,SAASgB,GAAM,OAAOb,EAAG,YAAY,CAACv9C,IAAIo+C,EAAKxiD,MAAM6hD,MAAM,CAAC,MAAQW,EAAKI,MAAM,MAAQJ,EAAKxiD,aAAY,GAAGwhD,EAAIiB,GAAG,KAAKd,EAAG,YAAY,CAACK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIqB,UAAUZ,MAAW,CAACT,EAAIiB,GAAGjB,EAAIsB,GAAGtB,EAAIM,GAAG,aAAaH,EAAG,MAAMA,EAAG,WAAW,CAACoB,YAAY,YAAYlB,MAAM,CAAC,KAAO,SAAS,KAAOL,EAAIwB,YAAY,CAACrB,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQL,EAAIM,GAAG,WAAWH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQL,EAAIM,GAAG,gBAAgBH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQL,EAAIM,GAAG,YAAYH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,MAAM,MAAQL,EAAIM,GAAG,UAAUH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,mBAAmB,MAAQL,EAAIM,GAAG,yBAAyBH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQL,EAAIM,GAAG,YAAYH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,MAAM,MAAQL,EAAIM,GAAG,UAAUH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,MAAM,MAAQL,EAAIM,GAAG,UAAUH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQL,EAAIM,GAAG,SAASH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQL,EAAIM,GAAG,WAAW,MAAQ,MAAM,MAAQ,UAAUmB,YAAYzB,EAAI0B,GAAG,CAAC,CAAC9+C,IAAI,UAAU++C,GAAG,SAASC,GAAO,MAAO,CAAiB,SAAfA,EAAMjiD,IAAIkiD,GAAa1B,EAAG,YAAY,CAACoB,YAAY,iBAAiBf,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAI8B,aAAaF,EAAMjiD,IAAK,SAAS,CAACqgD,EAAIiB,GAAGjB,EAAIsB,GAAGtB,EAAIM,GAAG,UAAUN,EAAI+B,KAAqB,YAAfH,EAAMjiD,IAAIkiD,GAAgB1B,EAAG,YAAY,CAACoB,YAAY,iBAAiBf,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAI8B,aAAaF,EAAMjiD,IAAK,UAAU,CAACqgD,EAAIiB,GAAGjB,EAAIsB,GAAGtB,EAAIM,GAAG,WAAWN,EAAI+B,KAAK5B,EAAG,QAAQA,EAAG,YAAY,CAACoB,YAAY,gBAAgBf,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIgC,gBAAgBJ,EAAMjiD,IAAK,QAAQ,CAACqgD,EAAIiB,GAAGjB,EAAIsB,GAAGtB,EAAIM,GAAG,4BAA4B,IAAI,GAAGH,EAAG,YAAY,CAACE,MAAM,CAAC,QAAUL,EAAIiC,sBAAsB,MAAQjC,EAAIM,GAAG,YAAY,OAAS,GAAG,WAAa,GAAG,OAAQ,EAAM,oBAAmB,GAAMriC,GAAG,CAAC,iBAAiB,SAASwiC,GAAQT,EAAIiC,sBAAsBxB,GAAQ,OAAST,EAAIkC,SAAS,MAAQlC,EAAImC,UAAU,CAAChC,EAAG,MAAM,CAACiC,YAAY,CAAC,aAAa,UAAU,CAACjC,EAAG,MAAM,CAACkC,IAAI,iBAAiBlC,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,GAAG,WAAa,GAAG,MAAQL,EAAIM,GAAG,gBAAgB,QAAUN,EAAIsC,0BAA0BrkC,GAAG,CAAC,iBAAiB,SAASwiC,GAAQT,EAAIsC,yBAAyB7B,GAAQ,MAAQ,SAASA,GAAQT,EAAIsC,0BAA2B,KAAS,CAACnC,EAAG,MAAM,CAACiC,YAAY,CAAC,aAAa,UAAU,CAACjC,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,cAAc,CAACoB,YAAY,mBAAmBa,YAAY,CAAC,OAAS,OAAO,MAAQ,QAAQ,gBAAgB,QAAQ/B,MAAM,CAAC,KAAO,UAAU,QAAU,UAAU,CAACF,EAAG,MAAM,CAACoB,YAAY,kBAAkB,CAACpB,EAAG,YAAY,CAACoB,YAAY,iBAAiBa,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,eAAe,MAAM,cAAc,MAAM,eAAe,QAAQ/B,MAAM,CAAC,KAAO,UAAU,MAAQ,GAAG,KAAO,WAAW,CAACL,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,WAAW,KAAKH,EAAG,IAAI,CAACoB,YAAY,4BAA4B,GAAGpB,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,YAAYkC,KAAK,YAAY,CAACpC,EAAG,mBAAmB,CAACA,EAAG,OAAO,CAACoB,YAAY,iBAAiB,CAACvB,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,gBAAgB,KAAKH,EAAG,QAAQ,CAACiC,YAAY,CAAC,QAAU,SAAS/B,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,SAAW,QAAQpiC,GAAG,CAAC,OAAS,SAASwiC,GAAQ,OAAOT,EAAIwC,gBAAgB/B,EAAQT,EAAIyC,oBAAoBtC,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAU,KAAK,CAACF,EAAG,OAAO,CAACoB,YAAY,iBAAiB,CAACvB,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,eAAe,KAAKH,EAAG,QAAQ,CAACiC,YAAY,CAAC,QAAU,SAAS/B,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,gBAAkB,GAAG,aAAe,GAAG,OAAS,OAAOpiC,GAAG,CAAC,OAAS,SAASwiC,GAAQ,OAAOT,EAAIwC,gBAAgB/B,EAAQT,EAAIyC,qBAAqB,IAAI,GAAGtC,EAAG,cAAc,CAACoB,YAAY,6BAA6Ba,YAAY,CAAC,OAAS,OAAO,MAAQ,QAAQ,gBAAgB,QAAQ/B,MAAM,CAAC,KAAO,UAAU,QAAU,UAAU,CAACF,EAAG,MAAM,CAACoB,YAAY,kBAAkB,CAACpB,EAAG,YAAY,CAACoB,YAAY,mBAAmBa,YAAY,CAAC,MAAQ,QAAQ,OAAS,OAAO,eAAe,MAAM,cAAc,MAAM,eAAe,QAAQ/B,MAAM,CAAC,KAAO,UAAU,MAAQ,GAAG,KAAO,WAAW,CAACL,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,kBAAkB,KAAKH,EAAG,IAAI,CAACoB,YAAY,4BAA4B,GAAGpB,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,YAAYkC,KAAK,YAAY,CAACpC,EAAG,mBAAmB,CAACA,EAAG,OAAO,CAACiC,YAAY,CAAC,QAAU,SAASnkC,GAAG,CAAC,MAAQ,SAASwiC,GAAQ,OAAOT,EAAI0C,aAAa1C,EAAI2C,SAAU,UAAU,CAAC3C,EAAIiB,GAAG,MAAMjB,EAAIsB,GAAGtB,EAAIM,GAAG,kBAAkBH,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAU,KAAK,CAACF,EAAG,OAAO,CAACiC,YAAY,CAAC,QAAU,SAASnkC,GAAG,CAAC,MAAQ,SAASwiC,GAAQ,OAAOT,EAAI0C,aAAa1C,EAAI2C,SAAU,UAAU,CAAC3C,EAAIiB,GAAG,MAAMjB,EAAIsB,GAAGtB,EAAIM,GAAG,mBAAmB,IAAI,GAAGH,EAAG,KAAKH,EAAIe,GAAIf,EAAe,aAAE,SAASgB,GAAM,OAAOb,EAAG,KAAK,CAACiC,YAAY,CAAC,MAAQ,OAAO,aAAa,OAAO,aAAa,SAAS,CAACjC,EAAG,IAAI,CAACoB,YAAY,wBAAwBa,YAAY,CAAC,eAAe,MAAM,YAAY,QAAQnkC,GAAG,CAAC,MAAQ,SAASwiC,GAAQ,OAAOT,EAAIgC,gBAAgB,KAAMhB,EAAK4B,SAAS,CAAC5C,EAAIiB,GAAGjB,EAAIsB,GAAGN,EAAK6B,cAAa,GAAG7C,EAAIiB,GAAG,KAAKd,EAAG,OAAO,CAACiC,YAAY,CAAC,MAAQ,SAAS,CAACjC,EAAG,YAAY,CAACiC,YAAY,CAAC,QAAU,MAAM,aAAa,OAAO/B,MAAM,CAAC,KAAO,OAAO,KAAO,kBAAkB,OAAS,IAAIpiC,GAAG,CAAC,MAAQ,SAASwiC,GAAQ,OAAOT,EAAIgC,gBAAgB,KAAMhC,EAAI4C,WAAW,IAAI,GAAGzC,EAAG,WAAW,CAACoB,YAAY,YAAYa,YAAY,CAAC,MAAQ,QAAQ/B,MAAM,CAAC,GAAK,YAAY,OAAS,OAAO,OAAS,GAAG,KAAO,OAAO,aAAa,CAACyC,QAAQ,SAAS,KAAO9C,EAAI+C,gBAAgB,eAAe,CAACC,KAAM,OAAQC,MAAO,cAAchlC,GAAG,CAAC,mBAAmB+hC,EAAIkD,wBAAwB,CAAC/C,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,eAAeF,EAAG,kBAAkB,CAACE,MAAM,CAAC,YAAY,OAAO,KAAO,OAAO,MAAQL,EAAIM,GAAG,QAAQ,SAAW,GAAG,cAAc,CAAC,YAAa,eAAemB,YAAYzB,EAAI0B,GAAG,CAAC,CAAC9+C,IAAI,UAAU++C,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMjiD,IAAS,MAAEwgD,EAAG,OAAO,CAACoB,YAAY,iBAAiBtjC,GAAG,CAAC,MAAQ,SAASwiC,GAAQ,OAAOT,EAAIgC,gBAAgB,KAAMJ,EAAMjiD,IAAIwjD,SAAS,CAACnD,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGM,EAAMjiD,IAAIyjD,SAASjD,EAAG,OAAO,CAACoB,YAAY,iBAAiB,CAACvB,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGM,EAAMjiD,IAAIyjD,gBAAgBjD,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQ,MAAQL,EAAIM,GAAG,QAAQ,SAAW,GAAG,cAAc,CAAC,YAAa,iBAAiBH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQ,MAAQL,EAAIM,GAAG,WAAWH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQL,EAAIM,GAAG,YAAY,SAAW,GAAG,cAAc,CAAC,YAAa,iBAAiBH,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQL,EAAIM,GAAG,WAAW,MAAQ,UAAUmB,YAAYzB,EAAI0B,GAAG,CAAC,CAAC9+C,IAAI,UAAU++C,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMjiD,IAAS,MAAEwgD,EAAG,cAAc,CAACoB,YAAY,mBAAmBa,YAAY,CAAC,OAAS,OAAO,YAAY,OAAO/B,MAAM,CAAC,KAAO,UAAU,QAAU,UAAU,CAACF,EAAG,MAAM,CAACoB,YAAY,kBAAkB,CAACpB,EAAG,YAAY,CAACoB,YAAY,iBAAiBa,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,aAAa,MAAM,eAAe,MAAM,cAAc,MAAM,eAAe,QAAQ/B,MAAM,CAAC,KAAO,UAAU,MAAQ,GAAG,KAAO,WAAW,CAACL,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,WAAW,KAAKH,EAAG,IAAI,CAACoB,YAAY,4BAA4B,GAAGpB,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,YAAYkC,KAAK,YAAY,CAACpC,EAAG,mBAAmB,CAACA,EAAG,OAAO,CAACoB,YAAY,iBAAiB,CAACvB,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,gBAAgB,KAAKH,EAAG,QAAQ,CAACiC,YAAY,CAAC,QAAU,SAAS/B,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,SAAW,QAAQpiC,GAAG,CAAC,OAAS,SAASwiC,GAAQ,OAAOT,EAAIwC,gBAAgB/B,EAAQmB,EAAMjiD,IAAIwjD,cAAchD,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAU,KAAK,CAACF,EAAG,OAAO,CAACoB,YAAY,iBAAiB,CAACvB,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,eAAe,KAAKH,EAAG,QAAQ,CAACiC,YAAY,CAAC,QAAU,SAAS/B,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,gBAAkB,GAAG,aAAe,GAAG,OAAS,OAAOpiC,GAAG,CAAC,OAAS,SAASwiC,GAAQ,OAAOT,EAAIwC,gBAAgB/B,EAAQmB,EAAMjiD,IAAIwjD,eAAe,IAAI,GAAGnD,EAAI+B,KAAK5B,EAAG,QAAQA,EAAG,cAAc,CAACoB,YAAY,mBAAmBa,YAAY,CAAC,OAAS,OAAO,YAAY,OAAO/B,MAAM,CAAC,KAAO,UAAU,QAAU,UAAU,CAACF,EAAG,MAAM,CAACoB,YAAY,kBAAkB,CAACpB,EAAG,YAAY,CAACoB,YAAY,mBAAmBa,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,aAAa,MAAM,eAAe,MAAM,cAAc,MAAM,eAAe,QAAQ/B,MAAM,CAAC,KAAO,UAAU,MAAQ,GAAG,KAAO,WAAW,CAACL,EAAIiB,GAAG,IAAIjB,EAAIsB,GAAGtB,EAAIM,GAAG,aAAa,KAAKH,EAAG,IAAI,CAACoB,YAAY,4BAA4B,GAAGpB,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,YAAYkC,KAAK,YAAY,CAACpC,EAAG,mBAAmB,CAACA,EAAG,OAAO,CAACiC,YAAY,CAAC,QAAU,SAASnkC,GAAG,CAAC,MAAQ,SAASwiC,GAAQ,OAAOT,EAAIqD,SAASzB,EAAMjiD,IAAIwjD,KAAM,UAAU,CAACnD,EAAIiB,GAAG,MAAMjB,EAAIsB,GAAGtB,EAAIM,GAAG,kBAAkBH,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAU,KAAK,CAACF,EAAG,OAAO,CAACiC,YAAY,CAAC,QAAU,SAASnkC,GAAG,CAAC,MAAQ,SAASwiC,GAAQ,OAAOT,EAAIqD,SAASzB,EAAMjiD,IAAIwjD,KAAM,UAAU,CAACnD,EAAIiB,GAAG,MAAMjB,EAAIsB,GAAGtB,EAAIM,GAAG,mBAAmB,IAAI,WAAW,GAAGH,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAM,IAC1jTiD,EAAkB,G,YCCf,SAASC,EAAUjf,GACtB,OAAOvkC,eAAI,cAAeukC,G,gBCDvB,SAASkf,EAAclf,GAC1B,OAAOvkC,eAAI,kBAAmBukC,GCD3B,SAASmf,EAAYnf,GACxB,OAAOvkC,eAAI,oBAAqBukC,G,gGCkPpC,MAAMof,EAAe,CACnB74C,WAAY,UACZpB,WAAY,UACZwV,OAAQ,UACRxK,UAAW,2BACXkvC,MAAO,UACPC,YAAa,UACbC,IAAK,UACLC,UAAW,UACXC,MAAO,UACPC,YAAa,UACbC,OAAQ,UACRC,aAAc,UACdC,QAAS,UACTC,cAAe,UACfC,KAAM,UACNC,WAAY,UACZC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,YAAa,WAETC,EAAqB,CAACtrC,EAAMurC,KAChC,MAAMC,EAAej1B,IACnBg1B,EAAUE,KACd,mBACA,gBACM,KAAN,SACM,KAAN,OACM,KAAN,YAMEzrC,EAAK4E,GAAG,SAAU4mC,GAElBD,EAAUx0C,iBAAiB,SAAS,WAClCiJ,EAAK0Y,IAAI,SAAU8yB,OAGjBE,EAAe,CAAC1rC,EAAMurC,EAAWI,EAAeC,KACpD5rC,EAAK6rC,OAASN,EACd,IAAIO,EAAgB,KACpB,MAAMC,EAAyB,SAAjC,GACQH,GAAgBA,EAAe,EAC7BE,EACFA,GAAiB,EAAzB,0BAEQA,EAAgB,EAAxB,yBACQ/xC,YAAW,WACTiG,EAAK8Z,MAAMgyB,KACrB,IAGM9rC,EAAK8Z,MAAM,EAAjB,2BAGQkyB,EAAqB,SAA7B,GACIT,EAAUE,KACd,mBACA,gBACM,KAAN,QACM,MAAN,OAKEF,EAAUU,UAAYF,EAClBJ,GACF3rC,EAAK4E,GAAG,OAAQonC,GAGlB,MAAME,EAAiBzmB,aAAY,WACjC8lB,EAAUE,KACd,mBACA,gBACM,KAAN,YACM,KAAN,SAKA,KACEF,EAAUx0C,iBAAiB,SAAS,WAClCw0C,EAAUvyC,oBAAoB,UAAW+yC,GACzC/rC,EAAK0Y,IAAI,OAAQszB,UACVhsC,EAAK6rC,OACZlmB,cAAcumB,OAIlB,OACE,OACE,MAAO,CACL1E,UAAW,GACXM,WAAY,GACZqE,WAAN,GACMC,cAAc,EACdjE,UAAW,GACXkE,YAAa,GACb3C,gBAAiB,GACjB4C,KAAM,GACN5xC,UAAN,GACM6uC,KAAM,GACND,SAAU,GACVF,WAAY,GACZmD,YAAa,GACb3D,uBAAuB,EACvBK,0BAA0B,EAC1BuD,MAAO,GACPC,cAAc,EACdC,UAAW,GACXltC,EAAGja,KAAKonD,QACRC,GAAI,KACJ5sC,KAAM,KACN6sC,MAAOtnD,KAAKonD,UAGhBG,QAAS,CACP,eACE,OAAN,OAAM,GAAN,SACQ,GAAIC,EAAK,CACPxnD,KAAK4mD,WAAf,GACU5mD,KAAKuiD,WAAa,GAClBviD,KAAK8mD,YAAc,GACnB9mD,KAAK4iD,UAAY,GACjB,MAAMr1C,EAAOi6C,EAAI55C,MACjB,IAAV,aACY5N,KAAK4mD,WAAWpmD,KAAK+M,EAAKvJ,GAAKyjD,SAASxD,UAKhD,kBAAkBz4C,GAChBo5C,EAAc,CAApB,uBACQ,GAAI4C,EAAK,CACP,MAAMV,EAAhB,GACU9mD,KAAK8mD,YAAc,GACnB9mD,KAAK4iD,UAAY,GACjB,MAAMr1C,EAAOi6C,EAAI55C,MACjB,IAAV,cACY,MAAM85C,EAAK,CAAvB,mDACYZ,EAAYtmD,KAAKknD,GAEnB1nD,KAAK8mD,YAAcA,MAIzB,mBAAmBt7C,KAEnB,YACE,IAAI+2C,EAAaviD,KAAKuiD,WACtB,GAA2B,QAAvBviD,KAAKuiD,WAAW,GAAc,CAChCA,EAAa,GACb,IAAK,MAAMv+C,KAAOhE,KAAK8mD,YACrBvE,EAAW/hD,KAAKR,KAAK8mD,YAAY9iD,GAAKpE,OAG1C+kD,EAAU,CAAhB,iDACQ,GAAI6C,EAAK,CACPxnD,KAAK4iD,UAAY,GACjB,IAAK,MAAMjiD,KAAK6mD,EAAK,CACnB,MAAMG,EAAlB,cACkBC,EAAQJ,EAAI7mD,GAAGknD,WACrB,IAAK,MAAMhlD,KAAK+kD,EAAO,CACrB,IAAIE,EAAK,CACPC,KAAhB,EACgBC,UAAhB,UACgBC,MAAhB,WACgBC,IAAhB,aACgBC,iBAAhB,uBACgBC,MAAhB,WACgBC,IAAhB,SACgBC,IAAhB,SACgBrF,GAAI2E,EAAM/kD,GAAG0lD,IAEfvoD,KAAK4iD,UAAUpiD,KAAKsnD,SAM9B,aAAat8C,EAASg9C,GACpBxoD,KAAKqjD,uBAAwB,EAC7BrjD,KAAKinD,MAAQ,QAAnB,0HAEI,gBAAgBz7C,EAASw4C,GAWvB,QAVa5mC,IAAT4mC,IACFA,EAAO,KAEI,MAATA,GAA4B,OAAZx4C,IAClBxL,KAAK+mD,KAAOv7C,EAAQu8C,KACpB/nD,KAAKmV,UAAY3J,EAAQw8C,WAE3BhoD,KAAKgnD,YAAc,GACnBhnD,KAAK6jD,WAAX,EACM7jD,KAAKgnD,YAAYxmD,KAAKwjD,QACT5mC,IAAT4mC,EAAoB,CACtB,IAAIyE,EAAKzE,EAAKh1B,MAAM,KAChB05B,EAAM,GACV1oD,KAAKgnD,YAAc,GACnByB,EAAG1oC,QAAQ,CAACqiC,EAApB,KACwB,IAAVl0C,IACFw6C,EAAM,IACNtG,EAAO,IACPpiD,KAAKgnD,YAAYxmD,KAAK,CACpByjD,KAAM7B,EACN4B,KAAM0E,KAGI,IAAVx6C,GAAwB,KAATk0C,IACjBsG,GAAOtG,EAAO,IACdpiD,KAAKgnD,YAAYxmD,KAAK,CACpByjD,KAAM7B,EACN4B,KAAM0E,OAKd1oD,KAAKgkD,KAAOA,EACZhkD,KAAKmkD,gBAAkB,GACvBU,EAAY,CACV5C,UAAWjiD,KAAKiiD,UAChB8E,KAAM/mD,KAAK+mD,KACX5xC,UAAWnV,KAAKmV,UAChB6uC,KAAMA,IACd,SACQhkD,KAAK0jD,0BAA2B,EAChC1jD,KAAKmkD,gBAAkB,QACX/mC,IAARoqC,IACFxnD,KAAKmkD,gBAAkBqD,IAEjC,IACQmB,MAAMC,EAAIC,KAAKC,YAGnB,sBAAsBnlD,GACpB3D,KAAK+jD,SAAW,GAChBpgD,EAAIoc,QAAQ,IACV/f,KAAK+jD,SAASvjD,KAAK4hD,EAAKmC,SAG5B,SAASP,EAAMx+C,GACb,MAAMujD,EAAM,+BAAlB,oGACYC,EAAM,IAAIC,eAChBD,EAAI11B,KAAK,MAAOy1B,GAAK,GACrBC,EAAIE,aAAe,OACnBF,EAAIG,iBAAiB,eAAgB,kCAErCH,EAAII,OAAS,WAEX,GAAoB,MAAhBppD,KAAKqpD,OAAgB,CAEvB,IAAIrhC,EAAUghC,EAAIM,SACdC,EAAQliD,SAAS9B,cAAc,KACnCgkD,EAAM9E,SAAWzkD,KAAKwpD,kBAAkB,eACxCD,EAAM/jD,MAAMikD,QAAU,OACtB,IAAIC,EAAO,IAAIC,KAAK,CAAC3hC,IACrBuhC,EAAMK,KAAOC,IAAIC,gBAAgBJ,GACjCriD,SAAS+9B,KAAKl/B,YAAYqjD,GAC1BA,EAAMQ,QACN1iD,SAAS+9B,KAAK39B,YAAY8hD,KAI9BP,EAAI9C,QAEN,aAAa8D,EAAOxkD,GAClB,GAAqB,IAAjBwkD,EAAMppD,OAER,YADA+nD,MAAM3oD,KAAK0hD,GAAG,iBAGhB,IAAIsC,EAAO,GACXgG,EAAMjqC,QAAQqiC,IACZ4B,GAAQ,cAAhB,IAEM,MAAM+E,EAAM,+BAAlB,oGACYC,EAAM,IAAIC,eAChBD,EAAI11B,KAAK,MAAOy1B,GAAK,GACrBC,EAAIE,aAAe,OACnBF,EAAIG,iBAAiB,eAAgB,kCAErCH,EAAII,OAAS,WAEX,GAAoB,MAAhBppD,KAAKqpD,OAAgB,CAEvB,IAAIrhC,EAAUghC,EAAIM,SACdC,EAAQliD,SAAS9B,cAAc,KACnCgkD,EAAM9E,SAAWzkD,KAAKwpD,kBAAkB,eACxCD,EAAM/jD,MAAMikD,QAAU,OACtB,IAAIC,EAAO,IAAIC,KAAK,CAAC3hC,IACrBuhC,EAAMK,KAAOC,IAAIC,gBAAgBJ,GACjCriD,SAAS+9B,KAAKl/B,YAAYqjD,GAC1BA,EAAMQ,QACN1iD,SAAS+9B,KAAK39B,YAAY8hD,KAI9BP,EAAI9C,QAEN,gBAAgB70C,EAAG2yC,GACjB,MAAMiG,EAAQ54C,EAAE2B,OAAOi3C,MACvB,GAAqB,IAAjBA,EAAMrpD,OAER,YADAyQ,EAAE2B,OAAOpT,MAAQ,IAGnB,MAAMsqD,EAAW,IAAIC,SAErB,IAAK,IAAIxpD,EAAI,EAAGA,EAAIspD,EAAMrpD,OAAQD,IAChCupD,EAASE,OAAO,QAASH,EAAMtpD,IAEjC,OAAN,OAAM,CAAN,GACQshD,UAAR,eACQ0F,SAAR,UACQ0C,eAAR,eACQC,UAAR,IAAQ,eAAR,sCAC4BltC,IAAhBoqC,EAAI+C,QACN5B,MAAMnB,EAAI+C,SAEV5B,MAAMnB,EAAIgD,UAEpB,IACQ7B,MAAMC,EAAIC,KAAKC,WAEjBz3C,EAAE2B,OAAOpT,MAAQ,IAGnB,iBAIE,IAAIiK,EAASxC,SAAS+9B,KAAKqlB,aACvBvhD,EAAOW,EAAjB,GACM7J,KAAKya,KAAKymC,MACVlhD,KAAKya,KAAKpR,OAAOrJ,KAAKya,KAAK5Y,KAAjC,aACM7B,KAAKya,KAAK4Z,kBAEZ,OAAO9I,EAAIw9B,GACO,UAAZx9B,EAAGjH,MACLja,OAAOipB,KAAKy1B,IAGhB,UACE1+C,OAAOoJ,oBAAoB,SAAUzT,KAAKugB,gBAEtCvgB,KAAKqnD,IACPrnD,KAAKqnD,GAAGqD,QAEN1qD,KAAKya,MACPza,KAAKya,KAAKjT,UAEZxH,KAAK2qD,MAAM,UAAU,IAEvB,WACE53B,EAAN,0BACMA,EAAN,0BACMA,EAAN,0BACM/yB,KAAKya,KAAO,IAAIsY,EAAtB,aACQkb,aAAc,SACd/kC,KAAMu0C,SAASp2C,SAAS+9B,KAAKqlB,aAArC,IACQ5oD,KAAM47C,SAASp2C,SAAS+9B,KAAKwlB,aAC7Brd,YAAY,EAEZO,cAAc,EACdjhC,SAAU,GACV86B,aAAa,EACb/iC,YAAa,MACb6oC,UAAW,QACXnvB,MAAOwmC,IAET9kD,KAAKya,KAAKowC,cAAe,EACzB7qD,KAAKya,KAAKqwC,OAAS,KACjB9qD,KAAKya,KAAK8Z,MAAM,SAElBv0B,KAAKya,KAAKqwC,SACV9qD,KAAKya,KAAK4E,GAAG,OAAO,SAA1B,KACQyO,QAAQ+nB,IAAI7xC,EAAKunB,EAAIA,EAAGS,YAE1BhsB,KAAKya,KAAK6Y,KAAKtzB,KAAK+qD,MAAM/iD,UAC1BhI,KAAKya,KAAKssB,aAAa/mC,KAAKgrD,QAE5BhrD,KAAKya,KAAK4E,GAAG,SAAUrf,KAAKugB,gBAC5BlW,OAAOmH,iBAAiB,SAAUxR,KAAKugB,gBACvCvgB,KAAKya,KAAKymC,MACVlhD,KAAKqnD,GAAK,IAAI4D,UAAUjrD,KAAKinD,OAC7BjnD,KAAKqnD,GAAG6D,QAAU,KAChBlrD,KAAKmrD,SAASnb,MAAMhwC,KAAK0hD,GAAG,kCAE9B1hD,KAAKqnD,GAAG+D,QAAU,KAChBprD,KAAKya,KAAK+Z,UAAU,eAAe,GACnCx0B,KAAKmrD,SAASnrD,KAAK0hD,GAAG,2BAExByE,EAAanmD,KAAKya,KAAMza,KAAKqnD,IAAI,GAAO,GACxCtB,EAAmB/lD,KAAKya,KAAMza,KAAKqnD,MAGvCgE,MAAF,CACI,QAAQ1nD,GACN3D,KAAKia,EAAItW,GAEX4+C,WAAJ,cACM,IAAIr0C,EAAQ,EAAlB,mCACA,0BACA,yBACA,2BACA,8CC3oBmV,I,wBCQ/Uo9C,EAAY,eACd,EACAnK,EACAuD,GACA,EACA,KACA,KACA,MAIa,aAAA4G,E,2CClBf7rD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoG,cAAgB,IACxBpG,EAAQqG,uBAAyB,IACjCrG,EAAQwM,YAAc,GACtBxM,EAAQsjC,wBAA0B,G,kCCJlC,IAAIxzB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI+d,EAAiB,EAAQ,QACzByH,EAAgB,SAAUzU,GAE1B,SAASyU,EAAammC,GAClB,IAAI36C,EAAQD,EAAOE,KAAK7Q,OAASA,KAKjC,OAJA4Q,EAAM26C,WAAaA,EACnB36C,EAAM46C,OAAS,IAAI1nD,MAAM8M,EAAM26C,YAC/B36C,EAAM6W,YAAc,EACpB7W,EAAM66C,QAAU,EACT76C,EA4IX,OAnJAnB,EAAU2V,EAAczU,GASxBlR,OAAOC,eAAe0lB,EAAajlB,UAAW,YAAa,CACvDgB,IAAK,WACD,OAAOnB,KAAKurD,YAEhBp9C,IAAK,SAAUuX,GACX,GAAI1lB,KAAKurD,aAAe7lC,EAAxB,CAIA,IADA,IAAIgmC,EAAW,IAAI5nD,MAAM4hB,GAChB/kB,EAAI,EAAGA,EAAI4C,KAAKE,IAAIiiB,EAAc1lB,KAAKY,QAASD,IACrD+qD,EAAS/qD,GAAKX,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBhrD,IAEnDX,KAAKwrD,OAASE,EACd1rD,KAAKurD,WAAa7lC,EAClB1lB,KAAKynB,YAAc,IAEvBvN,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAe0lB,EAAajlB,UAAW,SAAU,CACpDgB,IAAK,WACD,OAAOnB,KAAKyrD,SAEhBt9C,IAAK,SAAUy9C,GACX,GAAIA,EAAY5rD,KAAKyrD,QACjB,IAAK,IAAI9qD,EAAIX,KAAKyrD,QAAS9qD,EAAIirD,EAAWjrD,IACtCX,KAAKwrD,OAAO7qD,QAAKyc,EAGzBpd,KAAKyrD,QAAUG,GAEnB1xC,YAAY,EACZE,cAAc,IAElBgL,EAAajlB,UAAUgB,IAAM,SAAU+M,GACnC,OAAOlO,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBz9C,KAE5CkX,EAAajlB,UAAUgO,IAAM,SAAUD,EAAOtO,GAC1CI,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBz9C,IAAUtO,GAE/CwlB,EAAajlB,UAAUK,KAAO,SAAUZ,GACpCI,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgB3rD,KAAKyrD,UAAY7rD,EAC9CI,KAAKyrD,UAAYzrD,KAAKurD,YACtBvrD,KAAKynB,cAAgBznB,KAAKynB,YAAcznB,KAAKurD,WAC7CvrD,KAAKshB,KAAK,OAAQ,IAGlBthB,KAAKyrD,WAGbrmC,EAAajlB,UAAUk0C,QAAU,WAC7B,GAAIr0C,KAAKyrD,UAAYzrD,KAAKurD,WACtB,MAAM,IAAIxb,MAAM,4CAIpB,OAFA/vC,KAAKynB,cAAgBznB,KAAKynB,YAAcznB,KAAKurD,WAC7CvrD,KAAKshB,KAAK,OAAQ,GACXthB,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgB3rD,KAAKyrD,QAAU,KAE3DhsD,OAAOC,eAAe0lB,EAAajlB,UAAW,SAAU,CACpDgB,IAAK,WACD,OAAOnB,KAAKyrD,UAAYzrD,KAAKurD,YAEjCrxC,YAAY,EACZE,cAAc,IAElBgL,EAAajlB,UAAUqN,IAAM,WACzB,OAAOxN,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgB3rD,KAAKyrD,UAAY,KAE7DrmC,EAAajlB,UAAUU,OAAS,SAAU2H,EAAOkF,GAE7C,IADA,IAAIE,EAAQ,GACHC,EAAK,EAAGA,EAAKC,UAAUlN,OAAQiN,IACpCD,EAAMC,EAAK,GAAKC,UAAUD,GAE9B,GAAIH,EAAa,CACb,IAAK,IAAI/M,EAAI6H,EAAO7H,EAAIX,KAAKyrD,QAAU/9C,EAAa/M,IAChDX,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBhrD,IAAMX,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBhrD,EAAI+M,IAEhF1N,KAAKyrD,SAAW/9C,EAEpB,GAAIE,GAASA,EAAMhN,OAAQ,CACvB,IAASD,EAAIX,KAAKyrD,QAAU,EAAG9qD,GAAK6H,EAAO7H,IACvCX,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBhrD,EAAIiN,EAAMhN,SAAWZ,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBhrD,IAE3F,IAASA,EAAI,EAAGA,EAAIiN,EAAMhN,OAAQD,IAC9BX,KAAKwrD,OAAOxrD,KAAK2rD,gBAAgBnjD,EAAQ7H,IAAMiN,EAAMjN,GAEzD,GAAIX,KAAKyrD,QAAU79C,EAAMhN,OAASZ,KAAKurD,WAAY,CAC/C,IAAIM,EAAe7rD,KAAKyrD,QAAU79C,EAAMhN,OAAUZ,KAAKurD,WACvDvrD,KAAKynB,aAAeokC,EACpB7rD,KAAKyrD,QAAUzrD,KAAKurD,WACpBvrD,KAAKshB,KAAK,OAAQuqC,QAGlB7rD,KAAKyrD,SAAW79C,EAAMhN,SAIlCwkB,EAAajlB,UAAU0lB,UAAY,SAAUozB,GACrCA,EAAQj5C,KAAKyrD,UACbxS,EAAQj5C,KAAKyrD,SAEjBzrD,KAAKynB,aAAewxB,EACpBj5C,KAAKyrD,SAAWxS,EAChBj5C,KAAKshB,KAAK,OAAQ23B,IAEtB7zB,EAAajlB,UAAUo0C,cAAgB,SAAU/rC,EAAOywC,EAAO//B,GAC3D,KAAI+/B,GAAS,GAAb,CAGA,GAAIzwC,EAAQ,GAAKA,GAASxI,KAAKyrD,QAC3B,MAAM,IAAI1b,MAAM,+BAEpB,GAAIvnC,EAAQ0Q,EAAS,EACjB,MAAM,IAAI62B,MAAM,gDAEpB,GAAI72B,EAAS,EAAG,CACZ,IAAK,IAAIvY,EAAIs4C,EAAQ,EAAGt4C,GAAK,EAAGA,IAC5BX,KAAKmO,IAAI3F,EAAQ7H,EAAIuY,EAAQlZ,KAAKmB,IAAIqH,EAAQ7H,IAElD,IAAImrD,EAAgBtjD,EAAQywC,EAAQ//B,EAAUlZ,KAAKyrD,QACnD,GAAIK,EAAe,EAAG,CAClB9rD,KAAKyrD,SAAWK,EAChB,MAAO9rD,KAAKyrD,QAAUzrD,KAAKurD,WACvBvrD,KAAKyrD,UACLzrD,KAAKynB,cACLznB,KAAKshB,KAAK,OAAQ,SAK1B,IAAS3gB,EAAI,EAAGA,EAAIs4C,EAAOt4C,IACvBX,KAAKmO,IAAI3F,EAAQ7H,EAAIuY,EAAQlZ,KAAKmB,IAAIqH,EAAQ7H,MAI1DykB,EAAajlB,UAAUwrD,gBAAkB,SAAUz9C,GAC/C,OAAQlO,KAAKynB,YAAcvZ,GAASlO,KAAKurD,YAEtCnmC,EApJQ,CAqJjBzH,EAAeoE,cACjBpiB,EAAQylB,aAAeA,G,kCCrKvB3lB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIs9B,EAAkB,WAClB,SAASA,EAAen9B,GACpBC,KAAKD,UAAYA,EACjBC,KAAK8c,iBAsET,OApEAogB,EAAe/8B,UAAU2c,eAAiB,WACtC9c,KAAKob,eAAiB,KACtBpb,KAAK8a,aAAe,KACpB9a,KAAK2+B,mBAAoB,EACzB3+B,KAAKqgC,qBAAuB,GAEhC5gC,OAAOC,eAAew9B,EAAe/8B,UAAW,sBAAuB,CACnEgB,IAAK,WACD,OAAInB,KAAK2+B,kBACE,CAAC,EAAG,GAEV3+B,KAAK8a,cAAiB9a,KAAKob,gBAGzBpb,KAAKiiC,6BAA+BjiC,KAAK8a,aAFrC9a,KAAKob,gBAIpBlB,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAew9B,EAAe/8B,UAAW,oBAAqB,CACjEgB,IAAK,WACD,GAAInB,KAAK2+B,kBACL,MAAO,CAAC3+B,KAAKD,UAAU8B,KAAM7B,KAAKD,UAAUkB,OAAO+Z,MAAQhb,KAAKD,UAAUmJ,KAAO,GAErF,IAAKlJ,KAAKob,eACN,OAAO,KAEX,IAAKpb,KAAK8a,cAAgB9a,KAAKiiC,6BAA8B,CACzD,IAAI8pB,EAAkB/rD,KAAKob,eAAe,GAAKpb,KAAKqgC,qBACpD,OAAI0rB,EAAkB/rD,KAAKD,UAAU8B,KAC1B,CAACkqD,EAAkB/rD,KAAKD,UAAU8B,KAAM7B,KAAKob,eAAe,GAAK7X,KAAK6Y,MAAM2vC,EAAkB/rD,KAAKD,UAAU8B,OAEjH,CAACkqD,EAAiB/rD,KAAKob,eAAe,IAEjD,OAAIpb,KAAKqgC,sBACDrgC,KAAK8a,aAAa,KAAO9a,KAAKob,eAAe,GACtC,CAAC7X,KAAKC,IAAIxD,KAAKob,eAAe,GAAKpb,KAAKqgC,qBAAsBrgC,KAAK8a,aAAa,IAAK9a,KAAK8a,aAAa,IAG/G9a,KAAK8a,cAEhBZ,YAAY,EACZE,cAAc,IAElB8iB,EAAe/8B,UAAU8hC,2BAA6B,WAClD,IAAIz5B,EAAQxI,KAAKob,eACb3S,EAAMzI,KAAK8a,aACf,SAAKtS,IAAUC,KAGRD,EAAM,GAAKC,EAAI,IAAOD,EAAM,KAAOC,EAAI,IAAMD,EAAM,GAAKC,EAAI,KAEvEy0B,EAAe/8B,UAAU0+B,OAAS,SAAU/X,GAOxC,OANI9mB,KAAKob,iBACLpb,KAAKob,eAAe,IAAM0L,GAE1B9mB,KAAK8a,eACL9a,KAAK8a,aAAa,IAAMgM,GAExB9mB,KAAK8a,cAAgB9a,KAAK8a,aAAa,GAAK,GAC5C9a,KAAK8c,kBACE,IAEP9c,KAAKob,gBAAkBpb,KAAKob,eAAe,GAAK,IAChDpb,KAAKob,eAAe,GAAK,IAEtB,IAEJ8hB,EAzEU,GA2ErBv9B,EAAQu9B,eAAiBA,G,kCC5EzBz9B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIosD,EAAqBC,EAAQ,WAC7BC,EAAqBD,EAAQ,WAC7BE,EAAiBF,EAAQ,WACzBG,EAAwBH,EAAQ,WAChCI,EAAoB,CACpBvhD,IAAK,2BACLykB,KAAM,YAyCV,SAAS08B,EAAQnhD,GACb,MAAO,CACHA,IAAKA,EACLykB,KAAMkuB,SAAS3yC,EAAI+D,MAAM,GAAI,KAAO,EAAI,KAGhD,SAASy9C,EAAYn1C,GACjB,IAAIi0B,EAAIj0B,EAAE7P,SAAS,IACnB,OAAO8jC,EAAExqC,OAAS,EAAI,IAAMwqC,EAAIA,EA/CpCzrC,EAAQkyB,oBAAsB,WAoB1B,IAnBA,IAAIzc,EAAS,CACT62C,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,YAERhyC,EAAI,CAAC,EAAM,GAAM,IAAM,IAAM,IAAM,KAC9BtZ,EAAI,EAAGA,EAAI,IAAKA,IAAK,CAC1B,IAAI4oC,EAAItvB,EAAGtZ,EAAI,GAAM,EAAI,GACrB6oC,EAAIvvB,EAAGtZ,EAAI,EAAK,EAAI,GACpBiP,EAAIqK,EAAEtZ,EAAI,GACdyU,EAAO5U,KAAK,CACRsK,IAAK,IAAMwhD,EAAY/iB,GAAK+iB,EAAY9iB,GAAK8iB,EAAY18C,GACzD2f,MAAQga,GAAK,GAAOC,GAAK,GAAO55B,GAAK,EAAK,OAAU,IAG5D,IAASjP,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAIwW,EAAI,EAAQ,GAAJxW,EACR4N,EAAK+9C,EAAYn1C,GACrB/B,EAAO5U,KAAK,CACRsK,IAAK,IAAMyD,EAAKA,EAAKA,EACrBghB,MAAQpY,GAAK,GAAOA,GAAK,GAAOA,GAAK,EAAK,OAAU,IAG5D,OAAO/B,EArCmB,GAiD9B,IAAIsJ,EAAgB,WAChB,SAASA,EAAarX,EAAUmX,GAC5Bxe,KAAKwe,kBAAoBA,EACzB,IAAI6jB,EAASh7B,EAAS9B,cAAc,UACpC88B,EAAOpgC,MAAQ,EACfogC,EAAOx4B,OAAS,EAChB7J,KAAK2H,KAAO06B,EAAOz6B,WAAW,MAC9B5H,KAAK2H,KAAKsqB,yBAA2B,OACrCjyB,KAAKusD,aAAevsD,KAAK2H,KAAK6kD,qBAAqB,EAAG,EAAG,EAAG,GAC5DxsD,KAAKoV,OAAS,CACVnJ,WAAY+/C,EACZnhD,WAAYqhD,EACZ7rC,OAAQ8rC,EACR7rC,aAAc8rC,EACdv2C,UAAWw2C,EACXrgD,KAAMrM,EAAQkyB,oBAAoBhjB,SAiD1C,OA9CA6P,EAAave,UAAUwe,SAAW,SAAUL,GACxCte,KAAKoV,OAAOnJ,WAAajM,KAAKysD,YAAYnuC,EAAMrS,WAAY+/C,GAC5DhsD,KAAKoV,OAAOvK,WAAa7K,KAAKysD,YAAYnuC,EAAMzT,WAAYqhD,GAC5DlsD,KAAKoV,OAAOiL,OAASrgB,KAAKysD,YAAYnuC,EAAM+B,OAAQ8rC,GAAgB,GACpEnsD,KAAKoV,OAAOkL,aAAetgB,KAAKysD,YAAYnuC,EAAMgC,aAAc8rC,GAAuB,GACvFpsD,KAAKoV,OAAOS,UAAY7V,KAAKysD,YAAYnuC,EAAMzI,UAAWw2C,GAAmB,GAC7ErsD,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAMymC,MAAOplD,EAAQkyB,oBAAoB,IAChF7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAM2mC,IAAKtlD,EAAQkyB,oBAAoB,IAC9E7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAM6mC,MAAOxlD,EAAQkyB,oBAAoB,IAChF7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAM+mC,OAAQ1lD,EAAQkyB,oBAAoB,IACjF7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAMmnC,KAAM9lD,EAAQkyB,oBAAoB,IAC/E7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAMinC,QAAS5lD,EAAQkyB,oBAAoB,IAClF7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAMqnC,KAAMhmD,EAAQkyB,oBAAoB,IAC/E7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAMunC,MAAOlmD,EAAQkyB,oBAAoB,IAChF7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAM0mC,YAAarlD,EAAQkyB,oBAAoB,IACtF7xB,KAAKoV,OAAOpJ,KAAK,GAAKhM,KAAKysD,YAAYnuC,EAAM4mC,UAAWvlD,EAAQkyB,oBAAoB,IACpF7xB,KAAKoV,OAAOpJ,KAAK,IAAMhM,KAAKysD,YAAYnuC,EAAM8mC,YAAazlD,EAAQkyB,oBAAoB,KACvF7xB,KAAKoV,OAAOpJ,KAAK,IAAMhM,KAAKysD,YAAYnuC,EAAMgnC,aAAc3lD,EAAQkyB,oBAAoB,KACxF7xB,KAAKoV,OAAOpJ,KAAK,IAAMhM,KAAKysD,YAAYnuC,EAAMonC,WAAY/lD,EAAQkyB,oBAAoB,KACtF7xB,KAAKoV,OAAOpJ,KAAK,IAAMhM,KAAKysD,YAAYnuC,EAAMknC,cAAe7lD,EAAQkyB,oBAAoB,KACzF7xB,KAAKoV,OAAOpJ,KAAK,IAAMhM,KAAKysD,YAAYnuC,EAAMsnC,WAAYjmD,EAAQkyB,oBAAoB,KACtF7xB,KAAKoV,OAAOpJ,KAAK,IAAMhM,KAAKysD,YAAYnuC,EAAMwnC,YAAanmD,EAAQkyB,oBAAoB,MAE3FnT,EAAave,UAAUssD,YAAc,SAAU3hD,EAAK4hD,EAAUluC,GAE1D,QAD0B,IAAtBA,IAAgCA,EAAoBxe,KAAKwe,oBACxD1T,EACD,OAAO4hD,EAIX,GAFA1sD,KAAK2H,KAAKiD,UAAY5K,KAAKusD,aAC3BvsD,KAAK2H,KAAKiD,UAAYE,EACa,kBAAxB9K,KAAK2H,KAAKiD,UAEjB,OADAkjB,QAAQC,KAAK,UAAYjjB,EAAM,8BAAgC4hD,EAAS5hD,KACjE4hD,EAEX1sD,KAAK2H,KAAKwC,SAAS,EAAG,EAAG,EAAG,GAC5B,IAAIoD,EAAOvN,KAAK2H,KAAKwqB,aAAa,EAAG,EAAG,EAAG,GAAG5kB,KAC9C,OAAKiR,GAAiC,MAAZjR,EAAK,GAKxB,CACHzC,IAAKA,EACLykB,MAAOhiB,EAAK,IAAM,GAAKA,EAAK,IAAM,GAAKA,EAAK,IAAM,EAAIA,EAAK,MAAQ,IANnEugB,QAAQC,KAAK,UAAYjjB,EAAZ,0EACY4hD,EAAS5hD,IAAM,KACjC4hD,IAORhuC,EAhEQ,GAkEnB/e,EAAQ+e,aAAeA,G,kCC5HvB,IAAIjP,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqV,EAAoB,EAAQ,QAC5BhR,EAAU,EAAQ,QAClBmC,EAAmB,EAAQ,QAC3B2iB,EAAmB,SAAUpY,GAE7B,SAASoY,EAAgB5T,EAAW5O,EAAQ6O,EAAQpN,GAChD,IAAI4I,EAAQD,EAAOE,KAAK7Q,KAAMmV,EAAW,OAAQ5O,GAAQ,EAAM6O,IAAWpV,KAI1E,OAHA4Q,EAAM0E,OAAS,KACftN,EAASoX,UAAUC,GAAG,aAAa,SAAUhO,GAAK,OAAOT,EAAM0O,aAAajO,MAC5ErJ,EAASoX,UAAUC,GAAG,aAAa,SAAUhO,GAAK,OAAOT,EAAM2O,aAAalO,MACrET,EA6CX,OAnDAnB,EAAUsZ,EAAiBpY,GAQ3BoY,EAAgB5oB,UAAUkJ,OAAS,SAAUrB,EAAUd,GACnDyJ,EAAOxQ,UAAUkJ,OAAOwH,KAAK7Q,KAAMgI,EAAUd,GAC7ClH,KAAKsV,OAAS,MAElByT,EAAgB5oB,UAAUoV,MAAQ,SAAUvN,GACxChI,KAAK2sD,qBAET5jC,EAAgB5oB,UAAUwsD,kBAAoB,WAC1C,GAAI3sD,KAAKsV,OAAQ,CACbtV,KAAK+K,WAAW/K,KAAKsV,OAAOkM,GAAIxhB,KAAKsV,OAAOoM,GAAI1hB,KAAKsV,OAAOzT,KAAO7B,KAAKsV,OAAOkM,GAAI,GACnF,IAAIorC,EAAiB5sD,KAAKsV,OAAOqM,GAAK3hB,KAAKsV,OAAOoM,GAAK,EACnDkrC,EAAiB,GACjB5sD,KAAK+K,WAAW,EAAG/K,KAAKsV,OAAOoM,GAAK,EAAG1hB,KAAKsV,OAAOzT,KAAM+qD,GAE7D5sD,KAAK+K,WAAW,EAAG/K,KAAKsV,OAAOqM,GAAI3hB,KAAKsV,OAAOmM,GAAI,GACnDzhB,KAAKsV,OAAS,OAGtByT,EAAgB5oB,UAAUmf,aAAe,SAAUjO,GAU/C,GATIA,EAAE1L,KAAO1B,EAAQ+B,uBACjBhG,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQoE,WAAWC,IAEzC1E,EAAiB2F,WAAWsF,EAAE1L,IACnC3F,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQuF,KAAKqF,EAAE1L,IAAImF,IAG9C9K,KAAK2H,KAAKiD,UAAY5K,KAAKyG,QAAQwF,WAAWnB,IAE9CuG,EAAEqQ,KAAOrQ,EAAEsQ,GACX3hB,KAAKoK,sBAAsBiH,EAAEmQ,GAAInQ,EAAEqQ,GAAIrQ,EAAEoQ,GAAKpQ,EAAEmQ,QAE/C,CACDxhB,KAAKoK,sBAAsBiH,EAAEmQ,GAAInQ,EAAEqQ,GAAIrQ,EAAExP,KAAOwP,EAAEmQ,IAClD,IAAK,IAAItX,EAAImH,EAAEqQ,GAAK,EAAGxX,EAAImH,EAAEsQ,GAAIzX,IAC7BlK,KAAKoK,sBAAsB,EAAGF,EAAGmH,EAAExP,MAEvC7B,KAAKoK,sBAAsB,EAAGiH,EAAEsQ,GAAItQ,EAAEoQ,IAE1CzhB,KAAKsV,OAASjE,GAElB0X,EAAgB5oB,UAAUof,aAAe,SAAUlO,GAC/CrR,KAAK2sD,qBAEF5jC,EApDW,CAqDpB9T,EAAkB5O,iBACpB1G,EAAQopB,gBAAkBA,G,kCCvE1B,IAAItZ,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAImqB,EAAoB,EAAQ,QAC5B8iC,EAAa,EAAQ,QACrBhtD,EAAW,EAAQ,QACnBy+C,EAAc,EAAQ,QACtBwO,EAAyB,EAAQ,QACjCv8C,EAAc,EAAQ,QACtBw8C,EAAS,CAAE,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,GACxDC,EAAmB,WACnB,SAASA,EAAgBjtD,GACrBC,KAAKD,UAAYA,EAWrB,OATAitD,EAAgB7sD,UAAU85C,KAAO,SAAUC,EAASxU,EAAQyU,GACxDn6C,KAAKkN,MAAQ,IAEjB8/C,EAAgB7sD,UAAUi6C,IAAM,SAAU7sC,EAAM/E,EAAOC,GACnDzI,KAAKkN,OAASK,EAAK5K,UAAU6F,EAAOC,IAExCukD,EAAgB7sD,UAAUk6C,OAAS,WAC/Br6C,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,OAASlsB,KAAKkN,MAAQ6c,EAAkBkC,GAAGC,IAAM,OAEhG8gC,EAbW,GAelBC,EAAW,WACX,SAASA,EAAQltD,GACbC,KAAKD,UAAYA,EA8BrB,OA5BAktD,EAAQ9sD,UAAU85C,KAAO,SAAUC,EAASxU,EAAQyU,GAChDn6C,KAAKkN,MAAQ,IAEjB+/C,EAAQ9sD,UAAUi6C,IAAM,SAAU7sC,EAAM/E,EAAOC,GAC3CzI,KAAKkN,OAASK,EAAK5K,UAAU6F,EAAOC,IAExCwkD,EAAQ9sD,UAAUk6C,OAAS,WACvB,OAAQr6C,KAAKkN,OACT,IAAK,KACD,OAAOlN,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,UAAanC,EAAkBkC,GAAGC,IAAM,MACrG,IAAK,KACD,OAAOlsB,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,WAAcnC,EAAkBkC,GAAGC,IAAM,MACtG,IAAK,IACD,IAAIghC,EAAWltD,KAAKD,UAAUkB,OAAOokB,UAAY,EAC7C,KAAOrlB,KAAKD,UAAUkB,OAAOqkB,aAAe,GAAK,IACrD,OAAOtlB,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,OAASghC,EAAKnjC,EAAkBkC,GAAGC,IAAM,MACtG,IAAK,IACD,OAAOlsB,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,SAAWnC,EAAkBkC,GAAGC,IAAM,MACnG,IAAK,KACD,IAAIihC,EAAS,CAAE,MAAS,EAAG,UAAa,EAAG,IAAO,GAC9C3nD,EAAQ2nD,EAAOntD,KAAKD,UAAUqgB,UAAU,gBAE5C,OADA5a,GAASxF,KAAKD,UAAUqgB,UAAU,eAC3BpgB,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,OAAS1mB,EAAQ,KAAOukB,EAAkBkC,GAAGC,IAAM,MAChH,QACIlsB,KAAKD,UAAUiwC,MAAM,oBAAqBhwC,KAAKkN,OAC/ClN,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,OAASlsB,KAAKkN,MAAQ6c,EAAkBkC,GAAGC,IAAM,QAGxG+gC,EAhCG,GAkCV1d,EAAgB,SAAU5+B,GAE1B,SAAS4+B,EAAaxvC,EAAWqtD,QACb,IAAZA,IAAsBA,EAAU,IAAIN,EAAuBxS,sBAC/D,IAAI1pC,EAAQD,EAAOE,KAAK7Q,OAASA,KACjC4Q,EAAM7Q,UAAYA,EAClB6Q,EAAMw8C,QAAUA,EAChBx8C,EAAMuB,SAASvB,EAAMw8C,SACrBx8C,EAAMy8C,gBAAkB,GACxBz8C,EAAMw8C,QAAQ/Q,uBAAsB,SAAUnC,EAASxU,EAAQyU,GAC3DvpC,EAAM7Q,UAAUiwC,MAAM,qBAAsB,CAAEkK,QAASA,EAASxU,OAAQA,EAAQyU,KAAM/qC,OAAOC,aAAa8qC,QAE9GvpC,EAAMw8C,QAAQ5Q,uBAAsB,SAAUtC,EAASC,GACnDvpC,EAAM7Q,UAAUiwC,MAAM,qBAAsB,CAAEkK,QAASA,EAASC,KAAM/qC,OAAOC,aAAa8qC,QAE9FvpC,EAAMw8C,QAAQlR,2BAA0B,SAAUh3C,GAC9C0L,EAAM7Q,UAAUiwC,MAAM,yBAA0B,CAAE9qC,KAAMA,OAE5D0L,EAAMw8C,QAAQxQ,uBAAsB,SAAU1B,EAAY3tC,GACtDqD,EAAM7Q,UAAUiwC,MAAM,qBAAsB,CAAEkL,WAAYA,EAAY3tC,KAAMA,OAEhFqD,EAAMw8C,QAAQtR,iBAAgB,SAAUvuC,EAAM/E,EAAOC,GAAO,OAAOmI,EAAMusC,MAAM5vC,EAAM/E,EAAOC,MAC5FmI,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM08C,YAAY5nB,MACvF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM28C,SAAS7nB,MACpF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM48C,WAAW9nB,MACtF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM68C,cAAc/nB,MACzF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM88C,eAAehoB,MAC1F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM+8C,eAAejoB,MAC1F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMg9C,oBAAoBloB,MAC/F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMi9C,mBAAmBnoB,MAC9F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMk9C,eAAepoB,MAC1F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMm9C,iBAAiBroB,MAC5F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMo9C,eAAetoB,MAC1F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMq9C,YAAYvoB,MACvF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMs9C,YAAYxoB,MACvF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMu9C,YAAYzoB,MACvF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMw9C,YAAY1oB,MACvF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMy9C,SAAS3oB,MACpF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM09C,WAAW5oB,EAAQwU,MAC9FtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM29C,WAAW7oB,MACtF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM49C,kBAAkB9oB,MAC7F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM69C,gBAAgB/oB,MAC3F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM89C,kBAAkBhpB,MAC7F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM+9C,yBAAyBjpB,MACpG90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMg+C,qBAAqBlpB,EAAQwU,MACxGtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMi+C,gBAAgBnpB,MAC3F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMk+C,kBAAkBppB,MAC7F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMm+C,WAAWrpB,MACtF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMo+C,SAAStpB,MACpF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMq+C,QAAQvpB,EAAQwU,MAC3FtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMs+C,UAAUxpB,EAAQwU,MAC7FtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMu+C,eAAezpB,MAC1F90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMw+C,aAAa1pB,EAAQwU,MAChGtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAMy+C,UAAU3pB,EAAQwU,MAC7FtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM0+C,eAAe5pB,EAAQwU,MAClGtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM2+C,gBAAgB7pB,EAAQwU,MACnGtpC,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM4+C,WAAW9pB,MACtF90B,EAAMw8C,QAAQjR,cAAc,KAAK,SAAUzW,EAAQwU,GAAW,OAAOtpC,EAAM6+C,cAAc/pB,MACzF90B,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAG8L,KAAK,WAAc,OAAOnnB,EAAM6kC,UACrF7kC,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAG+L,IAAI,WAAc,OAAOpnB,EAAM8+C,cACpF9+C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAGgM,IAAI,WAAc,OAAOrnB,EAAM8+C,cACpF9+C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAGiM,IAAI,WAAc,OAAOtnB,EAAM8+C,cACpF9+C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAGK,IAAI,WAAc,OAAO1b,EAAM++C,oBACpF/+C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAGE,IAAI,WAAc,OAAOvb,EAAMg/C,eACpFh/C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAGI,IAAI,WAAc,OAAOzb,EAAMi/C,SACpFj/C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAGkM,IAAI,WAAc,OAAOvnB,EAAMk/C,cACpFl/C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBkC,GAAGmM,IAAI,WAAc,OAAOxnB,EAAMm/C,aACpFn/C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBsP,GAAGK,KAAK,WAAc,OAAO9oB,EAAM1C,WACrF0C,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBsP,GAAGM,KAAK,WAAc,OAAO/oB,EAAMgM,cACrFhM,EAAMw8C,QAAQpR,kBAAkBjyB,EAAkBsP,GAAGS,KAAK,WAAc,OAAOlpB,EAAM0lC,YACrF1lC,EAAMw8C,QAAQ3Q,cAAc,GAAG,SAAUlvC,GAAQ,OAAOqD,EAAMo/C,SAASziD,MACvEqD,EAAMw8C,QAAQ3Q,cAAc,GAAG,SAAUlvC,GAAQ,OAAOqD,EAAMo/C,SAASziD,MACvEqD,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM4+C,WAAW,OACvE5+C,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM6+C,cAAc,OAC1E7+C,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM1C,WAC5D0C,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAMgM,cAC5DhM,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM0lC,YAC5D1lC,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAMwlC,kBAC5DxlC,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAMq/C,2BAC5Dr/C,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAMs/C,uBAC5Dt/C,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM2E,WAC5D3E,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM0kC,UAAU,MACtE1kC,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM0kC,UAAU,MACtE1kC,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM0kC,UAAU,MACtE1kC,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM0kC,UAAU,MACtE1kC,EAAMw8C,QAAQvR,cAAc,KAAK,WAAc,OAAOjrC,EAAM0kC,UAAU,MACtE1kC,EAAMw8C,QAAQvR,cAAc,MAAM,WAAc,OAAOjrC,EAAMu/C,0BAC7Dv/C,EAAMw8C,QAAQvR,cAAc,MAAM,WAAc,OAAOjrC,EAAMu/C,0BAC7D,IAAIvQ,EAAU,SAAUzF,GACpB0F,EAAOuN,QAAQvR,cAAc,IAAM1B,GAAM,WAAc,OAAOvpC,EAAMw/C,cAAc,IAAMjW,MACxF0F,EAAOuN,QAAQvR,cAAc,IAAM1B,GAAM,WAAc,OAAOvpC,EAAMw/C,cAAc,IAAMjW,MACxF0F,EAAOuN,QAAQvR,cAAc,IAAM1B,GAAM,WAAc,OAAOvpC,EAAMw/C,cAAc,IAAMjW,MACxF0F,EAAOuN,QAAQvR,cAAc,IAAM1B,GAAM,WAAc,OAAOvpC,EAAMw/C,cAAc,IAAMjW,MACxF0F,EAAOuN,QAAQvR,cAAc,IAAM1B,GAAM,WAAc,OAAOvpC,EAAMw/C,cAAc,IAAMjW,MACxF0F,EAAOuN,QAAQvR,cAAc,IAAM1B,GAAM,WAAc,OAAOvpC,EAAMw/C,cAAc,IAAMjW,MACxF0F,EAAOuN,QAAQvR,cAAc,IAAM1B,GAAM,WAAc,OAAOvpC,EAAMw/C,cAAc,IAAMjW,OAExF0F,EAAS7/C,KACb,IAAK,IAAIm6C,KAAQ0S,EAAW3gB,SACxB0T,EAAQzF,GAQZ,OANAvpC,EAAMw8C,QAAQpQ,iBAAgB,SAAUzD,GAEpC,OADA3oC,EAAM7Q,UAAUiwC,MAAM,kBAAmBuJ,GAClCA,KAEX3oC,EAAMw8C,QAAQvQ,cAAc,KAAM,IAAIoQ,EAAQr8C,EAAM7Q,YACpD6Q,EAAMw8C,QAAQvQ,cAAc,KAAM,IAAImQ,EAAgBp8C,EAAM7Q,YACrD6Q,EAy6BX,OAnhCAnB,EAAU8/B,EAAc5+B,GA4GxB4+B,EAAapvC,UAAUqH,QAAU,WAC7BmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAKD,UAAY,MAErBwvC,EAAapvC,UAAU+0C,MAAQ,SAAU3nC,GACrC,GAAKvN,KAAKD,UAAV,CAGA,IAAIkB,EAASjB,KAAKD,UAAUkB,OACxBovD,EAAepvD,EAAOW,EACtB0uD,EAAervD,EAAOiJ,EACtBlK,KAAKD,UAAU6tC,OACf5tC,KAAKD,UAAU81C,IAAI,SAAWtoC,GAE9BvN,KAAKqtD,kBACL9/C,EAAOvN,KAAKqtD,gBAAkB9/C,EAC9BvN,KAAKqtD,gBAAkB,IAE3BrtD,KAAKotD,QAAQlY,MAAM3nC,GACnBtM,EAASjB,KAAKD,UAAUkB,OACpBA,EAAOW,IAAMyuD,GAAgBpvD,EAAOiJ,IAAMomD,GAC1CtwD,KAAKD,UAAUuhB,KAAK,gBAG5BiuB,EAAapvC,UAAUg9C,MAAQ,SAAU5vC,EAAM/E,EAAOC,GAClD,IAAIpD,EACAH,EACAqrD,EACAtvD,EAASjB,KAAKD,UAAUkB,OACxB2tC,EAAU5uC,KAAKD,UAAU6uC,QACzBjB,EAAmB3tC,KAAKD,UAAUyL,QAAQmiC,iBAC1C9rC,EAAO7B,KAAKD,UAAU8B,KACtB8sC,EAAiB3uC,KAAKD,UAAU4uC,eAChCD,EAAa1uC,KAAKD,UAAU2uC,WAC5BM,EAAUhvC,KAAKD,UAAUivC,QACzBwhB,EAAYvvD,EAAOC,MAAMC,IAAIF,EAAOiJ,EAAIjJ,EAAO+Z,OACnDhb,KAAKD,UAAUy0C,YAAYvzC,EAAOiJ,GAClC,IAAK,IAAIumD,EAAiBjoD,EAAOioD,EAAiBhoD,IAAOgoD,EAAgB,CAGrE,GAFAprD,EAAOkI,EAAK0J,OAAOw5C,GACnBvrD,EAAOqI,EAAK+B,WAAWmhD,GACnB,OAAUvrD,GAAQA,GAAQ,MAAQ,CAClC,KAAMurD,GAAkBhoD,EAAK,CACzBzI,KAAKqtD,gBAAkBhoD,EACvB,SAEJ,IAAIimC,EAAS/9B,EAAK+B,WAAWmhD,GACzB,OAAUnlB,GAAUA,GAAU,OAC9BpmC,EAAyB,MAAjBA,EAAO,OAAkBomC,EAAS,MAAS,MACnDjmC,GAAQkI,EAAK0J,OAAOw5C,IAGpBA,IAWR,GARAF,EAAUjS,EAAYjT,QAAQnmC,GAC1B0pC,IACAvpC,EAAOupC,EAAQvpC,IAASA,EACxBH,EAAOG,EAAKiK,WAAW,IAEvBq+B,GACA3tC,KAAKD,UAAUuhB,KAAK,YAAajc,GAEhCkrD,IAAWtvD,EAAOW,EAAvB,CAmBA,GAAIX,EAAOW,EAAI2uD,EAAU,GAAK1uD,EAC1B,GAAI8sC,EACA1tC,EAAOW,EAAI,EACXX,EAAOiJ,IACHjJ,EAAOiJ,EAAIjJ,EAAOqkB,cAClBrkB,EAAOiJ,IACPlK,KAAKD,UAAUg0C,QAAO,IAGtB9yC,EAAOC,MAAMC,IAAIF,EAAOiJ,GAAG+C,WAAY,EAE3CujD,EAAYvvD,EAAOC,MAAMC,IAAIF,EAAOiJ,EAAIjJ,EAAO+Z,YAG/C,GAAgB,IAAZu1C,EACA,SAIZ,GAAI7hB,EAAY,CACZ8hB,EAAUpiD,YAAYnN,EAAOW,EAAG2uD,EAAS,CAACvhB,EAASnvC,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBAC/G,IAAIsrD,EAAWF,EAAUrvD,IAAIU,EAAO,GACa,IAA7C6uD,EAAS7wD,EAASqC,wBAClBsuD,EAAUriD,IAAItM,EAAO,EAAG,CAACmtC,EAASnvC,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBAItG,GADAorD,EAAUriD,IAAIlN,EAAOW,IAAK,CAACotC,EAAS3pC,EAAMkrD,EAASrrD,IAC/CqrD,EAAU,EACV,QAASA,EACLC,EAAUriD,IAAIlN,EAAOW,IAAK,CAACotC,EAAS,GAAI,OAAG5xB,QAhDnD,CACI,IAAIuzC,EAAaH,EAAUrvD,IAAIF,EAAOW,EAAI,GAC1C,GAAI+uD,EACA,GAAKA,EAAW9wD,EAASqC,uBASrByuD,EAAW9wD,EAASmC,uBAAyBqD,EAC7CsrD,EAAW9wD,EAASsF,sBAAwBD,EAC5CsrD,EAAUriD,IAAIlN,EAAOW,EAAI,EAAG+uD,OAXiB,CAC7C,IAAIC,EAAaJ,EAAUrvD,IAAIF,EAAOW,EAAI,GACtCgvD,IACAA,EAAW/wD,EAASmC,uBAAyBqD,EAC7CurD,EAAW/wD,EAASsF,sBAAwBD,EAC5CsrD,EAAUriD,IAAIlN,EAAOW,EAAI,EAAGgvD,MA4ChD5wD,KAAKD,UAAUy0C,YAAYvzC,EAAOiJ,IAEtCqlC,EAAapvC,UAAUs1C,KAAO,WAC1Bz1C,KAAKD,UAAU01C,QAEnBlG,EAAapvC,UAAUuvD,SAAW,WAC9B,IAAIzuD,EAASjB,KAAKD,UAAUkB,OACxBjB,KAAKD,UAAUyL,QAAQ+hC,aACvBtsC,EAAOW,EAAI,GAEfX,EAAOiJ,IACHjJ,EAAOiJ,EAAIjJ,EAAOqkB,eAClBrkB,EAAOiJ,IACPlK,KAAKD,UAAUg0C,UAEf9yC,EAAOW,GAAK5B,KAAKD,UAAU8B,MAC3BZ,EAAOW,IAEX5B,KAAKD,UAAUuhB,KAAK,aAExBiuB,EAAapvC,UAAUwvD,eAAiB,WACpC3vD,KAAKD,UAAUkB,OAAOW,EAAI,GAE9B2tC,EAAapvC,UAAUyvD,UAAY,WAC3B5vD,KAAKD,UAAUkB,OAAOW,EAAI,GAC1B5B,KAAKD,UAAUkB,OAAOW,KAG9B2tC,EAAapvC,UAAU0vD,IAAM,WACzB,IAAIgB,EAAY7wD,KAAKD,UAAUkB,OAAOW,EACtC5B,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAUkB,OAAOylB,WAC5C1mB,KAAKD,UAAUyL,QAAQmiC,kBACvB3tC,KAAKD,UAAUuhB,KAAK,WAAYthB,KAAKD,UAAUkB,OAAOW,EAAIivD,IAGlEthB,EAAapvC,UAAU2vD,SAAW,WAC9B9vD,KAAKD,UAAUu1C,UAAU,IAE7B/F,EAAapvC,UAAU4vD,QAAU,WAC7B/vD,KAAKD,UAAUu1C,UAAU,IAE7B/F,EAAapvC,UAAUmtD,YAAc,SAAU5nB,GAC3C1lC,KAAKD,UAAUkB,OAAOC,MAAMC,IAAInB,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUkB,OAAO+Z,OAAO5M,YAAYpO,KAAKD,UAAUkB,OAAOW,EAAG8jC,EAAO,IAAM,EAAG,CAAC1lC,KAAKD,UAAU6vC,YAAa/vC,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBACrOpF,KAAKD,UAAUy0C,YAAYx0C,KAAKD,UAAUkB,OAAOiJ,IAErDqlC,EAAapvC,UAAUotD,SAAW,SAAU7nB,GACxC,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOiJ,GAAK4mD,EACvB9wD,KAAKD,UAAUkB,OAAOiJ,EAAI,IAC1BlK,KAAKD,UAAUkB,OAAOiJ,EAAI,IAGlCqlC,EAAapvC,UAAUqtD,WAAa,SAAU9nB,GAC1C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOiJ,GAAK4mD,EACvB9wD,KAAKD,UAAUkB,OAAOiJ,GAAKlK,KAAKD,UAAUmJ,OAC1ClJ,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUmJ,KAAO,GAEhDlJ,KAAKD,UAAUkB,OAAOW,GAAK5B,KAAKD,UAAU8B,MAC1C7B,KAAKD,UAAUkB,OAAOW,KAG9B2tC,EAAapvC,UAAUstD,cAAgB,SAAU/nB,GAC7C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOW,GAAKkvD,EACvB9wD,KAAKD,UAAUkB,OAAOW,GAAK5B,KAAKD,UAAU8B,OAC1C7B,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAU8B,KAAO,IAGxD0tC,EAAapvC,UAAUutD,eAAiB,SAAUhoB,GAC9C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAER9wD,KAAKD,UAAUkB,OAAOW,GAAK5B,KAAKD,UAAU8B,MAC1C7B,KAAKD,UAAUkB,OAAOW,IAE1B5B,KAAKD,UAAUkB,OAAOW,GAAKkvD,EACvB9wD,KAAKD,UAAUkB,OAAOW,EAAI,IAC1B5B,KAAKD,UAAUkB,OAAOW,EAAI,IAGlC2tC,EAAapvC,UAAUwtD,eAAiB,SAAUjoB,GAC9C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOiJ,GAAK4mD,EACvB9wD,KAAKD,UAAUkB,OAAOiJ,GAAKlK,KAAKD,UAAUmJ,OAC1ClJ,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUmJ,KAAO,GAEpDlJ,KAAKD,UAAUkB,OAAOW,EAAI,GAE9B2tC,EAAapvC,UAAUytD,oBAAsB,SAAUloB,GACnD,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOiJ,GAAK4mD,EACvB9wD,KAAKD,UAAUkB,OAAOiJ,EAAI,IAC1BlK,KAAKD,UAAUkB,OAAOiJ,EAAI,GAE9BlK,KAAKD,UAAUkB,OAAOW,EAAI,GAE9B2tC,EAAapvC,UAAU0tD,mBAAqB,SAAUnoB,GAClD,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOW,EAAIkvD,EAAQ,GAEtCvhB,EAAapvC,UAAU2tD,eAAiB,SAAUpoB,GAC9C,IAAInpB,EACAxb,EAAM2kC,EAAO,GAAK,EAElBnpB,EADAmpB,EAAO9kC,QAAU,EACX8kC,EAAO,GAAK,EAGZ,EAEN3kC,EAAM,EACNA,EAAM,EAEDA,GAAOf,KAAKD,UAAUmJ,OAC3BnI,EAAMf,KAAKD,UAAUmJ,KAAO,GAE5BqT,EAAM,EACNA,EAAM,EAEDA,GAAOvc,KAAKD,UAAU8B,OAC3B0a,EAAMvc,KAAKD,UAAU8B,KAAO,GAEhC7B,KAAKD,UAAUkB,OAAOW,EAAI2a,EAC1Bvc,KAAKD,UAAUkB,OAAOiJ,EAAInJ,GAE9BwuC,EAAapvC,UAAU4tD,iBAAmB,SAAUroB,GAChD,IAAIorB,EAAQprB,EAAO,IAAM,EACzB,MAAOorB,IACH9wD,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAUkB,OAAOylB,YAGxD6oB,EAAapvC,UAAU4wD,mBAAqB,SAAU7mD,EAAG1B,EAAOC,EAAKuoD,QAC/C,IAAdA,IAAwBA,GAAY,GACxC,IAAIhwD,EAAOhB,KAAKD,UAAUkB,OAAOC,MAAMC,IAAInB,KAAKD,UAAUkB,OAAO+Z,MAAQ9Q,GACzElJ,EAAKyN,aAAajG,EAAOC,EAAK,CAACzI,KAAKD,UAAU6vC,YAAa/vC,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBACnH4rD,IACAhwD,EAAKiM,WAAY,IAGzBsiC,EAAapvC,UAAU8wD,iBAAmB,SAAU/mD,GAChDlK,KAAK+wD,mBAAmB7mD,EAAG,EAAGlK,KAAKD,UAAU8B,MAAM,IAEvD0tC,EAAapvC,UAAU6tD,eAAiB,SAAUtoB,GAC9C,IAAI7iC,EACJ,OAAQ6iC,EAAO,IACX,KAAK,EAID,IAHA7iC,EAAI7C,KAAKD,UAAUkB,OAAOiJ,EAC1BlK,KAAKD,UAAUy0C,YAAY3xC,GAC3B7C,KAAK+wD,mBAAmBluD,IAAK7C,KAAKD,UAAUkB,OAAOW,EAAG5B,KAAKD,UAAU8B,KAAkC,IAA5B7B,KAAKD,UAAUkB,OAAOW,GAC1FiB,EAAI7C,KAAKD,UAAUmJ,KAAMrG,IAC5B7C,KAAKixD,iBAAiBpuD,GAE1B7C,KAAKD,UAAUy0C,YAAY3xC,GAC3B,MACJ,KAAK,EACDA,EAAI7C,KAAKD,UAAUkB,OAAOiJ,EAC1BlK,KAAKD,UAAUy0C,YAAY3xC,GAC3B7C,KAAK+wD,mBAAmBluD,EAAG,EAAG7C,KAAKD,UAAUkB,OAAOW,EAAI,GAAG,GACvD5B,KAAKD,UAAUkB,OAAOW,EAAI,GAAK5B,KAAKD,UAAU8B,OAC9C7B,KAAKD,UAAUkB,OAAOC,MAAMC,IAAI0B,EAAI,GAAGoK,WAAY,GAEvD,MAAOpK,IACH7C,KAAKixD,iBAAiBpuD,GAE1B7C,KAAKD,UAAUy0C,YAAY,GAC3B,MACJ,KAAK,EACD3xC,EAAI7C,KAAKD,UAAUmJ,KACnBlJ,KAAKD,UAAUy0C,YAAY3xC,EAAI,GAC/B,MAAOA,IACH7C,KAAKixD,iBAAiBpuD,GAE1B7C,KAAKD,UAAUy0C,YAAY,GAC3B,MACJ,KAAK,EACD,IAAI0c,EAAiBlxD,KAAKD,UAAUkB,OAAOC,MAAMN,OAASZ,KAAKD,UAAUmJ,KACrEgoD,EAAiB,IACjBlxD,KAAKD,UAAUkB,OAAOC,MAAM2kB,UAAUqrC,GACtClxD,KAAKD,UAAUkB,OAAO+Z,MAAQzX,KAAKC,IAAIxD,KAAKD,UAAUkB,OAAO+Z,MAAQk2C,EAAgB,GACrFlxD,KAAKD,UAAUkB,OAAO0T,MAAQpR,KAAKC,IAAIxD,KAAKD,UAAUkB,OAAO0T,MAAQu8C,EAAgB,GACrFlxD,KAAKD,UAAUuhB,KAAK,SAAU,IAElC,QAGZiuB,EAAapvC,UAAU8tD,YAAc,SAAUvoB,GAC3C,OAAQA,EAAO,IACX,KAAK,EACD1lC,KAAK+wD,mBAAmB/wD,KAAKD,UAAUkB,OAAOiJ,EAAGlK,KAAKD,UAAUkB,OAAOW,EAAG5B,KAAKD,UAAU8B,MACzF,MACJ,KAAK,EACD7B,KAAK+wD,mBAAmB/wD,KAAKD,UAAUkB,OAAOiJ,EAAG,EAAGlK,KAAKD,UAAUkB,OAAOW,EAAI,GAC9E,MACJ,KAAK,EACD5B,KAAK+wD,mBAAmB/wD,KAAKD,UAAUkB,OAAOiJ,EAAG,EAAGlK,KAAKD,UAAU8B,MACnE,MAER7B,KAAKD,UAAUy0C,YAAYx0C,KAAKD,UAAUkB,OAAOiJ,IAErDqlC,EAAapvC,UAAU+tD,YAAc,SAAUxoB,GAC3C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ,IAAI7vD,EAASjB,KAAKD,UAAUkB,OACxBF,EAAME,EAAOiJ,EAAIjJ,EAAO+Z,MACxBm2C,EAAyBnxD,KAAKD,UAAUmJ,KAAO,EAAIjI,EAAOqkB,aAC1D8rC,EAAuBpxD,KAAKD,UAAUmJ,KAAO,EAAIjI,EAAO+Z,MAAQm2C,EAAyB,EAC7F,MAAOL,IACH7vD,EAAOC,MAAML,OAAOuwD,EAAuB,EAAG,GAC9CnwD,EAAOC,MAAML,OAAOE,EAAK,EAAGE,EAAOyjB,aAAa1kB,KAAKD,UAAU6vC,cAEnE5vC,KAAKD,UAAUy0C,YAAYvzC,EAAOiJ,GAClClK,KAAKD,UAAUy0C,YAAYvzC,EAAOqkB,eAEtCiqB,EAAapvC,UAAUguD,YAAc,SAAUzoB,GAC3C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ,IAEIjuD,EAFA5B,EAASjB,KAAKD,UAAUkB,OACxBF,EAAME,EAAOiJ,EAAIjJ,EAAO+Z,MAE5BnY,EAAI7C,KAAKD,UAAUmJ,KAAO,EAAIjI,EAAOqkB,aACrCziB,EAAI7C,KAAKD,UAAUmJ,KAAO,EAAIjI,EAAO+Z,MAAQnY,EAC7C,MAAOiuD,IACH7vD,EAAOC,MAAML,OAAOE,EAAK,GACzBE,EAAOC,MAAML,OAAOgC,EAAG,EAAG5B,EAAOyjB,aAAa1kB,KAAKD,UAAU6vC,cAEjE5vC,KAAKD,UAAUy0C,YAAYvzC,EAAOiJ,GAClClK,KAAKD,UAAUy0C,YAAYvzC,EAAOqkB,eAEtCiqB,EAAapvC,UAAUiuD,YAAc,SAAU1oB,GAC3C1lC,KAAKD,UAAUkB,OAAOC,MAAMC,IAAInB,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUkB,OAAO+Z,OAAOxM,YAAYxO,KAAKD,UAAUkB,OAAOW,EAAG8jC,EAAO,IAAM,EAAG,CAAC1lC,KAAKD,UAAU6vC,YAAa/vC,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,iBACrOpF,KAAKD,UAAUy0C,YAAYx0C,KAAKD,UAAUkB,OAAOiJ,IAErDqlC,EAAapvC,UAAUkuD,SAAW,SAAU3oB,GACxC,IAAIorB,EAAQprB,EAAO,IAAM,EACrBzkC,EAASjB,KAAKD,UAAUkB,OAC5B,MAAO6vD,IACH7vD,EAAOC,MAAML,OAAOI,EAAO+Z,MAAQ/Z,EAAOokB,UAAW,GACrDpkB,EAAOC,MAAML,OAAOI,EAAO+Z,MAAQ/Z,EAAOqkB,aAAc,EAAGrkB,EAAOyjB,aAAa7kB,EAASmkB,eAE5FhkB,KAAKD,UAAUy0C,YAAYvzC,EAAOokB,WAClCrlB,KAAKD,UAAUy0C,YAAYvzC,EAAOqkB,eAEtCiqB,EAAapvC,UAAUmuD,WAAa,SAAU5oB,EAAQwU,GAClD,GAAIxU,EAAO9kC,OAAS,IAAMs5C,EAAS,CAC/B,IAAI4W,EAAQprB,EAAO,IAAM,EACrBzkC,EAASjB,KAAKD,UAAUkB,OAC5B,MAAO6vD,IACH7vD,EAAOC,MAAML,OAAOI,EAAO+Z,MAAQ/Z,EAAOqkB,aAAc,GACxDrkB,EAAOC,MAAML,OAAOI,EAAO+Z,MAAQ/Z,EAAOqkB,aAAc,EAAGrkB,EAAOyjB,aAAa7kB,EAASmkB,eAE5FhkB,KAAKD,UAAUy0C,YAAYvzC,EAAOokB,WAClCrlB,KAAKD,UAAUy0C,YAAYvzC,EAAOqkB,gBAG1CiqB,EAAapvC,UAAUouD,WAAa,SAAU7oB,GAC1C1lC,KAAKD,UAAUkB,OAAOC,MAAMC,IAAInB,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUkB,OAAO+Z,OAAOvM,aAAazO,KAAKD,UAAUkB,OAAOW,EAAG5B,KAAKD,UAAUkB,OAAOW,GAAK8jC,EAAO,IAAM,GAAI,CAAC1lC,KAAKD,UAAU6vC,YAAa/vC,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,kBAEtQmqC,EAAapvC,UAAUquD,kBAAoB,SAAU9oB,GACjD,IAAIorB,EAAQprB,EAAO,IAAM,EACrBzkC,EAASjB,KAAKD,UAAUkB,OAC5B,MAAO6vD,IACH7vD,EAAOW,EAAIX,EAAOulB,YAG1B+oB,EAAapvC,UAAUsuD,gBAAkB,SAAU/oB,GAC/C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOW,EAAIkvD,EAAQ,EAC9B9wD,KAAKD,UAAUkB,OAAOW,GAAK5B,KAAKD,UAAU8B,OAC1C7B,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAU8B,KAAO,IAGxD0tC,EAAapvC,UAAUuuD,kBAAoB,SAAUhpB,GACjD,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOW,GAAKkvD,EACvB9wD,KAAKD,UAAUkB,OAAOW,GAAK5B,KAAKD,UAAU8B,OAC1C7B,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAU8B,KAAO,IAGxD0tC,EAAapvC,UAAUwuD,yBAA2B,SAAUjpB,GACxD,IAAIzkC,EAASjB,KAAKD,UAAUkB,OACxBD,EAAOC,EAAOC,MAAMC,IAAIF,EAAO+Z,MAAQ/Z,EAAOiJ,GAClDlJ,EAAKyN,aAAaxN,EAAOW,EAAGX,EAAOW,GAAK8jC,EAAO,IAAM,GAAI1kC,EAAKG,IAAIF,EAAOW,EAAI,IAAM,CAAC/B,EAASmkB,aAAcnkB,EAASsN,eAAgBtN,EAASuN,gBAAiBvN,EAASuF,kBAE3KmqC,EAAapvC,UAAUyuD,qBAAuB,SAAUlpB,EAAQwU,GACxDxU,EAAO,GAAK,IAGXwU,EAQgB,MAAZA,IACDl6C,KAAKD,UAAUk2C,GAAG,SAClBj2C,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,cAE7ClsB,KAAKD,UAAUk2C,GAAG,gBACvBj2C,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,cAE7ClsB,KAAKD,UAAUk2C,GAAG,SACvBj2C,KAAKD,UAAUM,QAAQqlC,EAAO,GAAK,KAE9B1lC,KAAKD,UAAUk2C,GAAG,WACvBj2C,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,kBAlBlDlsB,KAAKD,UAAUk2C,GAAG,UAAYj2C,KAAKD,UAAUk2C,GAAG,iBAAmBj2C,KAAKD,UAAUk2C,GAAG,UACrFj2C,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,UAE7ClsB,KAAKD,UAAUk2C,GAAG,UACvBj2C,KAAKD,UAAUM,QAAQ0pB,EAAkBkC,GAAGC,IAAM,UAkB9DqjB,EAAapvC,UAAU0uD,gBAAkB,SAAUnpB,GAC/C,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOiJ,EAAI4mD,EAAQ,EAC9B9wD,KAAKD,UAAUkB,OAAOiJ,GAAKlK,KAAKD,UAAUmJ,OAC1ClJ,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUmJ,KAAO,IAGxDqmC,EAAapvC,UAAU2uD,kBAAoB,SAAUppB,GACjD,IAAIorB,EAAQprB,EAAO,GACforB,EAAQ,IACRA,EAAQ,GAEZ9wD,KAAKD,UAAUkB,OAAOiJ,GAAK4mD,EACvB9wD,KAAKD,UAAUkB,OAAOiJ,GAAKlK,KAAKD,UAAUmJ,OAC1ClJ,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUmJ,KAAO,GAEhDlJ,KAAKD,UAAUkB,OAAOW,GAAK5B,KAAKD,UAAU8B,MAC1C7B,KAAKD,UAAUkB,OAAOW,KAG9B2tC,EAAapvC,UAAU4uD,WAAa,SAAUrpB,GACtCA,EAAO,GAAK,IACZA,EAAO,GAAK,GACZA,EAAO,GAAK,IACZA,EAAO,GAAK,GAChB1lC,KAAKD,UAAUkB,OAAOiJ,EAAIw7B,EAAO,GAAK,EAClC1lC,KAAKD,UAAUkB,OAAOiJ,GAAKlK,KAAKD,UAAUmJ,OAC1ClJ,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUmJ,KAAO,GAEpDlJ,KAAKD,UAAUkB,OAAOW,EAAI8jC,EAAO,GAAK,EAClC1lC,KAAKD,UAAUkB,OAAOW,GAAK5B,KAAKD,UAAU8B,OAC1C7B,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAU8B,KAAO,IAGxD0tC,EAAapvC,UAAU6uD,SAAW,SAAUtpB,GACxC,IAAIorB,EAAQprB,EAAO,GACforB,GAAS,SACF9wD,KAAKD,UAAUkB,OAAOslB,KAAKvmB,KAAKD,UAAUkB,OAAOW,GAEzC,IAAVkvD,IACL9wD,KAAKD,UAAUkB,OAAOslB,KAAO,KAGrCgpB,EAAapvC,UAAU8uD,QAAU,SAAUvpB,EAAQwU,GAC/C,GAAIxU,EAAO9kC,OAAS,EAChB,IAAK,IAAID,EAAI,EAAGA,EAAI+kC,EAAO9kC,OAAQD,IAC/BX,KAAKivD,QAAQ,CAACvpB,EAAO/kC,UAI7B,GAAKu5C,GASA,GAAgB,MAAZA,EACL,OAAQxU,EAAO,IACX,KAAK,EACD1lC,KAAKD,UAAUyuC,mBAAoB,EACnC,MACJ,KAAK,EACDxuC,KAAKD,UAAUw1C,YAAY,EAAGsX,EAAW1gB,iBACzCnsC,KAAKD,UAAUw1C,YAAY,EAAGsX,EAAW1gB,iBACzCnsC,KAAKD,UAAUw1C,YAAY,EAAGsX,EAAW1gB,iBACzCnsC,KAAKD,UAAUw1C,YAAY,EAAGsX,EAAW1gB,iBACzC,MACJ,KAAK,EACDnsC,KAAKD,UAAUsxD,UAAYrxD,KAAKD,UAAU8B,KAC1C7B,KAAKD,UAAUsJ,OAAO,IAAKrJ,KAAKD,UAAUmJ,MAC1C,MACJ,KAAK,EACDlJ,KAAKD,UAAU0uC,YAAa,EAC5B,MACJ,KAAK,EACDzuC,KAAKD,UAAU4uC,gBAAiB,EAChC,MACJ,KAAK,GACD,MACJ,KAAK,GACD3uC,KAAKD,UAAU81C,IAAI,6CACnB71C,KAAKD,UAAUwuC,mBAAoB,EAC/BvuC,KAAKD,UAAUuwC,UACftwC,KAAKD,UAAUuwC,SAASC,iBAE5B,MACJ,KAAK,EACL,KAAK,IACL,KAAK,KACL,KAAK,KACDvwC,KAAKD,UAAUwzC,SAAyB,IAAd7N,EAAO,GACjC1lC,KAAKD,UAAUozC,WAA2B,MAAdzN,EAAO,GACnC1lC,KAAKD,UAAUqzC,YAAc1N,EAAO,GAAK,IACzC1lC,KAAKD,UAAUszC,aAAc,EAC7BrzC,KAAKD,UAAUkS,QAAQrM,UAAUC,IAAI,uBACrC7F,KAAKD,UAAU8a,iBAAiBijB,UAChC99B,KAAKD,UAAU81C,IAAI,4BACnB,MACJ,KAAK,KACD71C,KAAKD,UAAU6wC,WAAY,EAC3B,MACJ,KAAK,KACD5wC,KAAKD,UAAUwyC,UAAW,EAC1B,MACJ,KAAK,KACDvyC,KAAKD,UAAU8yC,UAAW,EAC1B,MACJ,KAAK,KACD7yC,KAAKD,UAAU6yC,YAAa,EAC5B,MACJ,KAAK,GACD5yC,KAAKD,UAAUmoC,cAAe,EAC9B,MACJ,KAAK,KACDloC,KAAKwvD,WAAW9pB,GAChB,MACJ,KAAK,KACD1lC,KAAKwvD,WAAW9pB,GACpB,KAAK,GACL,KAAK,KACD1lC,KAAKD,UAAUs9B,QAAQi0B,kBAAkBtxD,KAAKD,UAAU6vC,aACxD5vC,KAAKD,UAAU0U,QAAQ,EAAGzU,KAAKD,UAAUmJ,KAAO,GAC5ClJ,KAAKD,UAAUuwC,UACftwC,KAAKD,UAAUuwC,SAASC,iBAE5BvwC,KAAKD,UAAU+wC,aACf,MACJ,KAAK,KACD9wC,KAAKD,UAAUq1B,oBAAqB,EACpC,YAjFR,OAAQsQ,EAAO,IACX,KAAK,EACD1lC,KAAKD,UAAU2uC,YAAa,EAC5B,MACJ,KAAK,GACD,QAgFhBa,EAAapvC,UAAU+uD,UAAY,SAAUxpB,EAAQwU,GACjD,GAAIxU,EAAO9kC,OAAS,EAChB,IAAK,IAAID,EAAI,EAAGA,EAAI+kC,EAAO9kC,OAAQD,IAC/BX,KAAKkvD,UAAU,CAACxpB,EAAO/kC,UAI/B,GAAKu5C,GASA,GAAgB,MAAZA,EACL,OAAQxU,EAAO,IACX,KAAK,EACD1lC,KAAKD,UAAUyuC,mBAAoB,EACnC,MACJ,KAAK,EAC2B,MAAxBxuC,KAAKD,UAAU8B,MAAgB7B,KAAKD,UAAUsxD,WAC9CrxD,KAAKD,UAAUsJ,OAAOrJ,KAAKD,UAAUsxD,UAAWrxD,KAAKD,UAAUmJ,aAE5DlJ,KAAKD,UAAUsxD,UACtB,MACJ,KAAK,EACDrxD,KAAKD,UAAU0uC,YAAa,EAC5B,MACJ,KAAK,EACDzuC,KAAKD,UAAU4uC,gBAAiB,EAChC,MACJ,KAAK,GACD,MACJ,KAAK,GACD3uC,KAAKD,UAAU81C,IAAI,oCACnB71C,KAAKD,UAAUwuC,mBAAoB,EAC/BvuC,KAAKD,UAAUuwC,UACftwC,KAAKD,UAAUuwC,SAASC,iBAE5B,MACJ,KAAK,EACL,KAAK,IACL,KAAK,KACL,KAAK,KACDvwC,KAAKD,UAAUwzC,UAAW,EAC1BvzC,KAAKD,UAAUozC,YAAa,EAC5BnzC,KAAKD,UAAUqzC,aAAc,EAC7BpzC,KAAKD,UAAUszC,aAAc,EAC7BrzC,KAAKD,UAAUkS,QAAQrM,UAAU4Z,OAAO,uBACxCxf,KAAKD,UAAU8a,iBAAiBmiB,SAChC,MACJ,KAAK,KACDh9B,KAAKD,UAAU6wC,WAAY,EAC3B,MACJ,KAAK,KACD5wC,KAAKD,UAAUwyC,UAAW,EAC1B,MACJ,KAAK,KACDvyC,KAAKD,UAAU8yC,UAAW,EAC1B,MACJ,KAAK,KACD7yC,KAAKD,UAAU6yC,YAAa,EAC5B,MACJ,KAAK,GACD5yC,KAAKD,UAAUmoC,cAAe,EAC9B,MACJ,KAAK,KACDloC,KAAKyvD,cAAc/pB,GACnB,MACJ,KAAK,KACL,KAAK,GACL,KAAK,KACD1lC,KAAKD,UAAUs9B,QAAQk0B,uBACL,OAAd7rB,EAAO,IACP1lC,KAAKyvD,cAAc/pB,GAEvB1lC,KAAKD,UAAU0U,QAAQ,EAAGzU,KAAKD,UAAUmJ,KAAO,GAC5ClJ,KAAKD,UAAUuwC,UACftwC,KAAKD,UAAUuwC,SAASC,iBAE5BvwC,KAAKD,UAAU+wC,aACf,MACJ,KAAK,KACD9wC,KAAKD,UAAUq1B,oBAAqB,EACpC,YA9ER,OAAQsQ,EAAO,IACX,KAAK,EACD1lC,KAAKD,UAAU2uC,YAAa,EAC5B,MACJ,KAAK,GACD,QA6EhBa,EAAapvC,UAAUgvD,eAAiB,SAAUzpB,GAC9C,GAAsB,IAAlBA,EAAO9kC,QAA8B,IAAd8kC,EAAO,GAAlC,CASA,IALA,IAII31B,EAJAiH,EAAI0uB,EAAO9kC,OACX6E,EAAQzF,KAAKD,UAAUivC,SAAW,GAClCrpC,EAAM3F,KAAKD,UAAUivC,SAAW,EAAK,IACrCtpC,EAA8B,IAAzB1F,KAAKD,UAAUivC,QAEfruC,EAAI,EAAGA,EAAIqW,EAAGrW,IACnBoP,EAAI21B,EAAO/kC,GACPoP,GAAK,IAAMA,GAAK,GAChBpK,EAAKoK,EAAI,GAEJA,GAAK,IAAMA,GAAK,GACrBrK,EAAKqK,EAAI,GAEJA,GAAK,IAAMA,GAAK,IACrBA,GAAK,EACLpK,EAAKoK,EAAI,IAEJA,GAAK,KAAOA,GAAK,KACtBA,GAAK,EACLrK,EAAKqK,EAAI,KAEE,IAANA,GACLtK,EAAQ5F,EAASmkB,cAAgB,GACjCre,EAAM9F,EAASmkB,cAAgB,EAAK,IACpCte,EAA6B,IAAxB7F,EAASmkB,cAEH,IAANjU,EACLtK,GAAS,EAEE,IAANsK,EACLtK,GAAS,GAEE,IAANsK,EACLtK,GAAS,EAEE,IAANsK,EACLtK,GAAS,EAEE,IAANsK,EACLtK,GAAS,EAEE,IAANsK,EACLtK,GAAS,GAEE,IAANsK,EACLtK,GAAS,GAEE,KAANsK,GACLtK,IAAS,EACTA,IAAS,IAEE,KAANsK,EACLtK,IAAS,GAEE,KAANsK,EACLtK,IAAS,EAEE,KAANsK,EACLtK,IAAS,EAEE,KAANsK,EACLtK,IAAS,EAEE,KAANsK,EACLtK,IAAS,GAEE,KAANsK,EACLpK,EAAM9F,EAASmkB,cAAgB,EAAK,IAEzB,KAANjU,EACLrK,EAA6B,IAAxB7F,EAASmkB,aAEH,KAANjU,EACiB,IAAlB21B,EAAO/kC,EAAI,IACXA,GAAK,EACLgF,EAAK3F,KAAKD,UAAUy2C,WAAuB,IAAZ9Q,EAAO/kC,GAA2B,IAAhB+kC,EAAO/kC,EAAI,GAA2B,IAAhB+kC,EAAO/kC,EAAI,KACtE,IAARgF,IACAA,EAAK,KACThF,GAAK,GAEkB,IAAlB+kC,EAAO/kC,EAAI,KAChBA,GAAK,EACLoP,EAAgB,IAAZ21B,EAAO/kC,GACXgF,EAAKoK,GAGE,KAANA,EACiB,IAAlB21B,EAAO/kC,EAAI,IACXA,GAAK,EACL+E,EAAK1F,KAAKD,UAAUy2C,WAAuB,IAAZ9Q,EAAO/kC,GAA2B,IAAhB+kC,EAAO/kC,EAAI,GAA2B,IAAhB+kC,EAAO/kC,EAAI,KACtE,IAAR+E,IACAA,EAAK,KACT/E,GAAK,GAEkB,IAAlB+kC,EAAO/kC,EAAI,KAChBA,GAAK,EACLoP,EAAgB,IAAZ21B,EAAO/kC,GACX+E,EAAKqK,GAGE,MAANA,GACLpK,EAAM9F,EAASmkB,cAAgB,EAAK,IACpCte,EAA6B,IAAxB7F,EAASmkB,cAGdhkB,KAAKD,UAAUiwC,MAAM,6BAA8BjgC,GAG3D/P,KAAKD,UAAUivC,QAAWvpC,GAAS,GAAOE,GAAM,EAAKD,OA/GjD1F,KAAKD,UAAUivC,QAAUnvC,EAASmkB,cAiH1CurB,EAAapvC,UAAUivD,aAAe,SAAU1pB,EAAQwU,GACpD,GAAKA,GAYA,GAAgB,MAAZA,EACL,OAAQxU,EAAO,IACX,KAAK,EACGx7B,EAAIlK,KAAKD,UAAUkB,OAAOiJ,EAAI,EAC9BtI,EAAI5B,KAAKD,UAAUkB,OAAOW,EAAI,EAClC5B,KAAKD,UAAUuhB,KAAK,OAAQyI,EAAkBkC,GAAGC,IAAM,KAAOhiB,EAAI,IAAMtI,EAAI,KAC5E,MACJ,KAAK,GACD,MACJ,KAAK,GACD,MACJ,KAAK,GACD,MACJ,KAAK,GACD,YAzBR,OAAQ8jC,EAAO,IACX,KAAK,EACD1lC,KAAKD,UAAUuhB,KAAK,OAAQyI,EAAkBkC,GAAGC,IAAM,OACvD,MACJ,KAAK,EACD,IAAIhiB,EAAIlK,KAAKD,UAAUkB,OAAOiJ,EAAI,EAC9BtI,EAAI5B,KAAKD,UAAUkB,OAAOW,EAAI,EAClC5B,KAAKD,UAAUuhB,KAAK,OAAQyI,EAAkBkC,GAAGC,IAAM,IAAMhiB,EAAI,IAAMtI,EAAI,KAC3E,QAqBhB2tC,EAAapvC,UAAUkvD,UAAY,SAAU3pB,EAAQwU,GACjC,MAAZA,IACAl6C,KAAKD,UAAUmoC,cAAe,EAC9BloC,KAAKD,UAAU2uC,YAAa,EAC5B1uC,KAAKD,UAAU0uC,YAAa,EAC5BzuC,KAAKD,UAAU4uC,gBAAiB,EAChC3uC,KAAKD,UAAUwuC,mBAAoB,EAC/BvuC,KAAKD,UAAUuwC,UACftwC,KAAKD,UAAUuwC,SAASC,iBAE5BvwC,KAAKD,UAAUyuC,mBAAoB,EACnCxuC,KAAKD,UAAUkB,OAAOokB,UAAY,EAClCrlB,KAAKD,UAAUkB,OAAOqkB,aAAetlB,KAAKD,UAAUmJ,KAAO,EAC3DlJ,KAAKD,UAAUivC,QAAUnvC,EAASmkB,aAClChkB,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAUkB,OAAOiJ,EAAI,EACpDlK,KAAKD,UAAU6uC,QAAU,KACzB5uC,KAAKD,UAAU+uC,OAAS,EACxB9uC,KAAKD,UAAUgvC,SAAW,CAAC,QAGnCQ,EAAapvC,UAAUmvD,eAAiB,SAAU5pB,EAAQwU,GACtD,GAAgB,MAAZA,EAAiB,CACjB,IAAI4W,EAAQprB,EAAO,GAAK,EAAI,EAAIA,EAAO,GACvC,OAAQorB,GACJ,KAAK,EACL,KAAK,EACD9wD,KAAKD,UAAUy0B,UAAU,cAAe,SACxC,MACJ,KAAK,EACL,KAAK,EACDx0B,KAAKD,UAAUy0B,UAAU,cAAe,aACxC,MACJ,KAAK,EACL,KAAK,EACDx0B,KAAKD,UAAUy0B,UAAU,cAAe,OACxC,MAER,IAAIg9B,EAAaV,EAAQ,IAAM,EAC/B9wD,KAAKD,UAAUy0B,UAAU,cAAeg9B,KAGhDjiB,EAAapvC,UAAUovD,gBAAkB,SAAU7pB,EAAQwU,GACnDA,IAEJl6C,KAAKD,UAAUkB,OAAOokB,WAAaqgB,EAAO,IAAM,GAAK,EACrD1lC,KAAKD,UAAUkB,OAAOqkB,cAAgBogB,EAAO,IAAMA,EAAO,IAAM1lC,KAAKD,UAAUmJ,KAAOw8B,EAAO,GAAK1lC,KAAKD,UAAUmJ,MAAQ,EACzHlJ,KAAKD,UAAUkB,OAAOW,EAAI,EAC1B5B,KAAKD,UAAUkB,OAAOiJ,EAAI,IAE9BqlC,EAAapvC,UAAUqvD,WAAa,SAAU9pB,GAC1C1lC,KAAKD,UAAUkB,OAAO8kB,OAAS/lB,KAAKD,UAAUkB,OAAOW,EACrD5B,KAAKD,UAAUkB,OAAO6kB,OAAS9lB,KAAKD,UAAUkB,OAAOiJ,EACrDlK,KAAKD,UAAUkB,OAAOwwD,aAAezxD,KAAKD,UAAUivC,SAExDO,EAAapvC,UAAUsvD,cAAgB,SAAU/pB,GAC7C1lC,KAAKD,UAAUkB,OAAOW,EAAI5B,KAAKD,UAAUkB,OAAO8kB,QAAU,EAC1D/lB,KAAKD,UAAUkB,OAAOiJ,EAAIlK,KAAKD,UAAUkB,OAAO6kB,QAAU,EAC1D9lB,KAAKD,UAAUivC,QAAUhvC,KAAKD,UAAUkB,OAAOwwD,cAAgB5xD,EAASmkB,cAE5EurB,EAAapvC,UAAU6vD,SAAW,SAAUziD,GACxCvN,KAAKD,UAAUm2C,YAAY3oC,IAE/BgiC,EAAapvC,UAAUyc,SAAW,WAC9B5c,KAAKD,UAAUkB,OAAOW,EAAI,EAC1B5B,KAAKkO,SAETqhC,EAAapvC,UAAU8vD,sBAAwB,WAC3CjwD,KAAKD,UAAU81C,IAAI,6CACnB71C,KAAKD,UAAUwuC,mBAAoB,EAC/BvuC,KAAKD,UAAUuwC,UACftwC,KAAKD,UAAUuwC,SAASC,kBAGhChB,EAAapvC,UAAU+vD,kBAAoB,WACvClwD,KAAKD,UAAU81C,IAAI,oCACnB71C,KAAKD,UAAUwuC,mBAAoB,EAC/BvuC,KAAKD,UAAUuwC,UACftwC,KAAKD,UAAUuwC,SAASC,kBAGhChB,EAAapvC,UAAUgwD,qBAAuB,WAC1CnwD,KAAKD,UAAUu1C,UAAU,GACzBt1C,KAAKD,UAAUw1C,YAAY,EAAGsX,EAAW1gB,kBAE7CoD,EAAapvC,UAAUiwD,cAAgB,SAAU9T,GAC7C,GAA8B,IAA1BA,EAAe17C,OACf,OAAOZ,KAAKmwD,uBACU,MAAtB7T,EAAe,IAEnBt8C,KAAKD,UAAUw1C,YAAYwX,EAAOzQ,EAAe,IAAKuQ,EAAW3gB,SAASoQ,EAAe,KAAOuQ,EAAW1gB,kBAE/GoD,EAAapvC,UAAU+N,MAAQ,WAC3BlO,KAAKD,UAAUmO,SAEnBqhC,EAAapvC,UAAUm2C,OAAS,WAC5Bt2C,KAAKD,UAAUu2C,UAEnB/G,EAAapvC,UAAUi2C,aAAe,WAClCp2C,KAAKD,UAAUq2C,gBAEnB7G,EAAapvC,UAAUoV,MAAQ,WAC3BvV,KAAKotD,QAAQ73C,QACbvV,KAAKD,UAAUwV,SAEnBg6B,EAAapvC,UAAUm1C,UAAY,SAAUoc,GACzC1xD,KAAKD,UAAUu1C,UAAUoc,IAEtBniB,EAphCQ,CAqhCjBh/B,EAAYyE,YACdrV,EAAQ4vC,aAAeA,G,kCC5lCvB9vC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIoV,EAAc,WACd,SAASA,IACLhV,KAAK2xD,aAAe,GACpB3xD,KAAK60C,aAAc,EAgBvB,OAdA7/B,EAAW7U,UAAUqH,QAAU,WAC3BxH,KAAK60C,aAAc,EACnB70C,KAAK2xD,aAAa5xC,SAAQ,SAAUpQ,GAAK,OAAOA,EAAEnI,aAClDxH,KAAK2xD,aAAa/wD,OAAS,GAE/BoU,EAAW7U,UAAUgS,SAAW,SAAUxC,GACtC3P,KAAK2xD,aAAanxD,KAAKmP,IAE3BqF,EAAW7U,UAAUgwC,WAAa,SAAUxgC,GACxC,IAAIzB,EAAQlO,KAAK2xD,aAAap2C,QAAQ5L,IACvB,IAAXzB,GACAlO,KAAK2xD,aAAa9wD,OAAOqN,EAAO,IAGjC8G,EAnBM,GAqBjBrV,EAAQqV,WAAaA,G,kCCtBrBvV,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI0jC,EAAa,WACb,SAASA,IACLtjC,KAAKykC,MAAQ,GAqBjB,OAnBAnB,EAAUnjC,UAAUkJ,OAAS,SAAUpH,EAAO4H,GAC1C,IAAK,IAAIjI,EAAI,EAAGA,EAAIK,EAAOL,IAAK,CACxB5B,KAAKykC,MAAM7jC,QAAUgB,GACrB5B,KAAKykC,MAAMjkC,KAAK,IAEpB,IAAK,IAAI0J,EAAIlK,KAAKykC,MAAM7iC,GAAGhB,OAAQsJ,EAAIL,EAAQK,IAC3ClK,KAAKykC,MAAM7iC,GAAGpB,KAAK,MAEvBR,KAAKykC,MAAM7iC,GAAGhB,OAASiJ,EAE3B7J,KAAKykC,MAAM7jC,OAASqB,GAExBqhC,EAAUnjC,UAAU+gB,MAAQ,WACxB,IAAK,IAAItf,EAAI,EAAGA,EAAI5B,KAAKykC,MAAM7jC,OAAQgB,IACnC,IAAK,IAAIsI,EAAI,EAAGA,EAAIlK,KAAKykC,MAAM7iC,GAAGhB,OAAQsJ,IACtClK,KAAKykC,MAAM7iC,GAAGsI,GAAK,MAIxBo5B,EAvBK,GAyBhB3jC,EAAQ2jC,UAAYA,G,kCC1BpB,IAAI7zB,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAW,EAAQ,QACnB8d,EAAiB,EAAQ,QACzBgyB,EAAa,SAAUh/B,GAEvB,SAASg/B,EAAU5vC,GACf,IAAI6Q,EAAQD,EAAOE,KAAK7Q,OAASA,KAOjC,OANA4Q,EAAM7Q,UAAYA,EAClB6Q,EAAMghD,QAAU,IAAI/xD,EAASqkB,OAAOtT,EAAM7Q,WAAW,GACrD6Q,EAAMghD,QAAQ3sC,mBACdrU,EAAMihD,KAAO,IAAIhyD,EAASqkB,OAAOtT,EAAM7Q,WAAW,GAClD6Q,EAAMkhD,cAAgBlhD,EAAMghD,QAC5BhhD,EAAM2U,gBACC3U,EAyDX,OAlEAnB,EAAUkgC,EAAWh/B,GAWrBlR,OAAOC,eAAeiwC,EAAUxvC,UAAW,MAAO,CAC9CgB,IAAK,WACD,OAAOnB,KAAK6xD,MAEhB33C,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAeiwC,EAAUxvC,UAAW,SAAU,CACjDgB,IAAK,WACD,OAAOnB,KAAK8xD,eAEhB53C,YAAY,EACZE,cAAc,IAElB3a,OAAOC,eAAeiwC,EAAUxvC,UAAW,SAAU,CACjDgB,IAAK,WACD,OAAOnB,KAAK4xD,SAEhB13C,YAAY,EACZE,cAAc,IAElBu1B,EAAUxvC,UAAUoxD,qBAAuB,WACnCvxD,KAAK8xD,gBAAkB9xD,KAAK4xD,UAGhC5xD,KAAK4xD,QAAQhwD,EAAI5B,KAAK6xD,KAAKjwD,EAC3B5B,KAAK4xD,QAAQ1nD,EAAIlK,KAAK6xD,KAAK3nD,EAC3BlK,KAAK6xD,KAAK3wC,QACVlhB,KAAK8xD,cAAgB9xD,KAAK4xD,QAC1B5xD,KAAKshB,KAAK,WAAY,CAClBwf,aAAc9gC,KAAK4xD,QACnB/wB,eAAgB7gC,KAAK6xD,SAG7BliB,EAAUxvC,UAAUmxD,kBAAoB,SAAUpsC,GAC1CllB,KAAK8xD,gBAAkB9xD,KAAK6xD,OAGhC7xD,KAAK6xD,KAAK5sC,iBAAiBC,GAC3BllB,KAAK6xD,KAAKjwD,EAAI5B,KAAK4xD,QAAQhwD,EAC3B5B,KAAK6xD,KAAK3nD,EAAIlK,KAAK4xD,QAAQ1nD,EAC3BlK,KAAK8xD,cAAgB9xD,KAAK6xD,KAC1B7xD,KAAKshB,KAAK,WAAY,CAClBwf,aAAc9gC,KAAK6xD,KACnBhxB,eAAgB7gC,KAAK4xD,YAG7BjiB,EAAUxvC,UAAUkJ,OAAS,SAAUmc,EAASC,GAC5CzlB,KAAK4xD,QAAQvoD,OAAOmc,EAASC,GAC7BzlB,KAAK6xD,KAAKxoD,OAAOmc,EAASC,IAE9BkqB,EAAUxvC,UAAUolB,cAAgB,SAAU5kB,GAC1CX,KAAK4xD,QAAQrsC,cAAc5kB,GAC3BX,KAAK6xD,KAAKtsC,cAAc5kB,IAErBgvC,EAnEK,CAoEdhyB,EAAeoE,cACjBpiB,EAAQgwC,UAAYA,G,kCCrFpB,IAAIlgC,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI2Q,EAAc,EAAQ,QACtB4Y,EAAoB,SAAUxY,GAE9B,SAASwY,IACL,OAAkB,OAAXxY,GAAmBA,EAAO3C,MAAMhO,KAAM8N,YAAc9N,KAkC/D,OApCAyP,EAAU0Z,EAAkBxY,GAI5BwY,EAAiBhpB,UAAUipB,YAAc,SAAU8J,GAC/C,IAAItiB,EAAQ5Q,KACRA,KAAK+xD,WACL/xD,KAAKgyD,gBAEThyD,KAAK+xD,UAAY7+B,EACjBlzB,KAAKiyD,eAAiB,WAClBrhD,EAAMmhD,UAAU1nD,OAAOC,iBAAkBsG,EAAMshD,0BAC/CthD,EAAMuhD,cAEVnyD,KAAKmyD,cAEThpC,EAAiBhpB,UAAUqH,QAAU,WACjCmJ,EAAOxQ,UAAUqH,QAAQqJ,KAAK7Q,MAC9BA,KAAKgyD,iBAET7oC,EAAiBhpB,UAAUgyD,WAAa,WAChCnyD,KAAKoyD,2BACLpyD,KAAKoyD,0BAA0BC,eAAeryD,KAAKiyD,gBAEvDjyD,KAAKkyD,yBAA2B7nD,OAAOC,iBACvCtK,KAAKoyD,0BAA4B/nD,OAAOioD,WAAW,2BAA6BjoD,OAAOC,iBAAmB,SAC1GtK,KAAKoyD,0BAA0BG,YAAYvyD,KAAKiyD,iBAEpD9oC,EAAiBhpB,UAAU6xD,cAAgB,WAClChyD,KAAK+xD,YAGV/xD,KAAKoyD,0BAA0BC,eAAeryD,KAAKiyD,gBACnDjyD,KAAK+xD,UAAY,KACjB/xD,KAAKiyD,eAAiB,OAEnB9oC,EArCY,CAsCrB5Y,EAAYyE,YACdrV,EAAQwpB,iBAAmBA,G,kCCtD3B,IAAI1Z,EAAazP,MAAQA,KAAKyP,WAAc,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBjQ,OAAOoQ,gBAClB,CAAEC,UAAW,cAAgBhM,OAAS,SAAU6L,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAOA,EAAEI,eAAeD,KAAIJ,EAAEI,GAAKH,EAAEG,KAClEL,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASK,IAAOjQ,KAAKkQ,YAAcP,EADnCD,EAAcC,EAAGC,GAEjBD,EAAExP,UAAkB,OAANyP,EAAanQ,OAAO0Q,OAAOP,IAAMK,EAAG9P,UAAYyP,EAAEzP,UAAW,IAAI8P,IAV3C,GAa5CxQ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI2Q,EAAc,EAAQ,QACtBC,EAAc,EAAQ,QACtBgiD,EAA4B,GAC5BzgB,EAAY,SAAUphC,GAEtB,SAASohC,EAAShyC,EAAWogB,EAAkBsyC,EAAa51B,GACxD,IAAIjsB,EAAQD,EAAOE,KAAK7Q,OAASA,KAiBjC,OAhBA4Q,EAAM7Q,UAAYA,EAClB6Q,EAAMuP,iBAAmBA,EACzBvP,EAAM6hD,YAAcA,EACpB7hD,EAAMisB,aAAeA,EACrBjsB,EAAMqwC,eAAiB,EACvBrwC,EAAM8hD,kBAAoB,EAC1B9hD,EAAM+hD,0BAA4B,EAClC/hD,EAAMgiD,4BAA8B,EACpChiD,EAAMiiD,0BAA4B,EAClCjiD,EAAMkiD,eAAiB,EACvBliD,EAAMmiD,oBAAsB,EAC5BniD,EAAM0tB,uBAAyB,KAC/B1tB,EAAMoiD,wBAAyB,EAC/BpiD,EAAMqwC,eAAkBrwC,EAAMuP,iBAAiB8yC,YAAcriD,EAAM6hD,YAAYQ,aAAgBT,EAC/F5hD,EAAMuB,SAAS3B,EAAYqC,yBAAyBjC,EAAMuP,iBAAkB,SAAUvP,EAAMsiD,UAAUrhD,KAAKjB,KAC3G4D,YAAW,WAAc,OAAO5D,EAAM2/B,mBAAqB,GACpD3/B,EAkHX,OArIAnB,EAAUsiC,EAAUphC,GAqBpBohC,EAAS5xC,UAAUwI,eAAiB,SAAUyM,GAC1CpV,KAAKmgB,iBAAiB3a,MAAMwsB,gBAAkB5c,EAAOvK,WAAWC,KAEpEinC,EAAS5xC,UAAUo+B,SAAW,WAC1B,IAAI3tB,EAAQ5Q,KACwB,OAAhCA,KAAKs+B,yBACLt+B,KAAKs+B,uBAAyB7gB,uBAAsB,WAAc,OAAO7M,EAAM8M,qBAGvFq0B,EAAS5xC,UAAUud,cAAgB,WAC/B,GAAI1d,KAAK68B,aAAahzB,OAAS,EAAG,CAC9B7J,KAAK0yD,kBAAoB1yD,KAAKD,UAAU6S,SAASiC,WAAWtL,iBAAmBc,OAAOC,iBACtFtK,KAAK4yD,4BAA8B5yD,KAAKmgB,iBAAiBgzC,aACzD,IAAIC,EAAkB7vD,KAAKsc,MAAM7f,KAAK0yD,kBAAoB1yD,KAAK2yD,4BAA8B3yD,KAAK4yD,4BAA8B5yD,KAAKD,UAAU6S,SAASiC,WAAW7K,cAC/JhK,KAAK6yD,4BAA8BO,IACnCpzD,KAAK6yD,0BAA4BO,EACjCpzD,KAAKyyD,YAAYjtD,MAAMqE,OAAS7J,KAAK6yD,0BAA4B,MAGzE,IAAIxtC,EAAYrlB,KAAKD,UAAUkB,OAAO0T,MAAQ3U,KAAK0yD,kBAC/C1yD,KAAKmgB,iBAAiBkF,YAAcA,IACpCrlB,KAAKgzD,wBAAyB,EAC9BhzD,KAAKmgB,iBAAiBkF,UAAYA,GAEtCrlB,KAAKs+B,uBAAyB,MAElCyT,EAAS5xC,UAAUowC,eAAiB,WAChC,GAAIvwC,KAAK2yD,4BAA8B3yD,KAAKD,UAAUkB,OAAOC,MAAMN,OAG/D,OAFAZ,KAAK2yD,0BAA4B3yD,KAAKD,UAAUkB,OAAOC,MAAMN,YAC7DZ,KAAKu+B,WAGT,GAAIv+B,KAAK4yD,8BAAgC5yD,KAAKD,UAAU6S,SAASiC,WAAW7K,aAA5E,CAIA,IAAIqpD,EAAerzD,KAAKD,UAAUkB,OAAO0T,MAAQ3U,KAAK0yD,kBAClD1yD,KAAK8yD,iBAAmBO,GAIxBrzD,KAAK8yD,iBAAmB9yD,KAAKmgB,iBAAiBkF,WAI9CrlB,KAAKD,UAAU6S,SAASiC,WAAWtL,iBAAmBc,OAAOC,mBAAqBtK,KAAK0yD,mBAPvF1yD,KAAKu+B,gBALLv+B,KAAKu+B,YAiBbwT,EAAS5xC,UAAU+yD,UAAY,SAAU3nC,GAErC,GADAvrB,KAAK8yD,eAAiB9yD,KAAKmgB,iBAAiBkF,UACvCrlB,KAAKmgB,iBAAiBglB,aAG3B,GAAInlC,KAAKgzD,uBACLhzD,KAAKgzD,wBAAyB,MADlC,CAIA,IAAIM,EAAS/vD,KAAKsc,MAAM7f,KAAK8yD,eAAiB9yD,KAAK0yD,mBAC/C9nB,EAAO0oB,EAAStzD,KAAKD,UAAUkB,OAAO0T,MAC1C3U,KAAKD,UAAU6T,YAAYg3B,GAAM,KAErCmH,EAAS5xC,UAAUwzC,QAAU,SAAUpoB,GACnC,IAAIzE,EAAS9mB,KAAKuzD,mBAAmBhoC,GACtB,IAAXzE,IAGJ9mB,KAAKmgB,iBAAiBkF,WAAayB,EACnCyE,EAAGzX,mBAEPi+B,EAAS5xC,UAAUozD,mBAAqB,SAAUhoC,GAC9C,GAAkB,IAAdA,EAAG2nB,OACH,OAAO,EAEX,IAAIpsB,EAASyE,EAAG2nB,OAOhB,OANI3nB,EAAGioC,YAAcC,WAAWC,eAC5B5sC,GAAU9mB,KAAK0yD,kBAEVnnC,EAAGioC,YAAcC,WAAWE,iBACjC7sC,GAAU9mB,KAAK0yD,kBAAoB1yD,KAAKD,UAAUmJ,MAE/C4d,GAEXirB,EAAS5xC,UAAUszC,iBAAmB,SAAUloB,GAC5C,GAAkB,IAAdA,EAAG2nB,OACH,OAAO,EAEX,IAAIpsB,EAASyE,EAAG2nB,OAUhB,OATI3nB,EAAGioC,YAAcC,WAAWG,iBAC5B9sC,GAAU9mB,KAAK0yD,kBAAoB,EACnC1yD,KAAK+yD,qBAAuBjsC,EAC5BA,EAASvjB,KAAK6Y,MAAM7Y,KAAK27B,IAAIl/B,KAAK+yD,uBAAyB/yD,KAAK+yD,oBAAsB,EAAI,GAAK,GAC/F/yD,KAAK+yD,qBAAuB,GAEvBxnC,EAAGioC,YAAcC,WAAWE,iBACjC7sC,GAAU9mB,KAAKD,UAAUmJ,MAEtB4d,GAEXirB,EAAS5xC,UAAUyzC,aAAe,SAAUroB,GACxCvrB,KAAK6zD,YAActoC,EAAGuoC,QAAQ,GAAG7wC,OAErC8uB,EAAS5xC,UAAU0zC,YAAc,SAAUtoB,GACvC,IAAI2nB,EAASlzC,KAAK6zD,YAActoC,EAAGuoC,QAAQ,GAAG7wC,MAC9CjjB,KAAK6zD,YAActoC,EAAGuoC,QAAQ,GAAG7wC,MAClB,IAAXiwB,IAGJlzC,KAAKmgB,iBAAiBkF,WAAa6tB,EACnC3nB,EAAGzX,mBAEAi+B,EAtII,CAuIbxhC,EAAYyE,YACdrV,EAAQoyC,SAAWA","file":"js/chunk-3b3ed535.a56fb266.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../Buffer\");\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = this._terminal.buffer.translateBufferLineToString(row, true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttr = line.get(0)[Buffer_1.CHAR_DATA_ATTR_INDEX] >> 9;\n        for (var x = 0; x < this._terminal.cols; x++) {\n            var charData = line.get(x);\n            var chars = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX] >> 9;\n            if (width === 0) {\n                continue;\n            }\n            if (attr !== rangeAttr) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttr = attr;\n            }\n            currentStringIndex += chars.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var charData = line.get(x);\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            var length_1 = charData[Buffer_1.CHAR_DATA_CHAR_INDEX].length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n//# sourceMappingURL=CharacterJoinerRegistry.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = function (val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : exports.clone(val[key], depth - 1);\n    }\n    return clonedObject;\n};\n//# sourceMappingURL=Clone.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../../Buffer\");\nvar Types_1 = require(\"../atlas/Types\");\nexports.BOLD_CLASS = 'xterm-bold';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_document) {\n        this._document = _document;\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            var charData = lineData.get(x);\n            var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n            if (code !== Buffer_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            var charData = lineData.get(x);\n            var char = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n            var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX];\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            var flags = attr >> 18;\n            var bg = attr & 0x1ff;\n            var fg = (attr >> 9) & 0x1ff;\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (flags & 8) {\n                var temp = bg;\n                bg = fg;\n                fg = temp;\n                if (fg === Types_1.DEFAULT_COLOR) {\n                    fg = Types_1.INVERTED_DEFAULT_COLOR;\n                }\n                if (bg === Types_1.DEFAULT_COLOR) {\n                    bg = Types_1.INVERTED_DEFAULT_COLOR;\n                }\n            }\n            if (flags & 1) {\n                if (fg < 8) {\n                    fg += 8;\n                }\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (flags & 64) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            charElement.textContent = char;\n            if (fg !== Types_1.DEFAULT_COLOR) {\n                charElement.classList.add(\"xterm-fg-\" + fg);\n            }\n            if (bg !== Types_1.DEFAULT_COLOR) {\n                charElement.classList.add(\"xterm-bg-\" + bg);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n//# sourceMappingURL=DomRendererRowFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasCache_1 = require(\"./atlas/CharAtlasCache\");\nvar Buffer_1 = require(\"../Buffer\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: '',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement('canvas');\n        this._canvas.classList.add(\"xterm-\" + id + \"-layer\");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext('2d', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.onThemeChanged = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + \"px\";\n        this._canvas.style.height = dim.canvasHeight + \"px\";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, charData, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = 'top';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(charData[Buffer_1.CHAR_DATA_CHAR_INDEX], x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, chars, code, width, x, y, fg, bg, bold, dim, italic) {\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && bold && fg < 8 && fg !== Types_1.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = chars;\n        this._currentGlyphIdentifier.code = code;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = bold && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = dim;\n        this._currentGlyphIdentifier.italic = italic;\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, chars, width, fg, x, y, bold && terminal.options.enableBold, dim, italic);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, chars, width, fg, x, y, bold, dim, italic) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, bold, italic);\n        this._ctx.textBaseline = 'top';\n        if (fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(fg)) {\n            this._ctx.fillStyle = this._colors.ansi[fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        this._clipRow(terminal, y);\n        if (dim) {\n            this._ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._ctx.fillText(chars, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? 'italic' : '';\n        return fontStyle + \" \" + fontWeight + \" \" + terminal.options.fontSize * window.devicePixelRatio + \"px \" + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n//# sourceMappingURL=BaseRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar BufferLineJSArray = (function () {\n    function BufferLineJSArray(cols, fillCharData, isWrapped) {\n        this.isWrapped = false;\n        this._data = [];\n        if (!fillCharData) {\n            fillCharData = [0, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        for (var i = 0; i < cols; i++) {\n            this._push(fillCharData);\n        }\n        if (isWrapped) {\n            this.isWrapped = true;\n        }\n        this.length = this._data.length;\n    }\n    BufferLineJSArray.prototype._pop = function () {\n        var data = this._data.pop();\n        this.length = this._data.length;\n        return data;\n    };\n    BufferLineJSArray.prototype._push = function (data) {\n        this._data.push(data);\n        this.length = this._data.length;\n    };\n    BufferLineJSArray.prototype._splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        var _a;\n        var removed = (_a = this._data).splice.apply(_a, [start, deleteCount].concat(items));\n        this.length = this._data.length;\n        return removed;\n    };\n    BufferLineJSArray.prototype.get = function (index) {\n        return this._data[index];\n    };\n    BufferLineJSArray.prototype.set = function (index, data) {\n        this._data[index] = data;\n    };\n    BufferLineJSArray.prototype.insertCells = function (pos, n, ch) {\n        while (n--) {\n            this._splice(pos, 0, ch);\n            this._pop();\n        }\n    };\n    BufferLineJSArray.prototype.deleteCells = function (pos, n, fillCharData) {\n        while (n--) {\n            this._splice(pos, 1);\n            this._push(fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.replaceCells = function (start, end, fillCharData) {\n        while (start < end && start < this.length) {\n            this.set(start++, fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.resize = function (cols, fillCharData, shrink) {\n        if (shrink === void 0) { shrink = false; }\n        while (this._data.length < cols) {\n            this._data.push(fillCharData);\n        }\n        if (shrink) {\n            while (this._data.length > cols) {\n                this._data.pop();\n            }\n        }\n        this.length = this._data.length;\n    };\n    BufferLineJSArray.prototype.fill = function (fillCharData) {\n        for (var i = 0; i < this.length; ++i) {\n            this.set(i, fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.copyFrom = function (line) {\n        this._data = line._data.slice(0);\n        this.length = line.length;\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLineJSArray.prototype.clone = function () {\n        var newLine = new BufferLineJSArray(0);\n        newLine.copyFrom(this);\n        return newLine;\n    };\n    return BufferLineJSArray;\n}());\nexports.BufferLineJSArray = BufferLineJSArray;\nvar CELL_SIZE = 3;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCharData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._data = null;\n        this._combined = {};\n        if (!fillCharData) {\n            fillCharData = [0, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        if (cols) {\n            this._data = new Uint32Array(cols * CELL_SIZE);\n            for (var i = 0; i < cols; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var stringData = this._data[index * CELL_SIZE + 1];\n        return [\n            this._data[index * CELL_SIZE + 0],\n            (stringData & 0x80000000)\n                ? this._combined[index]\n                : (stringData) ? String.fromCharCode(stringData) : '',\n            this._data[index * CELL_SIZE + 2],\n            (stringData & 0x80000000)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : stringData\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 0] = value[0];\n        if (value[1].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 1] = index | 0x80000000;\n        }\n        else {\n            this._data[index * CELL_SIZE + 1] = value[1].charCodeAt(0);\n        }\n        this._data[index * CELL_SIZE + 2] = value[2];\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCharData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.set(pos + n + i, this.get(pos + i));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.set(pos + i, fillCharData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCharData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.set(pos + i, this.get(pos + n + i));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCharData) {\n        while (start < end && start < this.length) {\n            this.set(start++, fillCharData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCharData, shrink) {\n        if (shrink === void 0) { shrink = false; }\n        if (cols === this.length || (!shrink && cols < this.length)) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        else if (shrink) {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n            }\n            else {\n                this._data = null;\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCharData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.set(i, fillCharData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n//# sourceMappingURL=BufferLine.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = require(\"./Strings\");\nvar Platform_1 = require(\"./core/Platform\");\nvar RenderDebouncer_1 = require(\"./ui/RenderDebouncer\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Lifecycle_2 = require(\"./common/Lifecycle\");\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.addDisposableListener('resize', function (data) { return _this._onResize(data.rows); }));\n        _this.register(_this._terminal.addDisposableListener('refresh', function (data) { return _this._refreshRows(data.start, data.end); }));\n        _this.register(_this._terminal.addDisposableListener('scroll', function (data) { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.addDisposableListener('linefeed', function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.addDisposableListener('key', function (keyChar) { return _this._onKey(keyChar); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this.register(_this._terminal.addDisposableListener('dprchange', function () { return _this._refreshRowsDimensions(); }));\n        _this.register(_this._terminal.renderer.addDisposableListener('resize', function () { return _this._refreshRowsDimensions(); }));\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._announceCharacter(char);\n                }\n            }\n            else {\n                this._announceCharacter(char);\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n            element.setAttribute('aria-posinset', posInSet);\n            element.setAttribute('aria-setsize', setSize);\n        }\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._terminal.renderer.dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._terminal.renderer.dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacter = function (char) {\n        if (char === ' ') {\n            this._liveRegion.innerHTML += '&nbsp;';\n        }\n        else {\n            this._liveRegion.textContent += char;\n        }\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n//# sourceMappingURL=AccessibilityManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n//# sourceMappingURL=SelectionRenderLayer.js.map","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.6.4\";\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa && typeof global.btoa == 'function'\n        ? function(b){ return global.btoa(b) } : function(b) {\n        if (b.match(/[^\\x00-\\xFF]/)) throw new RangeError(\n            'The string contains invalid characters.'\n        );\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = function(u) {\n        return btoa(utob(String(u)));\n    };\n    var mkUriSafe = function (b64) {\n        return b64.replace(/[+\\/]/g, function(m0) {\n            return m0 == '+' ? '-' : '_';\n        }).replace(/=/g, '');\n    };\n    var encode = function(u, urisafe) {\n        return urisafe ? mkUriSafe(_encode(u)) : _encode(u);\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    var fromUint8Array;\n    if (global.Uint8Array) fromUint8Array = function(a, urisafe) {\n        // return btoa(fromCharCode.apply(null, a));\n        var b64 = '';\n        for (var i = 0, l = a.length; i < l; i += 3) {\n            var a0 = a[i], a1 = a[i+1], a2 = a[i+2];\n            var ord = a0 << 16 | a1 << 8 | a2;\n            b64 +=    b64chars.charAt( ord >>> 18)\n                +     b64chars.charAt((ord >>> 12) & 63)\n                + ( typeof a1 != 'undefined'\n                    ? b64chars.charAt((ord >>>  6) & 63) : '=')\n                + ( typeof a2 != 'undefined'\n                    ? b64chars.charAt( ord         & 63) : '=');\n        }\n        return urisafe ? mkUriSafe(b64) : b64;\n    };\n    // decoder stuff\n    var re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob && typeof global.atob == 'function'\n        ? function(a){ return global.atob(a) } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = function(a) { return btou(_atob(a)) };\n    var _fromURI = function(a) {\n        return String(a).replace(/[-_]/g, function(m0) {\n            return m0 == '-' ? '+' : '/'\n        }).replace(/[^A-Za-z0-9\\+\\/]/g, '');\n    };\n    var decode = function(a){\n        return _decode(_fromURI(a));\n    };\n    var toUint8Array;\n    if (global.Uint8Array) toUint8Array = function(a) {\n        return Uint8Array.from(atob(_fromURI(a)), function(c) {\n            return c.charCodeAt(0);\n        });\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        fromUint8Array: fromUint8Array,\n        toUint8Array: toUint8Array\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nonWordCharacters = ' ~!@#$%^&*()+`-=[]{}|\\;:\"\\',./<>?';\nvar SearchHelper = (function () {\n    function SearchHelper(_terminal) {\n        this._terminal = _terminal;\n    }\n    SearchHelper.prototype.findNext = function (term, searchOptions) {\n        if (!term || term.length === 0) {\n            return false;\n        }\n        var result;\n        var startRow = this._terminal._core.buffer.ydisp;\n        if (this._terminal._core.selectionManager.selectionEnd) {\n            if (this._terminal.getSelection().length !== 0) {\n                startRow = this._terminal._core.selectionManager.selectionEnd[1];\n            }\n        }\n        for (var y = startRow + 1; y < this._terminal._core.buffer.ybase + this._terminal.rows; y++) {\n            result = this._findInLine(term, y, searchOptions);\n            if (result) {\n                break;\n            }\n        }\n        if (!result) {\n            for (var y = 0; y < startRow; y++) {\n                result = this._findInLine(term, y, searchOptions);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return this._selectResult(result);\n    };\n    SearchHelper.prototype.findPrevious = function (term, searchOptions) {\n        if (!term || term.length === 0) {\n            return false;\n        }\n        var result;\n        var startRow = this._terminal._core.buffer.ydisp;\n        if (this._terminal._core.selectionManager.selectionStart) {\n            if (this._terminal.getSelection().length !== 0) {\n                startRow = this._terminal._core.selectionManager.selectionStart[1];\n            }\n        }\n        for (var y = startRow - 1; y >= 0; y--) {\n            result = this._findInLine(term, y, searchOptions);\n            if (result) {\n                break;\n            }\n        }\n        if (!result) {\n            for (var y = this._terminal._core.buffer.ybase + this._terminal.rows - 1; y > startRow; y--) {\n                result = this._findInLine(term, y, searchOptions);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return this._selectResult(result);\n    };\n    SearchHelper.prototype._isWholeWord = function (searchIndex, line, term) {\n        return (((searchIndex === 0) || (nonWordCharacters.indexOf(line[searchIndex - 1]) !== -1)) &&\n            (((searchIndex + term.length) === line.length) || (nonWordCharacters.indexOf(line[searchIndex + term.length]) !== -1)));\n    };\n    SearchHelper.prototype._findInLine = function (term, y, searchOptions) {\n        if (searchOptions === void 0) { searchOptions = {}; }\n        if (this._terminal._core.buffer.lines.get(y).isWrapped) {\n            return;\n        }\n        var stringLine = this.translateBufferLineToStringWithWrap(y, true);\n        var searchStringLine = searchOptions.caseSensitive ? stringLine : stringLine.toLowerCase();\n        var searchTerm = searchOptions.caseSensitive ? term : term.toLowerCase();\n        var searchIndex = -1;\n        if (searchOptions.regex) {\n            var searchRegex = RegExp(searchTerm, 'g');\n            var foundTerm = searchRegex.exec(searchStringLine);\n            if (foundTerm && foundTerm[0].length > 0) {\n                searchIndex = searchRegex.lastIndex - foundTerm[0].length;\n                term = foundTerm[0];\n            }\n        }\n        else {\n            searchIndex = searchStringLine.indexOf(searchTerm);\n        }\n        if (searchIndex >= 0) {\n            if (searchIndex >= this._terminal.cols) {\n                y += Math.floor(searchIndex / this._terminal.cols);\n                searchIndex = searchIndex % this._terminal.cols;\n            }\n            if (searchOptions.wholeWord && !this._isWholeWord(searchIndex, searchStringLine, term)) {\n                return;\n            }\n            var line = this._terminal._core.buffer.lines.get(y);\n            for (var i = 0; i < searchIndex; i++) {\n                var charData = line.get(i);\n                var char = charData[1];\n                if (char.length > 1) {\n                    searchIndex -= char.length - 1;\n                }\n                var charWidth = charData[2];\n                if (charWidth === 0) {\n                    searchIndex++;\n                }\n            }\n            return {\n                term: term,\n                col: searchIndex,\n                row: y\n            };\n        }\n    };\n    SearchHelper.prototype.translateBufferLineToStringWithWrap = function (lineIndex, trimRight) {\n        var lineString = '';\n        var lineWrapsToNext;\n        do {\n            var nextLine = this._terminal._core.buffer.lines.get(lineIndex + 1);\n            lineWrapsToNext = nextLine ? nextLine.isWrapped : false;\n            lineString += this._terminal._core.buffer.translateBufferLineToString(lineIndex, !lineWrapsToNext && trimRight).substring(0, this._terminal.cols);\n            lineIndex++;\n        } while (lineWrapsToNext);\n        return lineString;\n    };\n    SearchHelper.prototype._selectResult = function (result) {\n        if (!result) {\n            this._terminal.clearSelection();\n            return false;\n        }\n        this._terminal._core.selectionManager.setSelection(result.col, result.row, result.term.length);\n        this._terminal.scrollLines(result.row - this._terminal._core.buffer.ydisp);\n        return true;\n    };\n    return SearchHelper;\n}());\nexports.SearchHelper = SearchHelper;\n//# sourceMappingURL=SearchHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_terminal, _callback) {\n        this._terminal = _terminal;\n        this._callback = _callback;\n        this._animationFrame = null;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd) {\n        var _this = this;\n        rowStart = rowStart !== null && rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== null && rowEnd !== undefined ? rowEnd : this._terminal.rows - 1;\n        var isRowStartSet = this._rowStart !== undefined && this._rowStart !== null;\n        var isRowEndSet = this._rowEnd !== undefined && this._rowEnd !== null;\n        this._rowStart = isRowStartSet ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = isRowEndSet ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._terminal.rows - 1);\n        this._callback(this._rowStart, this._rowEnd);\n        this._rowStart = null;\n        this._rowEnd = null;\n        this._animationFrame = null;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n//# sourceMappingURL=RenderDebouncer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = require(\"../../common/EventEmitter\");\nvar ColorManager_1 = require(\"../ColorManager\");\nvar RenderDebouncer_1 = require(\"../../ui/RenderDebouncer\");\nvar DomRendererRowFactory_1 = require(\"./DomRendererRowFactory\");\nvar Types_1 = require(\"../atlas/Types\");\nvar TERMINAL_CLASS_PREFIX = 'xterm-dom-renderer-owner-';\nvar ROW_CONTAINER_CLASS = 'xterm-rows';\nvar FG_CLASS_PREFIX = 'xterm-fg-';\nvar BG_CLASS_PREFIX = 'xterm-bg-';\nvar FOCUS_CLASS = 'xterm-focus';\nvar SELECTION_CLASS = 'xterm-selection';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, theme) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this.colorManager = new ColorManager_1.ColorManager(document, allowTransparency);\n        _this.setTheme(theme);\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = 'normal';\n        _this._rowContainer.setAttribute('aria-hidden', 'true');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement('div');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute('aria-hidden', 'true');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.on(\"linkhover\", function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.on(\"linkleave\", function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + \"px\";\n            element.style.height = _this.dimensions.actualCellHeight + \"px\";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + \"px\";\n            element.style.overflow = 'hidden';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" span {\" +\n            \" display: inline-block;\" +\n            \" height: 100%;\" +\n            \" vertical-align: top;\" +\n            (\" width: \" + this.dimensions.actualCellWidth + \"px\") +\n            \"}\";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    DomRenderer.prototype.setTheme = function (theme) {\n        var _this = this;\n        if (theme) {\n            this.colorManager.setTheme(theme);\n        }\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" {\" +\n            (\" color: \" + this.colorManager.colors.foreground.css + \";\") +\n            (\" background-color: \" + this.colorManager.colors.background.css + \";\") +\n            (\" font-family: \" + this._terminal.getOption('fontFamily') + \";\") +\n            (\" font-size: \" + this._terminal.getOption('fontSize') + \"px;\") +\n            \"}\";\n        styles +=\n            this._terminalSelector + \" span:not(.\" + DomRendererRowFactory_1.BOLD_CLASS + \") {\" +\n                (\" font-weight: \" + this._terminal.options.fontWeight + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.BOLD_CLASS + \" {\") +\n                (\" font-weight: \" + this._terminal.options.fontWeightBold + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.ITALIC_CLASS + \" {\") +\n                \" font-style: italic;\" +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \":not(.\" + FOCUS_CLASS + \") .\" + DomRendererRowFactory_1.CURSOR_CLASS + \" {\" +\n                (\" outline: 1px solid \" + this.colorManager.colors.cursor.css + \";\") +\n                \" outline-offset: -1px;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + \" {\") +\n                (\" background-color: \" + this.colorManager.colors.cursor.css + \";\") +\n                (\" color: \" + this.colorManager.colors.cursorAccent.css + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + \" {\") +\n                (\" box-shadow: 1px 0 0 \" + this.colorManager.colors.cursor.css + \" inset;\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + \" {\") +\n                (\" box-shadow: 0 -1px 0 \" + this.colorManager.colors.cursor.css + \" inset;\") +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + SELECTION_CLASS + \" {\" +\n                \" position: absolute;\" +\n                \" top: 0;\" +\n                \" left: 0;\" +\n                \" z-index: 1;\" +\n                \" pointer-events: none;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + SELECTION_CLASS + \" div {\") +\n                \" position: absolute;\" +\n                (\" background-color: \" + this.colorManager.colors.selection.css + \";\") +\n                \"}\";\n        this.colorManager.colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + \" .\" + FG_CLASS_PREFIX + i + \" { color: \" + c.css + \"; }\" +\n                    (_this._terminalSelector + \" .\" + BG_CLASS_PREFIX + i + \" { background-color: \" + c.css + \"; }\");\n        });\n        styles +=\n            this._terminalSelector + \" .\" + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { color: \" + this.colorManager.colors.background.css + \"; }\" +\n                (this._terminalSelector + \" .\" + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this.colorManager.colors.foreground.css + \"; }\");\n        this._themeStyleElement.innerHTML = styles;\n        return this.colorManager.colors;\n    };\n    DomRenderer.prototype.onWindowResize = function (devicePixelRatio) {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement('div');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement('div');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + \"px\";\n        element.style.top = row * this.dimensions.actualCellHeight + \"px\";\n        element.style.left = colStart * this.dimensions.actualCellWidth + \"px\";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + \"px\";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this.setTheme(undefined);\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = ''; });\n    };\n    DomRenderer.prototype.refreshRows = function (start, end) {\n        this._renderDebouncer.refresh(start, end);\n    };\n    DomRenderer.prototype._renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = '';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, this.dimensions.actualCellWidth, terminal.cols));\n        }\n        this._terminal.emit('refresh', { start: start, end: end });\n    };\n    Object.defineProperty(DomRenderer.prototype, \"_terminalSelector\", {\n        get: function () {\n            return \".\" + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            span.style.textDecoration = enabled ? 'underline' : 'none';\n            x = (x + 1) % cols;\n            if (x === 0) {\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(EventEmitter_1.EventEmitter));\nexports.DomRenderer = DomRenderer;\n//# sourceMappingURL=DomRenderer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar Lifecycle_2 = require(\"./Lifecycle\");\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n//# sourceMappingURL=MouseZoneManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = require(\"./common/CircularList\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar BufferLine_1 = require(\"./BufferLine\");\nvar Types_1 = require(\"./renderer/atlas/Types\");\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.MAX_BUFFER_SIZE = 4294967295;\nexports.NULL_CELL_CHAR = ' ';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 32;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.markers = [];\n        this.clear();\n    }\n    Buffer.prototype.setBufferLineFactory = function (type) {\n        if (type === 'JsArray') {\n            if (this._bufferLineConstructor !== BufferLine_1.BufferLineJSArray) {\n                this._bufferLineConstructor = BufferLine_1.BufferLineJSArray;\n                this._recreateLines();\n            }\n        }\n        else {\n            if (this._bufferLineConstructor !== BufferLine_1.BufferLine) {\n                this._bufferLineConstructor = BufferLine_1.BufferLine;\n                this._recreateLines();\n            }\n        }\n    };\n    Buffer.prototype._recreateLines = function () {\n        if (!this.lines)\n            return;\n        for (var i = 0; i < this.lines.length; ++i) {\n            var oldLine = this.lines.get(i);\n            var newLine = new this._bufferLineConstructor(oldLine.length);\n            for (var j = 0; j < oldLine.length; ++j) {\n                newLine.set(j, oldLine.get(j));\n            }\n            this.lines.set(i, newLine);\n        }\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        var fillCharData = [attr, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n        return new this._bufferLineConstructor(this._terminal.cols, fillCharData, isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._terminal.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._terminal.rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = exports.DEFAULT_ATTR;\n            }\n            var i = this._terminal.rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.setBufferLineFactory(this._terminal.options.experimentalBufferLineImpl);\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._terminal.rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._terminal.rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._terminal.cols < newCols) {\n                var ch = [exports.DEFAULT_ATTR, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, ch);\n                }\n            }\n            var addToY = 0;\n            if (this._terminal.rows < newRows) {\n                for (var y = this._terminal.rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            var fillCharData = [exports.DEFAULT_ATTR, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n                            this.lines.push(new this._bufferLineConstructor(newCols, fillCharData));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._terminal.rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex) {\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                [-1, -1];\n            }\n            for (var i = 0; i < line.length; ++i) {\n                stringIndex -= line.get(i)[exports.CHAR_DATA_CHAR_INDEX].length;\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = null; }\n        var lineString = '';\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        var startIndex = startCol;\n        if (endCol === null) {\n            endCol = line.length;\n        }\n        var endIndex = endCol;\n        for (var i = 0; i < line.length; i++) {\n            var char = line.get(i);\n            lineString += char[exports.CHAR_DATA_CHAR_INDEX];\n            if (char[exports.CHAR_DATA_WIDTH_INDEX] === 0) {\n                if (startCol >= i) {\n                    startIndex--;\n                }\n                if (endCol > i) {\n                    endIndex--;\n                }\n            }\n            else {\n                if (char[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    if (startCol > i) {\n                        startIndex += char[exports.CHAR_DATA_CHAR_INDEX].length - 1;\n                    }\n                    if (endCol > i) {\n                        endIndex += char[exports.CHAR_DATA_CHAR_INDEX].length - 1;\n                    }\n                }\n            }\n        }\n        if (trimRight) {\n            var rightWhitespaceIndex = lineString.search(/\\s+$/);\n            if (rightWhitespaceIndex !== -1) {\n                endIndex = Math.min(endIndex, rightWhitespaceIndex);\n            }\n            if (endIndex <= startIndex) {\n                return '';\n            }\n        }\n        return lineString.substring(startIndex, endIndex);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._terminal.cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._terminal.cols ? this._terminal.cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._terminal.cols)\n            ;\n        return x >= this._terminal.cols ? this._terminal.cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.addDisposableListener('trim', function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(marker.addDisposableListener('dispose', function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this.emit('dispose');\n        _super.prototype.dispose.call(this);\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(EventEmitter_1.EventEmitter));\nexports.Marker = Marker;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, (this._trimRight) ? i === range.last : false);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n//# sourceMappingURL=Buffer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n            node = null;\n            handler = null;\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n//# sourceMappingURL=Lifecycle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = require(\"./TextRenderLayer\");\nvar SelectionRenderLayer_1 = require(\"./SelectionRenderLayer\");\nvar CursorRenderLayer_1 = require(\"./CursorRenderLayer\");\nvar ColorManager_1 = require(\"./ColorManager\");\nvar LinkRenderLayer_1 = require(\"./LinkRenderLayer\");\nvar EventEmitter_1 = require(\"../common/EventEmitter\");\nvar RenderDebouncer_1 = require(\"../ui/RenderDebouncer\");\nvar ScreenDprMonitor_1 = require(\"../ui/ScreenDprMonitor\");\nvar CharacterJoinerRegistry_1 = require(\"../renderer/CharacterJoinerRegistry\");\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, theme) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this.colorManager = new ColorManager_1.ColorManager(document, allowTransparency);\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        if (theme) {\n            _this.colorManager.setTheme(theme);\n        }\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this.colorManager.colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this.colorManager.colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this.colorManager.colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this.colorManager.colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this.onWindowResize(window.devicePixelRatio); });\n        _this.register(_this._screenDprMonitor);\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this.onIntersectionChange(e[0]); }, { threshold: 0 });\n            observer_1.observe(_this._terminal.element);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n    };\n    Renderer.prototype.onWindowResize = function (devicePixelRatio) {\n        if (this._devicePixelRatio !== devicePixelRatio) {\n            this._devicePixelRatio = devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setTheme = function (theme) {\n        var _this = this;\n        this.colorManager.setTheme(theme);\n        this._renderLayers.forEach(function (l) {\n            l.onThemeChanged(_this._terminal, _this.colorManager.colors);\n            l.reset(_this._terminal);\n        });\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n        return this.colorManager.colors;\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n        this.emit('resize', {\n            width: this.dimensions.canvasWidth,\n            height: this.dimensions.canvasHeight\n        });\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this.colorManager.allowTransparency = this._terminal.options.allowTransparency;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._renderLayers.forEach(function (l) { return operation(l); });\n        }\n    };\n    Renderer.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end);\n    };\n    Renderer.prototype._renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n        this._terminal.emit('refresh', { start: start, end: end });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(EventEmitter_1.EventEmitter));\nexports.Renderer = Renderer;\n//# sourceMappingURL=Renderer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../../common/data/EscapeSequences\");\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n//# sourceMappingURL=Keyboard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar DynamicCharAtlas_1 = require(\"./DynamicCharAtlas\");\nvar NoneCharAtlas_1 = require(\"./NoneCharAtlas\");\nvar StaticCharAtlas_1 = require(\"./StaticCharAtlas\");\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n//# sourceMappingURL=CharAtlasCache.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n//# sourceMappingURL=SoundManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar ColorManager_1 = require(\"../ColorManager\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar LRUMap_1 = require(\"./LRUMap\");\nvar Platform_1 = require(\"../../core/Platform\");\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'top';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, 0);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n//# sourceMappingURL=DynamicCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Terminal_1 = require(\"../Terminal\");\nvar Strings = require(\"../Strings\");\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n    }\n    Object.defineProperty(Terminal.prototype, \"element\", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"textarea\", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"rows\", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"cols\", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Object.defineProperty(Terminal, \"strings\", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = require(\"../common/EventEmitter\");\nvar CharMeasure = (function (_super) {\n    __extends(CharMeasure, _super);\n    function CharMeasure(document, parentElement) {\n        var _this = _super.call(this) || this;\n        _this._document = document;\n        _this._parentElement = parentElement;\n        _this._measureElement = _this._document.createElement('span');\n        _this._measureElement.classList.add('xterm-char-measure-element');\n        _this._measureElement.textContent = 'W';\n        _this._measureElement.setAttribute('aria-hidden', 'true');\n        _this._parentElement.appendChild(_this._measureElement);\n        return _this;\n    }\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        if (this._width !== geometry.width || this._height !== geometry.height) {\n            this._width = geometry.width;\n            this._height = Math.ceil(geometry.height);\n            this.emit('charsizechanged');\n        }\n    };\n    return CharMeasure;\n}(EventEmitter_1.EventEmitter));\nexports.CharMeasure = CharMeasure;\n//# sourceMappingURL=CharMeasure.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, textarea) {\n    textarea.style.position = 'fixed';\n    textarea.style.width = '20px';\n    textarea.style.height = '20px';\n    textarea.style.left = (ev.clientX - 10) + 'px';\n    textarea.style.top = (ev.clientY - 10) + 'px';\n    textarea.style.zIndex = '1000';\n    textarea.focus();\n    setTimeout(function () {\n        textarea.style.position = null;\n        textarea.style.width = null;\n        textarea.style.height = null;\n        textarea.style.left = null;\n        textarea.style.top = null;\n        textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, textarea, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, textarea);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    textarea.value = selectionManager.selectionText;\n    textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n//# sourceMappingURL=Clipboard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SearchHelper_1 = require(\"./SearchHelper\");\nfunction findNext(terminal, term, searchOptions) {\n    if (searchOptions === void 0) { searchOptions = {}; }\n    var addonTerminal = terminal;\n    if (!addonTerminal.__searchHelper) {\n        addonTerminal.__searchHelper = new SearchHelper_1.SearchHelper(addonTerminal);\n    }\n    return addonTerminal.__searchHelper.findNext(term, searchOptions);\n}\nexports.findNext = findNext;\nfunction findPrevious(terminal, term, searchOptions) {\n    var addonTerminal = terminal;\n    if (!addonTerminal.__searchHelper) {\n        addonTerminal.__searchHelper = new SearchHelper_1.SearchHelper(addonTerminal);\n    }\n    return addonTerminal.__searchHelper.findPrevious(term, searchOptions);\n}\nexports.findPrevious = findPrevious;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.findNext = function (term, searchOptions) {\n        return findNext(this, term, searchOptions);\n    };\n    terminalConstructor.prototype.findPrevious = function (term, searchOptions) {\n        return findPrevious(this, term, searchOptions);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=search.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n//# sourceMappingURL=Platform.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\n//# sourceMappingURL=TypedArrayUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n//# sourceMappingURL=EscapeSequences.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n//# sourceMappingURL=NoneCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n//# sourceMappingURL=BaseCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n//# sourceMappingURL=Strings.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./Lifecycle\");\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = require(\"./utils/MouseHelper\");\nvar Browser = require(\"./core/Platform\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar SelectionModel_1 = require(\"./SelectionModel\");\nvar Buffer_1 = require(\"./Buffer\");\nvar AltClickHandler_1 = require(\"./handlers/AltClickHandler\");\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function (_super) {\n    __extends(SelectionManager, _super);\n    function SelectionManager(_terminal, _charMeasure) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._charMeasure = _charMeasure;\n        _this._enabled = true;\n        _this._initListeners();\n        _this.enable();\n        _this._model = new SelectionModel_1.SelectionModel(_terminal);\n        _this._activeSelectionMode = 0;\n        return _this;\n    }\n    SelectionManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this._trimListener = function (amount) { return _this._onTrim(amount); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._terminal.buffer.lines.on('trim', this._trimListener);\n        this._terminal.buffers.on('activate', function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : null;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n    };\n    SelectionManager.prototype.refresh = function (isNewSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isNewSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this.emit('newselection', this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this.emit('refresh', {\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._terminal.emit('selection');\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._terminal.emit('selection');\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        var char = line.get(this._model.selectionStart[0]);\n        if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            var char = this._buffer.lines.get(this._model.selectionEnd[1]).get(this._model.selectionEnd[0]);\n            if (char && char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._terminal.emit('selection');\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        this.clearSelection();\n        e.inactiveBuffer.lines.off('trim', this._trimListener);\n        e.activeBuffer.lines.on('trim', this._trimListener);\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var char = bufferLine.get(i);\n            if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                charIndex--;\n            }\n            else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1 && coords[0] !== i) {\n                charIndex += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.get(startCol)[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.get(endCol)[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            if (bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                rightLongCharOffset += bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                endIndex += bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.get(startCol - 1))) {\n                var char = bufferLine.get(startCol - 1);\n                if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    leftLongCharOffset += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                    startIndex -= char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.get(endCol + 1))) {\n                var char = bufferLine.get(endCol + 1);\n                if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    rightLongCharOffset += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                    endIndex += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.get(0)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.get(this._terminal.cols - 1)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.get(this._terminal.cols - 1)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.get(0)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (charData) {\n        if (charData[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(charData[Buffer_1.CHAR_DATA_CHAR_INDEX]) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}(EventEmitter_1.EventEmitter));\nexports.SelectionManager = SelectionManager;\n//# sourceMappingURL=SelectionManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_1.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_1.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_1.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n//# sourceMappingURL=StaticCharAtlas.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../Buffer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar GridCache_1 = require(\"./GridCache\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                var charData = line.get(x);\n                var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n                var chars = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n                var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX];\n                var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n                var isJoined = false;\n                var lastCharX = x;\n                if (width === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    chars = terminal.buffer.translateBufferLineToString(row, true, range[0], range[1]);\n                    width = range[1] - range[0];\n                    code = Infinity;\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(charData)) {\n                    if (lastCharX < line.length - 1 && line.get(lastCharX + 1)[Buffer_1.CHAR_DATA_CODE_INDEX] === Buffer_1.NULL_CELL_CODE) {\n                        width = 2;\n                    }\n                }\n                var flags = attr >> 18;\n                var bg = attr & 0x1ff;\n                var fg = (attr >> 9) & 0x1ff;\n                if (flags & 8) {\n                    var temp = bg;\n                    bg = fg;\n                    fg = temp;\n                    if (fg === Types_1.DEFAULT_COLOR) {\n                        fg = Types_1.INVERTED_DEFAULT_COLOR;\n                    }\n                    if (bg === Types_1.DEFAULT_COLOR) {\n                        bg = Types_1.INVERTED_DEFAULT_COLOR;\n                    }\n                }\n                callback(code, chars, width, x, y, fg, bg, flags);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (code, chars, width, x, y, fg, bg, flags) {\n            var nextFillStyle = null;\n            if (bg === Types_1.INVERTED_DEFAULT_COLOR) {\n                nextFillStyle = _this._colors.foreground.css;\n            }\n            else if (CharAtlasUtils_1.is256Color(bg)) {\n                nextFillStyle = _this._colors.ansi[bg].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (code, chars, width, x, y, fg, bg, flags) {\n            if (flags & 16) {\n                return;\n            }\n            if (flags & 2) {\n                _this._ctx.save();\n                if (fg === Types_1.INVERTED_DEFAULT_COLOR) {\n                    _this._ctx.fillStyle = _this._colors.background.css;\n                }\n                else if (CharAtlasUtils_1.is256Color(fg)) {\n                    _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                }\n                else {\n                    _this._ctx.fillStyle = _this._colors.foreground.css;\n                }\n                _this.fillBottomLineAtCells(x, y, width);\n                _this._ctx.restore();\n            }\n            _this.drawChars(terminal, chars, code, width, x, y, fg, bg, !!(flags & 1), !!(flags & 32), !!(flags & 64));\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (charData) {\n        if (charData[Buffer_1.CHAR_DATA_WIDTH_INDEX] !== 1) {\n            return false;\n        }\n        var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n        if (code < 256) {\n            return false;\n        }\n        var char = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n        if (this._characterOverlapCache.hasOwnProperty(char)) {\n            return this._characterOverlapCache[char];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(char).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[char] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n//# sourceMappingURL=TextRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n//# sourceMappingURL=CharAtlasUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderer) {\n        this._renderer = _renderer;\n    }\n    MouseHelper.prototype.setRenderer = function (renderer) {\n        this._renderer = renderer;\n    };\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        if (event.pageX === null || event.pageX === undefined) {\n            return null;\n        }\n        var originalElement = element;\n        var x = event.pageX;\n        var y = event.pageY;\n        while (element) {\n            x -= element.offsetLeft;\n            y -= element.offsetTop;\n            element = element.offsetParent;\n        }\n        element = originalElement;\n        while (element && element !== element.ownerDocument.body) {\n            x += element.scrollLeft;\n            y += element.scrollTop;\n            element = element.parentElement;\n        }\n        return [x, y];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderer.dimensions.actualCellWidth / 2 : 0)) / this._renderer.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderer.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n//# sourceMappingURL=MouseHelper.js.map","import {post} from '../lib/fetch.js'\r\n\r\nexport function FileOrDirUpload(data, params, headers) {\r\n    return post('/k8s/upload', data, params, headers)\r\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar protocolClause = '(https?:\\\\/\\\\/)';\nvar domainCharacterSet = '[\\\\da-z\\\\.-]+';\nvar negatedDomainCharacterSet = '[^\\\\da-z\\\\.-]+';\nvar domainBodyClause = '(' + domainCharacterSet + ')';\nvar tldClause = '([a-z\\\\.]{2,6})';\nvar ipClause = '((\\\\d{1,3}\\\\.){3}\\\\d{1,3})';\nvar localHostClause = '(localhost)';\nvar portClause = '(:\\\\d{1,5})';\nvar hostClause = '((' + domainBodyClause + '\\\\.' + tldClause + ')|' + ipClause + '|' + localHostClause + ')' + portClause + '?';\nvar pathClause = '(\\\\/[\\\\/\\\\w\\\\.\\\\-%~:]*)*([^:\\\\s])';\nvar queryStringHashFragmentCharacterSet = '[0-9\\\\w\\\\[\\\\]\\\\(\\\\)\\\\/\\\\?\\\\!#@$%&\\'*+,:;~\\\\=\\\\.\\\\-]*';\nvar queryStringClause = '(\\\\?' + queryStringHashFragmentCharacterSet + ')?';\nvar hashFragmentClause = '(#' + queryStringHashFragmentCharacterSet + ')?';\nvar negatedPathCharacterSet = '[^\\\\/\\\\w\\\\.\\\\-%]+';\nvar bodyClause = hostClause + pathClause + queryStringClause + hashFragmentClause;\nvar start = '(?:^|' + negatedDomainCharacterSet + ')(';\nvar end = ')($|' + negatedPathCharacterSet + ')';\nvar strictUrlRegex = new RegExp(start + protocolClause + bodyClause + end);\nfunction handleLink(event, uri) {\n    window.open(uri, '_blank');\n}\nfunction webLinksInit(term, handler, options) {\n    if (handler === void 0) { handler = handleLink; }\n    if (options === void 0) { options = {}; }\n    options.matchIndex = 1;\n    term.registerLinkMatcher(strictUrlRegex, handler, options);\n}\nexports.webLinksInit = webLinksInit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.webLinksInit = function (handler, options) {\n        webLinksInit(this, handler, options);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=webLinks.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"../Buffer\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        var charData = terminal.buffer.lines.get(cursorY).get(terminal.buffer.x);\n        if (!charData) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, charData);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === charData[Buffer_1.CHAR_DATA_WIDTH_INDEX]) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, charData);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, charData[Buffer_1.CHAR_DATA_WIDTH_INDEX], 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, charData, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, charData[Buffer_1.CHAR_DATA_WIDTH_INDEX], 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n//# sourceMappingURL=CursorRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = require(\"../../core/Platform\");\nvar Types_1 = require(\"./Types\");\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'top';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, 0);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n//# sourceMappingURL=CharAtlasGenerator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropogation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropogation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n//# sourceMappingURL=CompositionHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n//# sourceMappingURL=CharWidth.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': '£'\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '£',\n    '@': '¾',\n    '[': 'ij',\n    '\\\\': '½',\n    ']': '|',\n    '{': '¨',\n    '|': 'f',\n    '}': '¼',\n    '~': '´'\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['R'] = {\n    '#': '£',\n    '@': 'à',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': '§',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': '¨'\n};\nexports.CHARSETS['Q'] = {\n    '@': 'à',\n    '[': 'â',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '`': 'ô',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': 'û'\n};\nexports.CHARSETS['K'] = {\n    '@': '§',\n    '[': 'Ä',\n    '\\\\': 'Ö',\n    ']': 'Ü',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'ß'\n};\nexports.CHARSETS['Y'] = {\n    '#': '£',\n    '@': '§',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': 'é',\n    '`': 'ù',\n    '{': 'à',\n    '|': 'ò',\n    '}': 'è',\n    '~': 'ì'\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': 'Ä',\n        '[': 'Æ',\n        '\\\\': 'Ø',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'ä',\n        '{': 'æ',\n        '|': 'ø',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['Z'] = {\n    '#': '£',\n    '@': '§',\n    '[': '¡',\n    '\\\\': 'Ñ',\n    ']': '¿',\n    '{': '°',\n    '|': 'ñ',\n    '}': 'ç'\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': 'É',\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['='] = {\n    '#': 'ù',\n    '@': 'à',\n    '[': 'é',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '_': 'è',\n    '`': 'ô',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'û'\n};\n//# sourceMappingURL=Charsets.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = require(\"./BufferSet\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CompositionHelper_1 = require(\"./CompositionHelper\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Viewport_1 = require(\"./Viewport\");\nvar Clipboard_1 = require(\"./ui/Clipboard\");\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar InputHandler_1 = require(\"./InputHandler\");\nvar Renderer_1 = require(\"./renderer/Renderer\");\nvar Linkifier_1 = require(\"./Linkifier\");\nvar SelectionManager_1 = require(\"./SelectionManager\");\nvar CharMeasure_1 = require(\"./ui/CharMeasure\");\nvar Browser = require(\"./core/Platform\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Strings = require(\"./Strings\");\nvar MouseHelper_1 = require(\"./utils/MouseHelper\");\nvar Clone_1 = require(\"./utils/Clone\");\nvar SoundManager_1 = require(\"./SoundManager\");\nvar ColorManager_1 = require(\"./renderer/ColorManager\");\nvar MouseZoneManager_1 = require(\"./ui/MouseZoneManager\");\nvar AccessibilityManager_1 = require(\"./AccessibilityManager\");\nvar ScreenDprMonitor_1 = require(\"./ui/ScreenDprMonitor\");\nvar CharAtlasCache_1 = require(\"./renderer/atlas/CharAtlasCache\");\nvar DomRenderer_1 = require(\"./renderer/dom/DomRenderer\");\nvar Keyboard_1 = require(\"./core/input/Keyboard\");\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_BATCH_SIZE = 300;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: null,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    experimentalBufferLineImpl: 'TypedArray'\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        return _this;\n    }\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = this.options.cols;\n        this.rows = this.options.rows;\n        if (this.options.handler) {\n            this.on('data', this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttr = Buffer_1.DEFAULT_ATTR;\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this.register(this._inputHandler);\n        this.renderer = this.renderer || null;\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttr = function () {\n        return (Buffer_1.DEFAULT_ATTR & ~0x1ff) | (this.curAttr & 0x1ff);\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus();\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                if (this.renderer) {\n                    this._setTheme(value);\n                    return;\n                }\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this.renderer) {\n                    this.renderer.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this.renderer) {\n                    this.renderer.clear();\n                    this.renderer.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n            case 'rendererType':\n                if (this.renderer) {\n                    this.unregister(this.renderer);\n                    this.renderer.dispose();\n                    this.renderer = null;\n                }\n                this._setupRenderer();\n                this.renderer.onCharSizeChanged();\n                if (this._theme) {\n                    this.renderer.setTheme(this._theme);\n                }\n                this.mouseHelper.setRenderer(this.renderer);\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'experimentalBufferLineImpl':\n                this.buffers.normal.setBufferLineFactory(value);\n                this.buffers.alt.setBufferLineFactory(value);\n                this._blankLine = null;\n                break;\n        }\n        if (this.renderer) {\n            this.renderer.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this.textarea, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this.textarea, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this.textarea);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.addDisposableListener('refresh', function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.addDisposableListener('refresh', function (data) { return _this._queueLinkification(data.start, data.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        this._screenDprMonitor.setListener(function () { return _this.emit('dprchange', window.devicePixelRatio); });\n        this.register(this._screenDprMonitor);\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.addDisposableListener('scroll', function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._setupRenderer();\n        this._theme = this.options.theme;\n        this.options.theme = null;\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure);\n        this.viewport.onThemeChanged(this.renderer.colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.addDisposableListener('cursormove', function () { return _this.renderer.onCursorMove(); }));\n        this.register(this.addDisposableListener('resize', function () { return _this.renderer.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this.renderer.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this.renderer.onFocus(); }));\n        this.register(this.addDisposableListener('dprchange', function () { return _this.renderer.onWindowResize(window.devicePixelRatio); }));\n        this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this.renderer.onWindowResize(window.devicePixelRatio); }));\n        this.register(this.charMeasure.addDisposableListener('charsizechanged', function () { return _this.renderer.onCharSizeChanged(); }));\n        this.register(this.renderer.addDisposableListener('resize', function (dimensions) { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.addDisposableListener('refresh', function (data) { return _this.renderer.onSelectionChanged(data.start, data.end, data.columnSelectMode); }));\n        this.register(this.selectionManager.addDisposableListener('newselection', function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.addDisposableListener('scroll', function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this.renderer);\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this);\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._setupRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                this.renderer = new Renderer_1.Renderer(this, this.options.theme);\n                break;\n            case 'dom':\n                this.renderer = new DomRenderer_1.DomRenderer(this, this.options.theme);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n        this.register(this.renderer);\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        var colors = this.renderer.setTheme(theme);\n        if (this.viewport) {\n            this.viewport.onThemeChanged(colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch === 2047) {\n                    data.push(0);\n                    return;\n                }\n                if (ch < 127) {\n                    data.push(ch);\n                }\n                else {\n                    if (ch > 2047)\n                        ch = 2047;\n                    data.push(0xC0 | (ch >> 6));\n                    data.push(0x80 | (ch & 0x3F));\n                }\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this.renderer) {\n            this.renderer.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        var useRecycling = this.options.experimentalBufferLineImpl !== 'JsArray';\n        if (useRecycling) {\n            newLine = this._blankLine;\n            if (!newLine || newLine.length !== this.cols || newLine.get(0)[Buffer_1.CHAR_DATA_ATTR_INDEX] !== this.eraseAttr()) {\n                newLine = this.buffer.getBlankLine(this.eraseAttr(), isWrapped);\n                this._blankLine = newLine;\n            }\n            newLine.isWrapped = isWrapped;\n        }\n        else {\n            newLine = this.buffer.getBlankLine(this.eraseAttr(), isWrapped);\n        }\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (useRecycling) {\n                    if (willBufferBeTrimmed) {\n                        this.buffer.lines.recycle().copyFrom(newLine);\n                    }\n                    else {\n                        this.buffer.lines.push(newLine.clone());\n                    }\n                }\n                else {\n                    this.buffer.lines.push(newLine);\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, (useRecycling) ? newLine.clone() : newLine);\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, (useRecycling) ? newLine.clone() : newLine);\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this.emit('scroll', this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this.emit('scroll', this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function () {\n        var _this = this;\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var writeBatch = this.writeBuffer.splice(0, WRITE_BATCH_SIZE);\n        while (writeBatch.length > 0) {\n            var data = writeBatch.shift();\n            if (this._xoffSentToCatchUp && writeBatch.length === 0 && this.writeBuffer.length === 0) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n        }\n        if (this.writeBuffer.length > 0) {\n            setTimeout(function () { return _this._innerWrite(); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this.renderer.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this.renderer.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this.emit('key', result.key, event);\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this.emit('key', key, ev);\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < 1)\n            x = 1;\n        if (y < 1)\n            y = 1;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this.emit('resize', { cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n        }\n        this.refresh(0, this.rows - 1);\n        this.emit('scroll', this.buffer.ydisp);\n    };\n    Terminal.prototype.ch = function (cur) {\n        if (cur) {\n            return [this.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        return [Buffer_1.DEFAULT_ATTR, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this.emit('data', data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this.emit('title', title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttr()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype.matchColor = function (r1, g1, b1) {\n        var hash = (r1 << 16) | (g1 << 8) | b1;\n        if (matchColorCache[hash] !== null && matchColorCache[hash] !== undefined) {\n            return matchColorCache[hash];\n        }\n        var ldiff = Infinity;\n        var li = -1;\n        var i = 0;\n        var c;\n        var r2;\n        var g2;\n        var b2;\n        var diff;\n        for (; i < ColorManager_1.DEFAULT_ANSI_COLORS.length; i++) {\n            c = ColorManager_1.DEFAULT_ANSI_COLORS[i].rgba;\n            r2 = c >>> 24;\n            g2 = c >>> 16 & 0xFF;\n            b2 = c >>> 8 & 0xFF;\n            diff = matchColorDistance(r1, g1, b1, r2, g2, b2);\n            if (diff === 0) {\n                li = i;\n                break;\n            }\n            if (diff < ldiff) {\n                ldiff = diff;\n                li = i;\n            }\n        }\n        return matchColorCache[hash] = li;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\nvar matchColorCache = {};\nfunction matchColorDistance(r1, g1, b1, r2, g2, b2) {\n    return Math.pow(30 * (r1 - r2), 2)\n        + Math.pow(59 * (g1 - g2), 2)\n        + Math.pow(11 * (b1 - b2), 2);\n}\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../common/data/EscapeSequences\");\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return '';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence(\"D\"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === \"C\").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === \"A\" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return \"C\";\n        }\n        return \"D\";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return \"A\";\n        }\n        return \"B\";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = '';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? 'O' : '[';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = '';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n//# sourceMappingURL=AltClickHandler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar DEFAULT_TRANSITION = 1 << 4 | 0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code < 160; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._csiHandlers = null;\n        this._escHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = callback;\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        var l = data.length;\n        for (var i = 0; i < l; ++i) {\n            code = data.charCodeAt(i);\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < l && data.charCodeAt(i) > 0x1f && data.charCodeAt(i) < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = (code < 0xa0) ? (table[currentState << 8 | code]) : DEFAULT_TRANSITION;\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 8:\n                                osc += String.fromCharCode(code);\n                                transition |= 8;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    callback = this._csiHandlers[code];\n                    if (callback)\n                        callback(params, collect);\n                    else\n                        this._csiHandlerFb(collect, params, code);\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    osc += data.charAt(i);\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            callback = this._oscHandlers[identifier];\n                            if (callback)\n                                callback(content);\n                            else\n                                this._oscHandlerFb(identifier, content);\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, data.length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, data.length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n//# sourceMappingURL=EscapeSequenceParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n//# sourceMappingURL=LRUMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = require(\"./ui/MouseZoneManager\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar Linkifier = (function (_super) {\n    __extends(Linkifier, _super);\n    function Linkifier(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._linkMatchers = [];\n        _this._nextLinkMatcherId = 0;\n        _this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n        return _this;\n    }\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var char = line.get(bufferIndex[1]);\n            var fg;\n            if (char) {\n                var attr = char[Buffer_1.CHAR_DATA_ATTR_INDEX];\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function (e) {\n            _this.emit(\"linkhover\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this.emit(\"linktooltip\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this.emit(\"linkleave\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}(EventEmitter_1.EventEmitter));\nexports.Linkifier = Linkifier;\n//# sourceMappingURL=Linkifier.js.map","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=style&index=0&lang=css&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction proposeGeometry(term) {\n    if (!term.element.parentElement) {\n        return null;\n    }\n    var parentElementStyle = window.getComputedStyle(term.element.parentElement);\n    var parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    var parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    var elementStyle = window.getComputedStyle(term.element);\n    var elementPadding = {\n        top: parseInt(elementStyle.getPropertyValue('padding-top')),\n        bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n        right: parseInt(elementStyle.getPropertyValue('padding-right')),\n        left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    var elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    var elementPaddingHor = elementPadding.right + elementPadding.left;\n    var availableHeight = parentElementHeight - elementPaddingVer;\n    var availableWidth = parentElementWidth - elementPaddingHor - term._core.viewport.scrollBarWidth;\n    var geometry = {\n        cols: Math.floor(availableWidth / term._core.renderer.dimensions.actualCellWidth),\n        rows: Math.floor(availableHeight / term._core.renderer.dimensions.actualCellHeight)\n    };\n    return geometry;\n}\nexports.proposeGeometry = proposeGeometry;\nfunction fit(term) {\n    var geometry = proposeGeometry(term);\n    if (geometry) {\n        if (term.rows !== geometry.rows || term.cols !== geometry.cols) {\n            term._core.renderer.clear();\n            term.resize(geometry.cols, geometry.rows);\n        }\n    }\n}\nexports.fit = fit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.proposeGeometry = function () {\n        return proposeGeometry(this);\n    };\n    terminalConstructor.prototype.fit = function () {\n        fit(this);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=fit.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_select_namespace')},on:{\"change\":_vm.selectedNamespace},nativeOn:{\"click\":function($event){return _vm.getNamespace($event)}},model:{value:(_vm.namespace),callback:function ($$v) {_vm.namespace=$$v},expression:\"namespace\"}},_vm._l((_vm.namespaces),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":_vm.$t('please_select_deployment'),\"filterable\":\"\",\"multiple\":\"\"},on:{\"change\":_vm.selecteddeployment},model:{value:(_vm.deployment),callback:function ($$v) {_vm.deployment=$$v},expression:\"deployment\"}},[_c('el-option',{attrs:{\"label\":_vm.$t('check_all'),\"value\":\"all\"}}),_vm._l((_vm.deployments),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})],2),_vm._v(\" \"),_c('el-button',{nativeOn:{\"click\":function($event){return _vm.getStatus($event)}}},[_vm._v(_vm._s(_vm.$t('enter')))]),_c('br'),_c('el-table',{staticClass:\"app-table\",attrs:{\"size\":\"medium\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"Pods\",\"label\":_vm.$t('name')}}),_c('el-table-column',{attrs:{\"prop\":\"Container\",\"label\":_vm.$t('container')}}),_c('el-table-column',{attrs:{\"prop\":\"Image\",\"label\":_vm.$t('image')}}),_c('el-table-column',{attrs:{\"prop\":\"Tag\",\"label\":_vm.$t('tag')}}),_c('el-table-column',{attrs:{\"prop\":\"ImagePullSecrets\",\"label\":_vm.$t('image_pull_secrets')}}),_c('el-table-column',{attrs:{\"prop\":\"State\",\"label\":_vm.$t('state')}}),_c('el-table-column',{attrs:{\"prop\":\"CPU\",\"label\":_vm.$t('cpu')}}),_c('el-table-column',{attrs:{\"prop\":\"RAM\",\"label\":_vm.$t('ram')}}),_c('el-table-column',{attrs:{\"prop\":\"OS\",\"label\":_vm.$t('os')}}),_c('el-table-column',{attrs:{\"prop\":\"Operate\",\"label\":_vm.$t('operate'),\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.OS==='unix')?_c('el-button',{staticClass:\"el-icon-s-fold\",nativeOn:{\"click\":function($event){return _vm.openTerminal(scope.row, 'sh')}}},[_vm._v(_vm._s(_vm.$t('sh')))]):_vm._e(),(scope.row.OS==='windows')?_c('el-button',{staticClass:\"el-icon-s-fold\",nativeOn:{\"click\":function($event){return _vm.openTerminal(scope.row, 'cmd')}}},[_vm._v(_vm._s(_vm.$t('cmd')))]):_vm._e(),_c('span'),_c('el-button',{staticClass:\"el-icon-files\",nativeOn:{\"click\":function($event){return _vm.openFileBrowser(scope.row, '/')}}},[_vm._v(_vm._s(_vm.$t('file_browser')))])]}}])})],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogTerminalVisible,\"title\":_vm.$t('terminal'),\"center\":\"\",\"fullscreen\":\"\",\"modal\":false,\"destroy-on-close\":true},on:{\"update:visible\":function($event){_vm.dialogTerminalVisible=$event},\"opened\":_vm.doOpened,\"close\":_vm.doClose}},[_c('div',{staticStyle:{\"margin-top\":\"-25px\"}},[_c('div',{ref:\"terminal\"})])]),_c('el-dialog',{attrs:{\"center\":\"\",\"fullscreen\":\"\",\"title\":_vm.$t('file_browser'),\"visible\":_vm.dialogFileBrowserVisible},on:{\"update:visible\":function($event){_vm.dialogFileBrowserVisible=$event},\"close\":function($event){_vm.dialogFileBrowserVisible = false}}},[_c('div',{staticStyle:{\"margin-top\":\"-25px\"}},[_c('el-table-header',{attrs:{\"store\":\"\"}},[_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"success\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-upload\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_file'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"true\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, _vm.globalPath)}}})])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_dir'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"webkitdirectory\":\"\",\"mozdirectory\":\"\",\"accept\":\"*/*\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, _vm.globalPath)}}})])])],1)],1),_c('el-dropdown',{staticClass:\"el-upload avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"primary\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-download\",staticStyle:{\"width\":\"120px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('bulk_download'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.bulkDownload(_vm.bulkPath, 'tar')}}},[_vm._v(\"TAR\"+_vm._s(_vm.$t('download')))])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.bulkDownload(_vm.bulkPath, 'zip')}}},[_vm._v(\"ZIP\"+_vm._s(_vm.$t('download')))])])],1)],1),_c('ul',_vm._l((_vm.headerPaths),function(item){return _c('li',{staticStyle:{\"float\":\"left\",\"margin-top\":\"10px\",\"list-style\":\"none\"}},[_c('a',{staticClass:\"el-icon-folder-opened\",staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"16px\"},on:{\"click\":function($event){return _vm.openFileBrowser(null, item.path)}}},[_vm._v(_vm._s(item.name))])])}),0),_vm._v(\" \"),_c('span',{staticStyle:{\"float\":\"left\"}},[_c('el-button',{staticStyle:{\"padding\":\"3px\",\"margin-top\":\"8px\"},attrs:{\"type\":\"info\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.openFileBrowser(null, _vm.path)}}})],1)],1),_c('el-table',{staticClass:\"app-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"tableData\",\"height\":\"100%\",\"border\":\"\",\"size\":\"100%\",\"cell-style\":{padding:'6px 0'},\"data\":_vm.fileBrowserData,\"default-sort\":{prop: 'Name', order: 'ascending'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_c('el-table-column',{attrs:{\"min-width\":\"80px\",\"prop\":\"Name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.IsDir)?_c('span',{staticClass:\"el-icon-folder\",on:{\"click\":function($event){return _vm.openFileBrowser(null, scope.row.Path)}}},[_vm._v(\" \"+_vm._s(scope.row.Name))]):_c('span',{staticClass:\"el-icon-files\"},[_vm._v(\" \"+_vm._s(scope.row.Name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"Size\",\"width\":\"100px\",\"label\":_vm.$t('size'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"Mode\",\"width\":\"100px\",\"label\":_vm.$t('mode')}}),_c('el-table-column',{attrs:{\"prop\":\"ModTime\",\"label\":_vm.$t('mod_time'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"Download\",\"label\":_vm.$t('operate'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.IsDir)?_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"success\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-upload\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_file'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"true\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, scope.row.Path)}}})])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_dir'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"webkitdirectory\":\"\",\"mozdirectory\":\"\",\"accept\":\"*/*\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, scope.row.Path)}}})])])],1)],1):_vm._e(),_c('span'),_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"primary\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-download\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('download'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.download(scope.row.Path, 'tar')}}},[_vm._v(\"TAR\"+_vm._s(_vm.$t('download')))])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.download(scope.row.Path, 'zip')}}},[_vm._v(\"ZIP\"+_vm._s(_vm.$t('download')))])])],1)],1)]}}])})],1),_c('el-table-footer',{attrs:{\"store\":\"\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {get} from '../lib/fetch.js'\r\n\r\nexport function GetStatus(params) {\r\n    return get('/k8s/status', params)\r\n}","import {get} from '../lib/fetch.js'\r\n\r\nexport function GetDeployment(params) {\r\n    return get('/k8s/deployment', params)\r\n}","import {get} from '../lib/fetch.js'\r\n\r\nexport function FileBrowser(params) {\r\n    return get('/k8s/file_browser', params)\r\n}","<template>\r\n  <div>\r\n    <el-card shadow=\"never\">\r\n        <el-select v-model=\"namespace\" @click.native=\"getNamespace\" @change=\"selectedNamespace\" filterable :placeholder=\"$t('please_select_namespace')\">\r\n          <el-option\r\n              v-for=\"item in namespaces\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n              :key=\"item\"\r\n          ></el-option>\r\n        </el-select>\r\n        &nbsp;&nbsp;\r\n        <el-select :placeholder=\"$t('please_select_deployment')\" filterable multiple v-model=\"deployment\" @change=\"selecteddeployment\">\r\n          <el-option :label=\"$t('check_all')\" value=\"all\"></el-option>\r\n          <el-option v-for=\"item in deployments\" :label=\"item.label\" :value=\"item.value\" :key=\"item.value\"></el-option>\r\n        </el-select>\r\n        &nbsp;&nbsp;\r\n        <el-button @click.native=\"getStatus\">{{ $t('enter') }}</el-button>\r\n        <br>\r\n        <el-table\r\n                class=\"app-table\"\r\n                size=\"medium\"\r\n                :data=\"tableData\">\r\n            <el-table-column prop=\"Pods\" :label=\"$t('name')\"></el-table-column>\r\n            <el-table-column prop=\"Container\" :label=\"$t('container')\"></el-table-column>\r\n            <el-table-column prop=\"Image\" :label=\"$t('image')\"></el-table-column>\r\n            <el-table-column prop=\"Tag\" :label=\"$t('tag')\"></el-table-column>\r\n            <el-table-column prop=\"ImagePullSecrets\" :label=\"$t('image_pull_secrets')\"></el-table-column>\r\n            <el-table-column prop=\"State\" :label=\"$t('state')\"></el-table-column>\r\n            <el-table-column prop=\"CPU\" :label=\"$t('cpu')\"></el-table-column>\r\n            <el-table-column prop=\"RAM\" :label=\"$t('ram')\"></el-table-column>\r\n            <el-table-column prop=\"OS\" :label=\"$t('os')\"></el-table-column>\r\n            <el-table-column prop=\"Operate\" :label=\"$t('operate')\" width=\"160\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button class=\"el-icon-s-fold\" v-if=\"scope.row.OS==='unix'\" @click.native=\"openTerminal(scope.row, 'sh')\">{{ $t('sh') }}</el-button>\r\n                <el-button class=\"el-icon-s-fold\" v-if=\"scope.row.OS==='windows'\" @click.native=\"openTerminal(scope.row, 'cmd')\">{{ $t('cmd') }}</el-button>\r\n                <span></span>\r\n                <el-button class=\"el-icon-files\" @click.native=\"openFileBrowser(scope.row, '/')\">{{ $t('file_browser') }}</el-button>\r\n              </template>\r\n          </el-table-column>\r\n        </el-table>\r\n    </el-card>\r\n    <el-dialog\r\n        :visible.sync=\"dialogTerminalVisible\"\r\n        :title=\"$t('terminal')\"\r\n        center\r\n        fullscreen\r\n        :modal=\"false\"\r\n        :destroy-on-close=\"true\"\r\n        @opened=\"doOpened\"\r\n        @close=\"doClose\"\r\n    >\r\n      <div style=\"margin-top: -25px;\">\r\n        <div ref=\"terminal\" />\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog\r\n        center\r\n        fullscreen\r\n        :title=\"$t('file_browser')\"\r\n        :visible.sync=\"dialogFileBrowserVisible\"\r\n        @close=\"dialogFileBrowserVisible = false\">\r\n      <div style=\"margin-top: -25px;\">\r\n        <el-table-header store>\r\n          <el-dropdown  type=\"success\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;float: right;margin-bottom: 10px;\">\r\n            <div class=\"avatar-wrapper\">\r\n              <el-button style=\"width: 90px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-upload\" size=\"medium\">\r\n                {{ $t('upload') }}\r\n                <i class=\"el-icon-caret-bottom\" />\r\n              </el-button>\r\n            </div>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item>\r\n                <span class=\"fake-file-btn\">\r\n                  {{ $t('upload_file') }}\r\n                  <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, globalPath)\" name=\"files\" multiple=\"true\">\r\n                </span>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item divided>\r\n                <span class=\"fake-file-btn\">\r\n                  {{ $t('upload_dir') }}\r\n                  <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, globalPath)\" name=\"files\" webkitdirectory mozdirectory accept=\"*/*\">\r\n                </span>\r\n              </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n          <el-dropdown type=\"primary\" class=\"el-upload avatar-container\" trigger=\"click\" style=\"height: 36px;float: right;margin-bottom: 10px;\">\r\n          <div class=\"avatar-wrapper\">\r\n            <el-button style=\"width: 120px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"primary\" round class=\"el-icon-download\" size=\"medium\">\r\n              {{ $t('bulk_download') }}\r\n              <i class=\"el-icon-caret-bottom\" />\r\n            </el-button>\r\n          </div>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item>\r\n              <span style=\"display:block;\" @click=\"bulkDownload(bulkPath, 'tar')\">TAR{{ $t('download') }}</span>\r\n            </el-dropdown-item>\r\n            <el-dropdown-item divided>\r\n              <span style=\"display:block;\" @click=\"bulkDownload(bulkPath, 'zip')\">ZIP{{ $t('download') }}</span>\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <ul>\r\n          <li style=\"float: left; margin-top: 10px; list-style: none;\" v-for=\"(item) in headerPaths\">\r\n            <a style=\"margin-right: 5px; font-size: 16px\" class=\"el-icon-folder-opened\" @click=\"openFileBrowser(null, item.path)\">{{item.name}}</a>\r\n          </li>\r\n        </ul>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;\r\n          <span style=\"float: left;\">\r\n            <el-button type=\"info\" style=\"padding: 3px;margin-top: 8px;\" icon=\"el-icon-refresh\" circle @click=\"openFileBrowser(null, path)\"></el-button>\r\n          </span>\r\n        </el-table-header>\r\n        <el-table\r\n            id=\"tableData\"\r\n            class=\"app-table\"\r\n            height=\"100%\"\r\n            border\r\n            style=\"width: 100%\"\r\n            size=\"100%\"\r\n            :cell-style=\"{padding:'6px 0'}\"\r\n            :data=\"fileBrowserData\"\r\n            @selection-change=\"handleSelectionChange\"\r\n            :default-sort=\"{prop: 'Name', order: 'ascending'}\">\r\n          <el-table-column type=\"selection\"></el-table-column>\r\n          <el-table-column\r\n            min-width=\"80px\"\r\n            prop=\"Name\"\r\n            :label=\"$t('name')\"\r\n            sortable\r\n            :sort-orders=\"['ascending', 'descending']\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <span class=\"el-icon-folder\"  v-if=\"scope.row.IsDir\" @click=\"openFileBrowser(null, scope.row.Path)\">&nbsp;&nbsp;{{scope.row.Name}}</span>\r\n              <span class=\"el-icon-files\" v-else>&nbsp;&nbsp;{{scope.row.Name}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"Size\"\r\n            width=\"100px\"\r\n            :label=\"$t('size')\"\r\n            sortable\r\n            :sort-orders=\"['ascending', 'descending']\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"Mode\"\r\n            width=\"100px\"\r\n            :label=\"$t('mode')\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"ModTime\"\r\n            :label=\"$t('mod_time')\"\r\n            sortable\r\n            :sort-orders=\"['ascending', 'descending']\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"Download\"\r\n            :label=\"$t('operate')\" align=\"center\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-dropdown v-if=\"scope.row.IsDir\" type=\"success\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\r\n                <div class=\"avatar-wrapper\">\r\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-upload\" size=\"medium\">\r\n                    {{ $t('upload') }}\r\n                    <i class=\"el-icon-caret-bottom\" />\r\n                  </el-button>\r\n                </div>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item>\r\n                    <span class=\"fake-file-btn\">\r\n                      {{ $t('upload_file') }}\r\n                      <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, scope.row.Path)\" name=\"files\" multiple=\"true\">\r\n                    </span>\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item divided>\r\n                    <span class=\"fake-file-btn\">\r\n                      {{ $t('upload_dir') }}\r\n                      <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, scope.row.Path)\" name=\"files\" webkitdirectory mozdirectory accept=\"*/*\">\r\n                    </span>\r\n                  </el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n              <span>\r\n                &nbsp;&nbsp;\r\n              </span>\r\n              <el-dropdown type=\"primary\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\r\n                <div class=\"avatar-wrapper\">\r\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"primary\" round class=\"el-icon-download\" size=\"medium\">\r\n                    {{ $t('download') }}\r\n                    <i class=\"el-icon-caret-bottom\" />\r\n                  </el-button>\r\n                </div>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item>\r\n                    <span style=\"display:block;\" @click=\"download(scope.row.Path, 'tar')\">TAR{{ $t('download') }}</span>\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item divided>\r\n                    <span style=\"display:block;\" @click=\"download(scope.row.Path, 'zip')\">ZIP{{ $t('download') }}</span>\r\n                  </el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-table-footer store>\r\n        </el-table-footer>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style>\r\n.fake-file-btn {\r\n}\r\n.fake-file-btn:active {\r\n  box-shadow: 0 1px 5px 1px rgba(0, 255, 255, 0.3) inset;\r\n}\r\n.fake-file-btn input[type=file] {\r\n  position: absolute;\r\n  font-size: 100px;\r\n  right: 0;\r\n  top: 0;\r\n  opacity: 0;\r\n  filter: alpha(opacity=0);\r\n  cursor: pointer\r\n}\r\n</style>\r\n\r\n<script>\r\nimport {GetStatus} from '../api/status'\r\nimport {GetNamespace} from '../api/namespaces'\r\nimport {GetDeployment} from \"../api/deployment\";\r\nimport {FileBrowser} from \"../api/filebrowser\";\r\nimport {FileOrDirUpload} from \"../api/upload\";\r\nimport { Terminal } from 'xterm'\r\nimport * as fit from 'xterm/lib/addons/fit/fit'\r\nimport { Base64 } from 'js-base64'\r\nimport * as webLinks from 'xterm/lib/addons/webLinks/webLinks'\r\nimport * as search from 'xterm/lib/addons/search/search'\r\nimport 'xterm/lib/addons/fullscreen/fullscreen.css'\r\nimport 'xterm/dist/xterm.css'\r\n\r\nconst defaultTheme = {\r\n  foreground: '#ffffff', // 字体\r\n  background: '#1b212f', // 背景色\r\n  cursor: '#ffffff', // 设置光标\r\n  selection: 'rgba(255, 255, 255, 0.3)',\r\n  black: '#000000',\r\n  brightBlack: '#808080',\r\n  red: '#ce2f2b',\r\n  brightRed: '#f44a47',\r\n  green: '#00b976',\r\n  brightGreen: '#05d289',\r\n  yellow: '#e0d500',\r\n  brightYellow: '#f4f628',\r\n  magenta: '#bd37bc',\r\n  brightMagenta: '#d86cd8',\r\n  blue: '#1d6fca',\r\n  brightBlue: '#358bed',\r\n  cyan: '#00a8cf',\r\n  brightCyan: '#19b8dd',\r\n  white: '#e5e5e5',\r\n  brightWhite: '#ffffff'\r\n}\r\nconst bindTerminalResize = (term, websocket) => {\r\n  const onTermResize = size => {\r\n    websocket.send(\r\n        Base64.encode(\r\n            JSON.stringify({\r\n              type: 'resize',\r\n              rows: size.rows,\r\n              cols: size.cols\r\n            })\r\n        )\r\n    )\r\n  }\r\n  // register resize event.\r\n  term.on('resize', onTermResize)\r\n  // unregister resize event when WebSocket closed.\r\n  websocket.addEventListener('close', function() {\r\n    term.off('resize', onTermResize)\r\n  })\r\n}\r\nconst bindTerminal = (term, websocket, bidirectional, bufferedTime) => {\r\n  term.socket = websocket\r\n  let messageBuffer = null\r\n  const handleWebSocketMessage = function(ev) {\r\n    if (bufferedTime && bufferedTime > 0) {\r\n      if (messageBuffer) {\r\n        messageBuffer += Base64.decode(ev.data)\r\n      } else {\r\n        messageBuffer = Base64.decode(ev.data)\r\n        setTimeout(function() {\r\n          term.write(messageBuffer)\r\n        }, bufferedTime)\r\n      }\r\n    } else {\r\n      term.write(Base64.decode(ev.data))\r\n    }\r\n  }\r\n  const handleTerminalData = function(data) {\r\n    websocket.send(\r\n        Base64.encode(\r\n            JSON.stringify({\r\n              type: 'input',\r\n              input: data\r\n            })\r\n        )\r\n    )\r\n  }\r\n  websocket.onmessage = handleWebSocketMessage\r\n  if (bidirectional) {\r\n    term.on('data', handleTerminalData)\r\n  }\r\n  // send heartbeat package to avoid closing webSocket connection in some proxy environmental such as nginx.\r\n  const heartBeatTimer = setInterval(function() {\r\n    websocket.send(\r\n        Base64.encode(\r\n            JSON.stringify({\r\n              type: 'heartbeat',\r\n              data: ''\r\n            })\r\n        )\r\n    )\r\n    // websocket.send('1')\r\n  }, 20 * 1000)\r\n  websocket.addEventListener('close', function() {\r\n    websocket.removeEventListener('message', handleWebSocketMessage)\r\n    term.off('data', handleTerminalData)\r\n    delete term.socket\r\n    clearInterval(heartBeatTimer)\r\n  })\r\n}\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      namespace: \"\",\r\n      deployment: [],\r\n      namespaces:[],\r\n      tableLoading: false,\r\n      tableData: [],\r\n      deployments: [],\r\n      fileBrowserData: [],\r\n      pods: \"\",\r\n      container:\"\",\r\n      path: \"\",\r\n      bulkPath: [],\r\n      globalPath: \"\",\r\n      headerPaths: [],\r\n      dialogTerminalVisible: false,\r\n      dialogFileBrowserVisible: false,\r\n      wsUrl: \"\",\r\n      isFullScreen: false,\r\n      searchKey: '',\r\n      v: this.visible,\r\n      ws: null,\r\n      term: null,\r\n      thisV: this.visible,\r\n    }\r\n  },\r\n  methods: {\r\n    getNamespace() {\r\n      GetNamespace().then(res =>{\r\n        if (res) {\r\n          this.namespaces=[]\r\n          this.deployment = []\r\n          this.deployments = []\r\n          this.tableData = []\r\n          const data = res.items\r\n          for(const key in data){\r\n            this.namespaces.push(data[key].metadata.name)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    selectedNamespace(options) {\r\n      GetDeployment({namespace: options}).then(res => {\r\n        if (res) {\r\n          const deployments=[]\r\n          this.deployments = []\r\n          this.tableData = []\r\n          const data = res.items\r\n          for(const key in data){\r\n            const _d = {label:data[key].metadata.name, value:data[key].metadata.name}\r\n            deployments.push(_d)\r\n          }\r\n          this.deployments = deployments\r\n        }\r\n      })\r\n    },\r\n    selecteddeployment(options) {\r\n    },\r\n    getStatus() {\r\n      let deployment = this.deployment\r\n      if (this.deployment[0] === \"all\") {\r\n        deployment = []\r\n        for (const key in this.deployments) {\r\n          deployment.push(this.deployments[key].value)\r\n        }\r\n      }\r\n      GetStatus({namespace: this.namespace, deployment:deployment}).then(res => {\r\n        if (res) {\r\n          this.tableData = []\r\n          for (const i in res) {\r\n            const pod_name =res[i].pod_name;\r\n            const cData = res[i].containers;\r\n            for (const j in cData) {\r\n              let tr = {\r\n                Pods:pod_name,\r\n                Container:cData[j].name,\r\n                Image:cData[j].image,\r\n                Tag:cData[j].version,\r\n                ImagePullSecrets:cData[j].image_pull_policy,\r\n                State:cData[j].state,\r\n                CPU:cData[j].cpu,\r\n                RAM:cData[j].ram,\r\n                OS: cData[j].os,\r\n              }\r\n              this.tableData.push(tr)\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    openTerminal(options, shell) {\r\n      this.dialogTerminalVisible = true\r\n      this.wsUrl = \"ws://\"+window.location.host+\"/api/k8s/terminal?namespace=\"+this.namespace+\"&pods=\"+options.Pods+\"&container=\"+options.Container+\"&shell=\"+shell;\r\n    },\r\n    openFileBrowser(options, path) {\r\n      if (path === undefined) {\r\n        path = \"/\"\r\n      }\r\n      if (path === \"/\" && options !== null) {\r\n        this.pods = options.Pods\r\n        this.container = options.Container\r\n      }\r\n      this.headerPaths = []\r\n      this.globalPath=path\r\n      this.headerPaths.push(path)\r\n      if (path !== undefined) {\r\n        let _p = path.split('/')\r\n        let _pa = \"\"\r\n        this.headerPaths = []\r\n        _p.forEach((item,index) => {\r\n          if (index === 0) {\r\n            _pa = \"/\"\r\n            item = \"/\"\r\n            this.headerPaths.push({\r\n              name: item,\r\n              path: _pa,\r\n            })\r\n          }\r\n          if (index !== 0 && item !== \"\") {\r\n            _pa += item + \"/\"\r\n            this.headerPaths.push({\r\n              name: item,\r\n              path: _pa,\r\n            })\r\n          }\r\n        })\r\n      }\r\n      this.path = path\r\n      this.fileBrowserData = []\r\n      FileBrowser({\r\n        namespace: this.namespace,\r\n        pods: this.pods,\r\n        container: this.container,\r\n        path: path,\r\n      }).then(res => {\r\n        this.dialogFileBrowserVisible = true\r\n        this.fileBrowserData = []\r\n        if (res !== undefined) {\r\n          this.fileBrowserData = res\r\n        }\r\n      }, err => {\r\n        alert(err.info.message)\r\n      })\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.bulkPath = []\r\n      val.forEach((item) => {\r\n        this.bulkPath.push(item.Path)\r\n      })\r\n    },\r\n    download(path, style) {\r\n      const url = \"/api/k8s/download?namespace=\"+this.namespace+\"&pod_name=\"+this.pods+\"&container_name=\"+this.container+\"&dest_path=\"+path+\"&style=\"+style;\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, true);        // 也可以使用POST方式，根据接口\r\n      xhr.responseType = \"blob\";    // 返回类型blob\r\n      xhr.setRequestHeader(\"Content-type\", \"application/json;charset=UTF-8\");\r\n      // 定义请求完成的处理函数，请求前也可以增加加载框/禁用下载按钮逻辑\r\n      xhr.onload = function () {\r\n        // 请求完成\r\n        if (this.status === 200) {\r\n          // 返回200\r\n          let content = xhr.response;\r\n          let eLink = document.createElement('a');\r\n          eLink.download = this.getResponseHeader('X-File-Name');\r\n          eLink.style.display = 'none';\r\n          let blob = new Blob([content]);\r\n          eLink.href = URL.createObjectURL(blob);\r\n          document.body.appendChild(eLink);\r\n          eLink.click();\r\n          document.body.removeChild(eLink);\r\n        }\r\n      };\r\n      // 发送ajax请求\r\n      xhr.send()\r\n    },\r\n    bulkDownload(paths, style) {\r\n      if (paths.length === 0) {\r\n        alert(this.$t('cannot_empty'))\r\n        return\r\n      }\r\n      let path = \"\"\r\n      paths.forEach(item => {\r\n        path += \"&dest_path=\"+item\r\n      })\r\n      const url = \"/api/k8s/download?namespace=\"+this.namespace+\"&pod_name=\"+this.pods+\"&container_name=\"+this.container+\"&dest_path=\"+path+\"&style=\"+style;\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, true);        // 也可以使用POST方式，根据接口\r\n      xhr.responseType = \"blob\";    // 返回类型blob\r\n      xhr.setRequestHeader(\"Content-type\", \"application/json;charset=UTF-8\");\r\n      // 定义请求完成的处理函数，请求前也可以增加加载框/禁用下载按钮逻辑\r\n      xhr.onload = function () {\r\n        // 请求完成\r\n        if (this.status === 200) {\r\n          // 返回200\r\n          let content = xhr.response;\r\n          let eLink = document.createElement('a');\r\n          eLink.download = this.getResponseHeader('X-File-Name');\r\n          eLink.style.display = 'none';\r\n          let blob = new Blob([content]);\r\n          eLink.href = URL.createObjectURL(blob);\r\n          document.body.appendChild(eLink);\r\n          eLink.click();\r\n          document.body.removeChild(eLink);\r\n        }\r\n      };\r\n      // 发送ajax请求\r\n      xhr.send()\r\n    },\r\n    uploadFileOrDir(e, path) {\r\n      const files = e.target.files;\r\n      if (files.length === 0 ) {\r\n        e.target.value = \"\"\r\n        return\r\n      }\r\n      const formData = new FormData();\r\n      //追加文件数据\r\n      for (let i = 0; i < files.length; i++) {\r\n        formData.append(\"files\", files[i]);\r\n      }\r\n      FileOrDirUpload(formData, {\r\n        namespace:this.namespace,\r\n        pod_name:this.pods,\r\n        container_name:this.container,\r\n        dest_path:path},{\"Content-Type\":\"multipart/form-data\"}).then((res) => {\r\n        if (res.failure !== undefined) {\r\n          alert(res.failure)\r\n        }else {\r\n          alert(res.success)\r\n        }\r\n      }, (err) => {\r\n        alert(err.info.message)\r\n      })\r\n      e.target.value = \"\"\r\n    },\r\n\r\n    onWindowResize() {\r\n      // console.log(\"resize\")\r\n      // this.term.fit() // it will make terminal resized.\r\n      // this.term.scrollToBottom();\r\n      let height = document.body.clientHeight;\r\n      let rows = height/23;\r\n      this.term.fit();\r\n      this.term.resize(this.term.cols,parseInt(rows))//终端窗口重新设置大小 并触发term.on(\"resize\"\r\n      this.term.scrollToBottom();\r\n    },\r\n    doLink(ev, url) {\r\n      if (ev.type === 'click') {\r\n        window.open(url)\r\n      }\r\n    },\r\n    doClose() {\r\n      window.removeEventListener('resize', this.onWindowResize)\r\n      // term.off(\"resize\", this.onTerminalResize);\r\n      if (this.ws) {\r\n        this.ws.close()\r\n      }\r\n      if (this.term) {\r\n        this.term.dispose()\r\n      }\r\n      this.$emit('pclose', false)// 子组件对openStatus修改后向父组件发送事件通知\r\n    },\r\n    doOpened() {\r\n      Terminal.applyAddon(fit)\r\n      Terminal.applyAddon(webLinks)\r\n      Terminal.applyAddon(search)\r\n      this.term = new Terminal({\r\n        rendererType: 'canvas', // 渲染类型\r\n        rows: parseInt(document.body.clientHeight/23),\r\n        cols: parseInt(document.body.clientWidth),\r\n        convertEol: true, // 启用时，光标将设置为下一行的开头\r\n        // scrollback: 10, // 终端中的回滚量\r\n        disableStdin: false, // 是否应禁用输入\r\n        fontSize: 18,\r\n        cursorBlink: true, // 光标闪烁\r\n        cursorStyle: 'bar', // 光标样式 underline\r\n        bellStyle: 'sound',\r\n        theme: defaultTheme\r\n      })\r\n      this.term._initialized = true\r\n      this.term.prompt = () => {\r\n        this.term.write('\\r\\n')\r\n      }\r\n      this.term.prompt()\r\n      this.term.on('key', function(key, ev) {\r\n        console.log(key, ev, ev.keyCode)\r\n      })\r\n      this.term.open(this.$refs.terminal)\r\n      this.term.webLinksInit(this.doLink)\r\n      // term.on(\"resize\", this.onTerminalResize);\r\n      this.term.on('resize', this.onWindowResize)\r\n      window.addEventListener('resize', this.onWindowResize)\r\n      this.term.fit() // first resizing\r\n      this.ws = new WebSocket(this.wsUrl)\r\n      this.ws.onerror = () => {\r\n        this.$message.error(this.$t('web_socker_connection_failed'))\r\n      }\r\n      this.ws.onclose = () => {\r\n        this.term.setOption('cursorBlink', false)\r\n        this.$message(this.$t('web_socket_disconnect'))\r\n      }\r\n      bindTerminal(this.term, this.ws, true, -1)\r\n      bindTerminalResize(this.term, this.ws)\r\n    }\r\n  },\r\n  watch:{\r\n    visible(val) {\r\n      this.v = val// 新增result的watch，监听变更并同步到myResult上\r\n    },\r\n    deployment:function(val,oldVal){\r\n      let index =  val.indexOf('all'),oldIndex =  oldVal.indexOf('all');\r\n      if(index!==-1 && oldIndex===-1 && val.length>1)\r\n        this.deployment=['all'];\r\n      else if(index!==-1 && oldIndex!==-1 && val.length>1)\r\n        this.deployment.splice(val.indexOf('all'),1)\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dashboard.vue?vue&type=template&id=1a458a5a&\"\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_COLOR = 256;\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n//# sourceMappingURL=Types.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = require(\"./EventEmitter\");\nvar CircularList = (function (_super) {\n    __extends(CircularList, _super);\n    function CircularList(_maxLength) {\n        var _this = _super.call(this) || this;\n        _this._maxLength = _maxLength;\n        _this._array = new Array(_this._maxLength);\n        _this._startIndex = 0;\n        _this._length = 0;\n        return _this;\n    }\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.emit('trim', 1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.emit('trim', 1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        if (items && items.length) {\n            for (var i = this._length - 1; i >= start; i--) {\n                this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n            }\n            for (var i = 0; i < items.length; i++) {\n                this._array[this._getCyclicIndex(start + i)] = items[i];\n            }\n            if (this._length + items.length > this._maxLength) {\n                var countToTrim = (this._length + items.length) - this._maxLength;\n                this._startIndex += countToTrim;\n                this._length = this._maxLength;\n                this.emit('trim', countToTrim);\n            }\n            else {\n                this._length += items.length;\n            }\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.emit('trim', count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.emit('trim', 1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}(EventEmitter_1.EventEmitter));\nexports.CircularList = CircularList;\n//# sourceMappingURL=CircularList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionStart\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionEnd\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n//# sourceMappingURL=SelectionModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        this._ctx = canvas.getContext('2d');\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (!css) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n//# sourceMappingURL=ColorManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, 'link', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.on(\"linkhover\", function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.on(\"linkleave\", function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n//# sourceMappingURL=LinkRenderLayer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar Charsets_1 = require(\"./core/data/Charsets\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EscapeSequenceParser_1 = require(\"./EscapeSequenceParser\");\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar RequestTerminfo = (function () {\n    function RequestTerminfo(_terminal) {\n        this._terminal = _terminal;\n    }\n    RequestTerminfo.prototype.hook = function (collect, params, flag) {\n        this._data = '';\n    };\n    RequestTerminfo.prototype.put = function (data, start, end) {\n        this._data += data.substring(start, end);\n    };\n    RequestTerminfo.prototype.unhook = function () {\n        this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0+r\" + this._data + EscapeSequences_1.C0.ESC + \"\\\\\");\n    };\n    return RequestTerminfo;\n}());\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = '';\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data += data.substring(start, end);\n    };\n    DECRQSS.prototype.unhook = function () {\n        switch (this._data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', this._data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + this._data + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this.register(_this._parser);\n        _this._surrogateFirst = '';\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        _this._parser.setDcsHandler('+q', new RequestTerminfo(_this._terminal));\n        return _this;\n    }\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._surrogateFirst) {\n            data = this._surrogateFirst + data;\n            this._surrogateFirst = '';\n        }\n        this._parser.parse(data);\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var char;\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttr;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var stringPosition = start; stringPosition < end; ++stringPosition) {\n            char = data.charAt(stringPosition);\n            code = data.charCodeAt(stringPosition);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++stringPosition >= end) {\n                    this._surrogateFirst = char;\n                    continue;\n                }\n                var second = data.charCodeAt(stringPosition);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                    char += data.charAt(stringPosition);\n                }\n                else {\n                    stringPosition--;\n                }\n            }\n            chWidth = CharWidth_1.wcwidth(code);\n            if (charset) {\n                char = charset[char] || char;\n                code = char.charCodeAt(0);\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', char);\n            }\n            if (!chWidth && buffer.x) {\n                var chMinusOne = bufferRow.get(buffer.x - 1);\n                if (chMinusOne) {\n                    if (!chMinusOne[Buffer_1.CHAR_DATA_WIDTH_INDEX]) {\n                        var chMinusTwo = bufferRow.get(buffer.x - 2);\n                        if (chMinusTwo) {\n                            chMinusTwo[Buffer_1.CHAR_DATA_CHAR_INDEX] += char;\n                            chMinusTwo[Buffer_1.CHAR_DATA_CODE_INDEX] = code;\n                            bufferRow.set(buffer.x - 2, chMinusTwo);\n                        }\n                    }\n                    else {\n                        chMinusOne[Buffer_1.CHAR_DATA_CHAR_INDEX] += char;\n                        chMinusOne[Buffer_1.CHAR_DATA_CODE_INDEX] = code;\n                        bufferRow.set(buffer.x - 1, chMinusOne);\n                    }\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, [curAttr, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n                var lastCell = bufferRow.get(cols - 1);\n                if (lastCell[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                    bufferRow.set(cols - 1, [curAttr, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n                }\n            }\n            bufferRow.set(buffer.x++, [curAttr, char, chWidth, code]);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.set(buffer.x++, [curAttr, '', 0, undefined]);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._terminal.emit('linefeed');\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._terminal.emit('scroll', 0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttr()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttr()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), line.get(buffer.x - 1) || [Buffer_1.DEFAULT_ATTR, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    this._terminal.element.classList.add('enable-mouse-events');\n                    this._terminal.selectionManager.disable();\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttr());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    this._terminal.element.classList.remove('enable-mouse-events');\n                    this._terminal.selectionManager.enable();\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttr = Buffer_1.DEFAULT_ATTR;\n            return;\n        }\n        var l = params.length;\n        var flags = this._terminal.curAttr >> 18;\n        var fg = (this._terminal.curAttr >> 9) & 0x1ff;\n        var bg = this._terminal.curAttr & 0x1ff;\n        var p;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                fg = p - 30;\n            }\n            else if (p >= 40 && p <= 47) {\n                bg = p - 40;\n            }\n            else if (p >= 90 && p <= 97) {\n                p += 8;\n                fg = p - 90;\n            }\n            else if (p >= 100 && p <= 107) {\n                p += 8;\n                bg = p - 100;\n            }\n            else if (p === 0) {\n                flags = Buffer_1.DEFAULT_ATTR >> 18;\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else if (p === 1) {\n                flags |= 1;\n            }\n            else if (p === 3) {\n                flags |= 64;\n            }\n            else if (p === 4) {\n                flags |= 2;\n            }\n            else if (p === 5) {\n                flags |= 4;\n            }\n            else if (p === 7) {\n                flags |= 8;\n            }\n            else if (p === 8) {\n                flags |= 16;\n            }\n            else if (p === 2) {\n                flags |= 32;\n            }\n            else if (p === 22) {\n                flags &= ~1;\n                flags &= ~32;\n            }\n            else if (p === 23) {\n                flags &= ~64;\n            }\n            else if (p === 24) {\n                flags &= ~2;\n            }\n            else if (p === 25) {\n                flags &= ~4;\n            }\n            else if (p === 27) {\n                flags &= ~8;\n            }\n            else if (p === 28) {\n                flags &= ~16;\n            }\n            else if (p === 39) {\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n            }\n            else if (p === 49) {\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    fg = this._terminal.matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                    if (fg === -1)\n                        fg = 0x1ff;\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    fg = p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    bg = this._terminal.matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                    if (bg === -1)\n                        bg = 0x1ff;\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    bg = p;\n                }\n            }\n            else if (p === 100) {\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n        this._terminal.curAttr = (flags << 18) | (fg << 9) | bg;\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttr = Buffer_1.DEFAULT_ATTR;\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect)\n            return;\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttr = this._terminal.curAttr;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttr = this._terminal.buffer.savedCurAttr || Buffer_1.DEFAULT_ATTR;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2)\n            return this.selectDefaultCharset();\n        if (collectAndFlag[0] === '/')\n            return;\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n//# sourceMappingURL=InputHandler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n//# sourceMappingURL=Lifecycle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n//# sourceMappingURL=GridCache.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar BufferSet = (function (_super) {\n    __extends(BufferSet, _super);\n    function BufferSet(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._normal = new Buffer_1.Buffer(_this._terminal, true);\n        _this._normal.fillViewportRows();\n        _this._alt = new Buffer_1.Buffer(_this._terminal, false);\n        _this._activeBuffer = _this._normal;\n        _this.setupTabStops();\n        return _this;\n    }\n    Object.defineProperty(BufferSet.prototype, \"alt\", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"active\", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this.emit('activate', {\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this.emit('activate', {\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}(EventEmitter_1.EventEmitter));\nexports.BufferSet = BufferSet;\n//# sourceMappingURL=BufferSet.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (this._resolutionMediaMatchList) {\n            this._resolutionMediaMatchList.removeListener(this._outerListener);\n        }\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._listener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._listener = null;\n        this._outerListener = null;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n//# sourceMappingURL=ScreenDprMonitor.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onThemeChanged = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._terminal.renderer.dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._terminal.renderer.dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n//# sourceMappingURL=Viewport.js.map"],"sourceRoot":""}